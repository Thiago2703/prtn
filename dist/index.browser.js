/*! For license information please see index.browser.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["mail-proton-api"]=t():e["mail-proton-api"]=t()}(self,(function(){return(()=>{var e={9669:(e,t,r)=>{e.exports=r(1609)},5448:(e,t,r)=>{"use strict";var n=r(4867),i=r(6026),a=r(4372),s=r(5327),o=r(4097),c=r(4109),u=r(7985),h=r(5061);e.exports=function(e){return new Promise((function(t,r){var f=e.data,l=e.headers;n.isFormData(f)&&delete l["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",y=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";l.Authorization="Basic "+btoa(p+":"+y)}var b=o(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),s(b,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?c(d.getAllResponseHeaders()):null,a={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:e,request:d};i(t,r,a),d=null}},d.onabort=function(){d&&(r(h("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){r(h("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(h(t,e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var g=(e.withCredentials||u(b))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;g&&(l[e.xsrfHeaderName]=g)}if("setRequestHeader"in d&&n.forEach(l,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete l[t]:d.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),r(e),d=null)})),f||(f=null),d.send(f)}))}},1609:(e,t,r)=>{"use strict";var n=r(4867),i=r(1849),a=r(321),s=r(7185);function o(e){var t=new a(e),r=i(a.prototype.request,t);return n.extend(r,a.prototype,t),n.extend(r,t),r}var c=o(r(5655));c.Axios=a,c.create=function(e){return o(s(c.defaults,e))},c.Cancel=r(5263),c.CancelToken=r(4972),c.isCancel=r(6502),c.all=function(e){return Promise.all(e)},c.spread=r(8713),c.isAxiosError=r(6268),e.exports=c,e.exports.default=c},5263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:(e,t,r)=>{"use strict";var n=r(5263);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,r)=>{"use strict";var n=r(4867),i=r(5327),a=r(782),s=r(3572),o=r(7185);function c(e){this.defaults=e,this.interceptors={request:new a,response:new a}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=o(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},c.prototype.getUri=function(e){return e=o(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,r){return this.request(o(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,r,n){return this.request(o(n||{},{method:e,url:t,data:r}))}})),e.exports=c},782:(e,t,r)=>{"use strict";var n=r(4867);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},4097:(e,t,r)=>{"use strict";var n=r(1793),i=r(7303);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},5061:(e,t,r)=>{"use strict";var n=r(481);e.exports=function(e,t,r,i,a){var s=new Error(e);return n(s,t,r,i,a)}},3572:(e,t,r)=>{"use strict";var n=r(4867),i=r(8527),a=r(6502),s=r(5655);function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return o(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return o(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(o(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},7185:(e,t,r)=>{"use strict";var n=r(4867);e.exports=function(e,t){t=t||{};var r={},i=["url","method","data"],a=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function c(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function u(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(r[i]=c(void 0,e[i])):r[i]=c(e[i],t[i])}n.forEach(i,(function(e){n.isUndefined(t[e])||(r[e]=c(void 0,t[e]))})),n.forEach(a,u),n.forEach(s,(function(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(r[i]=c(void 0,e[i])):r[i]=c(void 0,t[i])})),n.forEach(o,(function(n){n in t?r[n]=c(e[n],t[n]):n in e&&(r[n]=c(void 0,e[n]))}));var h=i.concat(a).concat(s).concat(o),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===h.indexOf(e)}));return n.forEach(f,u),r}},6026:(e,t,r)=>{"use strict";var n=r(5061);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},8527:(e,t,r)=>{"use strict";var n=r(4867);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},5655:(e,t,r)=>{"use strict";var n=r(4867),i=r(6016),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var o,c={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(o=r(5448)),o),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){c.headers[e]=n.merge(a)})),e.exports=c},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},5327:(e,t,r)=>{"use strict";var n=r(4867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else if(n.isURLSearchParams(t))a=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),a=s.join("&")}if(a){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,r)=>{"use strict";var n=r(4867);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,a,s){var o=[];o.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),n.isString(i)&&o.push("path="+i),n.isString(a)&&o.push("domain="+a),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},6268:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},7985:(e,t,r)=>{"use strict";var n=r(4867);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},6016:(e,t,r)=>{"use strict";var n=r(4867);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},4109:(e,t,r)=>{"use strict";var n=r(4867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,a,s={};return e?(n.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=n.trim(e.substr(0,a)).toLowerCase(),r=n.trim(e.substr(a+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}})),s):s}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4867:(e,t,r)=>{"use strict";var n=r(1849),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function s(e){return void 0===e}function o(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===i.call(e)}function h(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:o,isPlainObject:c,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return o(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:h,merge:function e(){var t={};function r(r,n){c(t[n])&&c(r)?t[n]=e(t[n],r):c(r)?t[n]=e({},r):a(r)?t[n]=r.slice():t[n]=r}for(var n=0,i=arguments.length;n<i;n++)h(arguments[n],r);return t},extend:function(e,t,r){return h(t,(function(t,i){e[i]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},9742:(e,t)=>{"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,a=c(e),s=a[0],o=a[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,o)),h=0,f=o>0?s-4:s;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[h++]=t>>16&255,u[h++]=t>>8&255,u[h++]=255&t;2===o&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[h++]=255&t);1===o&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[h++]=t>>8&255,u[h++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],s=16383,o=0,c=n-i;o<c;o+=s)a.push(u(e,o,o+s>c?c:o+s));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=a.length;s<o;++s)r[s]=a[s],n[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,n){for(var i,a,s=[],o=t;o<n;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},2418:function(e,t,r){var n,i,a;e=r.nmd(e),i=[],void 0===(a="function"==typeof(n=function(){"use strict";var t={},n=null;function i(t){if(e&&e.exports)try{return r(5995).randomBytes(t)}catch(e){}try{var i;return(self.crypto||self.msCrypto).getRandomValues(i=new Uint32Array(t)),Array.prototype.slice.call(i)}catch(e){}if(!n)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return n(t)}try{i(1)}catch(e){}function a(e,t){for(var r=0,n=0,i=0,a=e.length;i<a;++i)e.charCodeAt(i)===t.charCodeAt(i)?++r:++n;return!(r<0)&&0===n}n=null,t.setRandomFallback=function(e){n=e},t.genSaltSync=function(e,t){if("number"!=typeof(e=e||y))throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var r=[];return r.push("$2a$"),e<10&&r.push("0"),r.push(e.toString()),r.push("$"),r.push(f(i(p),p)),r.join("")},t.genSalt=function(e,r,n){if("function"==typeof r&&(n=r,r=void 0),"function"==typeof e&&(n=e,e=void 0),void 0===e)e=y;else if("number"!=typeof e)throw Error("illegal arguments: "+typeof e);function i(r){s((function(){try{r(null,t.genSaltSync(e))}catch(e){r(e)}}))}if(!n)return new Promise((function(e,t){i((function(r,n){r?t(r):e(n)}))}));if("function"!=typeof n)throw Error("Illegal callback: "+typeof n);i(n)},t.hashSync=function(e,r){if(void 0===r&&(r=y),"number"==typeof r&&(r=t.genSaltSync(r)),"string"!=typeof e||"string"!=typeof r)throw Error("Illegal arguments: "+typeof e+", "+typeof r);return x(e,r)},t.hash=function(e,r,n,i){function a(n){"string"==typeof e&&"number"==typeof r?t.genSalt(r,(function(t,r){x(e,r,n,i)})):"string"==typeof e&&"string"==typeof r?x(e,r,n,i):s(n.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof r)))}if(!n)return new Promise((function(e,t){a((function(r,n){r?t(r):e(n)}))}));if("function"!=typeof n)throw Error("Illegal callback: "+typeof n);a(n)},t.compareSync=function(e,r){if("string"!=typeof e||"string"!=typeof r)throw Error("Illegal arguments: "+typeof e+", "+typeof r);return 60===r.length&&a(t.hashSync(e,r.substr(0,r.length-31)),r)},t.compare=function(e,r,n,i){function o(n){"string"==typeof e&&"string"==typeof r?60===r.length?t.hash(e,r.substr(0,29),(function(e,t){e?n(e):n(null,a(t,r))}),i):s(n.bind(this,null,!1)):s(n.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof r)))}if(!n)return new Promise((function(e,t){o((function(r,n){r?t(r):e(n)}))}));if("function"!=typeof n)throw Error("Illegal callback: "+typeof n);o(n)},t.getRounds=function(e){if("string"!=typeof e)throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)},t.getSalt=function(e){if("string"!=typeof e)throw Error("Illegal arguments: "+typeof e);if(60!==e.length)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)};var s="undefined"!=typeof process&&process&&"function"==typeof process.nextTick?"function"==typeof setImmediate?setImmediate:process.nextTick:setTimeout;function o(e){var t=[],r=0;return d.encodeUTF16toUTF8((function(){return r>=e.length?null:e.charCodeAt(r++)}),(function(e){t.push(e)})),t}var c="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],h=String.fromCharCode;function f(e,t){var r,n,i=0,a=[];if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;i<t;){if(r=255&e[i++],a.push(c[r>>2&63]),r=(3&r)<<4,i>=t){a.push(c[63&r]);break}if(r|=(n=255&e[i++])>>4&15,a.push(c[63&r]),r=(15&n)<<2,i>=t){a.push(c[63&r]);break}r|=(n=255&e[i++])>>6&3,a.push(c[63&r]),a.push(c[63&n])}return a.join("")}function l(e,t){var r,n,i,a,s,o=0,c=e.length,f=0,l=[];if(t<=0)throw Error("Illegal len: "+t);for(;o<c-1&&f<t&&(r=(s=e.charCodeAt(o++))<u.length?u[s]:-1,n=(s=e.charCodeAt(o++))<u.length?u[s]:-1,-1!=r&&-1!=n)&&(a=r<<2>>>0,a|=(48&n)>>4,l.push(h(a)),!(++f>=t||o>=c))&&-1!=(i=(s=e.charCodeAt(o++))<u.length?u[s]:-1)&&(a=(15&n)<<4>>>0,a|=(60&i)>>2,l.push(h(a)),!(++f>=t||o>=c));)a=(3&i)<<6>>>0,a|=(s=e.charCodeAt(o++))<u.length?u[s]:-1,l.push(h(a)),++f;var d=[];for(o=0;o<f;o++)d.push(l[o].charCodeAt(0));return d}var d=function(){var e={MAX_CODEPOINT:1114111,encodeUTF8:function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<128?t(127&r):r<2048?(t(r>>6&31|192),t(63&r|128)):r<65536?(t(r>>12&15|224),t(r>>6&63|128),t(63&r|128)):(t(r>>18&7|240),t(r>>12&63|128),t(r>>6&63|128),t(63&r|128)),r=null},decodeUTF8:function(e,t){for(var r,n,i,a,s=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(r=e());)if(0==(128&r))t(r);else if(192==(224&r))null===(n=e())&&s([r,n]),t((31&r)<<6|63&n);else if(224==(240&r))(null===(n=e())||null===(i=e()))&&s([r,n,i]),t((15&r)<<12|(63&n)<<6|63&i);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(n=e())||null===(i=e())||null===(a=e()))&&s([r,n,i,a]),t((7&r)<<18|(63&n)<<12|(63&i)<<6|63&a)}},UTF16toUTF8:function(e,t){for(var r,n=null;null!==(r=null!==n?n:e());)r>=55296&&r<=57343&&null!==(n=e())&&n>=56320&&n<=57343?(t(1024*(r-55296)+n-56320+65536),n=null):t(r);null!==n&&t(n)},UTF8toUTF16:function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<=65535?t(r):(t(55296+((r-=65536)>>10)),t(r%1024+56320)),r=null},encodeUTF16toUTF8:function(t,r){e.UTF16toUTF8(t,(function(t){e.encodeUTF8(t,r)}))},decodeUTF8toUTF16:function(t,r){e.decodeUTF8(t,(function(t){e.UTF8toUTF16(t,r)}))},calculateCodePoint:function(e){return e<128?1:e<2048?2:e<65536?3:4},calculateUTF8:function(t){for(var r,n=0;null!==(r=t());)n+=e.calculateCodePoint(r);return n},calculateUTF16asUTF8:function(t){var r=0,n=0;return e.UTF16toUTF8(t,(function(t){++r,n+=e.calculateCodePoint(t)})),[r,n]}};return e}();Date.now=Date.now||function(){return+new Date};var p=16,y=10,b=16,g=100,m=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],w=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],v=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function _(e,t,r,n){var i,a=e[t],s=e[t+1];return i=n[(a^=r[0])>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i=n[(s^=(i+=n[768|255&a])^r[1])>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i=n[(a^=(i+=n[768|255&s])^r[2])>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i=n[(s^=(i+=n[768|255&a])^r[3])>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i=n[(a^=(i+=n[768|255&s])^r[4])>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i=n[(s^=(i+=n[768|255&a])^r[5])>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i=n[(a^=(i+=n[768|255&s])^r[6])>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i=n[(s^=(i+=n[768|255&a])^r[7])>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i=n[(a^=(i+=n[768|255&s])^r[8])>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i=n[(s^=(i+=n[768|255&a])^r[9])>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i=n[(a^=(i+=n[768|255&s])^r[10])>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i=n[(s^=(i+=n[768|255&a])^r[11])>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i=n[(a^=(i+=n[768|255&s])^r[12])>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i=n[(s^=(i+=n[768|255&a])^r[13])>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],i=n[(a^=(i+=n[768|255&s])^r[14])>>>24],i+=n[256|a>>16&255],i^=n[512|a>>8&255],i=n[(s^=(i+=n[768|255&a])^r[15])>>>24],i+=n[256|s>>16&255],i^=n[512|s>>8&255],a^=(i+=n[768|255&s])^r[16],e[t]=s^r[b+1],e[t+1]=a,e}function k(e,t){for(var r=0,n=0;r<4;++r)n=n<<8|255&e[t],t=(t+1)%e.length;return{key:n,offp:t}}function A(e,t,r){for(var n,i=0,a=[0,0],s=t.length,o=r.length,c=0;c<s;c++)i=(n=k(e,i)).offp,t[c]=t[c]^n.key;for(c=0;c<s;c+=2)a=_(a,0,t,r),t[c]=a[0],t[c+1]=a[1];for(c=0;c<o;c+=2)a=_(a,0,t,r),r[c]=a[0],r[c+1]=a[1]}function S(e,t,r,n){for(var i,a=0,s=[0,0],o=r.length,c=n.length,u=0;u<o;u++)a=(i=k(t,a)).offp,r[u]=r[u]^i.key;for(a=0,u=0;u<o;u+=2)a=(i=k(e,a)).offp,s[0]^=i.key,a=(i=k(e,a)).offp,s[1]^=i.key,s=_(s,0,r,n),r[u]=s[0],r[u+1]=s[1];for(u=0;u<c;u+=2)a=(i=k(e,a)).offp,s[0]^=i.key,a=(i=k(e,a)).offp,s[1]^=i.key,s=_(s,0,r,n),n[u]=s[0],n[u+1]=s[1]}function E(e,t,r,n,i){var a,o=v.slice(),c=o.length;if(r<4||r>31){if(a=Error("Illegal number of rounds (4-31): "+r),n)return void s(n.bind(this,a));throw a}if(t.length!==p){if(a=Error("Illegal salt length: "+t.length+" != "+p),n)return void s(n.bind(this,a));throw a}r=1<<r>>>0;var u,h,f,l=0;function d(){if(i&&i(l/r),!(l<r)){for(l=0;l<64;l++)for(f=0;f<c>>1;f++)_(o,f<<1,u,h);var a=[];for(l=0;l<c;l++)a.push((o[l]>>24&255)>>>0),a.push((o[l]>>16&255)>>>0),a.push((o[l]>>8&255)>>>0),a.push((255&o[l])>>>0);return n?void n(null,a):a}for(var p=Date.now();l<r&&(l+=1,A(e,u,h),A(t,u,h),!(Date.now()-p>g)););n&&s(d)}if(Int32Array?(u=new Int32Array(m),h=new Int32Array(w)):(u=m.slice(),h=w.slice()),S(t,e,u,h),void 0!==n)d();else for(var y;;)if(void 0!==(y=d()))return y||[]}function x(e,t,r,n){var i,a,c;if("string"!=typeof e||"string"!=typeof t){if(i=Error("Invalid string / salt: Not a string"),r)return void s(r.bind(this,i));throw i}if("$"!==t.charAt(0)||"2"!==t.charAt(1)){if(i=Error("Invalid salt version: "+t.substring(0,2)),r)return void s(r.bind(this,i));throw i}if("$"===t.charAt(2))a=String.fromCharCode(0),c=3;else{if("a"!==(a=t.charAt(2))&&"b"!==a&&"y"!==a||"$"!==t.charAt(3)){if(i=Error("Invalid salt revision: "+t.substring(2,4)),r)return void s(r.bind(this,i));throw i}c=4}if(t.charAt(c+2)>"$"){if(i=Error("Missing salt rounds"),r)return void s(r.bind(this,i));throw i}var u=10*parseInt(t.substring(c,c+1),10)+parseInt(t.substring(c+1,c+2),10),h=t.substring(c+3,c+25),d=o(e+=a>="a"?"\0":""),y=l(h,p);function b(e){var t=[];return t.push("$2"),a>="a"&&t.push(a),t.push("$"),u<10&&t.push("0"),t.push(u.toString()),t.push("$"),t.push(f(y,y.length)),t.push(f(e,4*v.length-1)),t.join("")}if(void 0===r)return b(E(d,y,u));E(d,y,u,(function(e,t){e?r(e,null):r(null,b(t))}),n)}return t.encodeBase64=f,t.decodeBase64=l,t})?n.apply(t,i):n)||(e.exports=a)},4431:function(e,t,r){var n;!function(i){"use strict";var a,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,c=Math.floor,u="[BigNumber Error] ",h=u+"Number primitive has more than 15 significant digits: ",f=1e14,l=14,d=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],y=1e7,b=1e9;function g(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,r,n=1,i=e.length,a=e[0]+"";n<i;){for(t=e[n++]+"",r=l-t.length;r--;t="0"+t);a+=t}for(i=a.length;48===a.charCodeAt(--i););return a.slice(0,i+1||1)}function w(e,t){var r,n,i=e.c,a=t.c,s=e.s,o=t.s,c=e.e,u=t.e;if(!s||!o)return null;if(r=i&&!i[0],n=a&&!a[0],r||n)return r?n?0:-o:s;if(s!=o)return s;if(r=s<0,n=c==u,!i||!a)return n?0:!i^r?1:-1;if(!n)return c>u^r?1:-1;for(o=(c=i.length)<(u=a.length)?c:u,s=0;s<o;s++)if(i[s]!=a[s])return i[s]>a[s]^r?1:-1;return c==u?0:c>u^r?1:-1}function v(e,t,r,n){if(e<t||e>r||e!==c(e))throw Error(u+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function _(e){var t=e.c.length-1;return g(e.e/l)==t&&e.c[t]%2!=0}function k(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function A(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(++t>(n=e.length)){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}(a=function e(t){var r,n,i,a,S,E,x,P,M,R,C=j.prototype={constructor:j,toString:null,valueOf:null},I=new j(1),B=20,U=4,D=-7,T=21,K=-1e7,O=1e7,z=!1,L=1,N=0,q={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},F="0123456789abcdefghijklmnopqrstuvwxyz";function j(e,t){var r,a,o,u,f,p,y,b,g=this;if(!(g instanceof j))return new j(e,t);if(null==t){if(e&&!0===e._isBigNumber)return g.s=e.s,void(!e.c||e.e>O?g.c=g.e=null:e.e<K?g.c=[g.e=0]:(g.e=e.e,g.c=e.c.slice()));if((p="number"==typeof e)&&0*e==0){if(g.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,f=e;f>=10;f/=10,u++);return void(u>O?g.c=g.e=null:(g.e=u,g.c=[e]))}b=String(e)}else{if(!s.test(b=String(e)))return i(g,b,p);g.s=45==b.charCodeAt(0)?(b=b.slice(1),-1):1}(u=b.indexOf("."))>-1&&(b=b.replace(".","")),(f=b.search(/e/i))>0?(u<0&&(u=f),u+=+b.slice(f+1),b=b.substring(0,f)):u<0&&(u=b.length)}else{if(v(t,2,F.length,"Base"),10==t)return V(g=new j(e),B+g.e+1,U);if(b=String(e),p="number"==typeof e){if(0*e!=0)return i(g,b,p,t);if(g.s=1/e<0?(b=b.slice(1),-1):1,j.DEBUG&&b.replace(/^0\.0*|\./,"").length>15)throw Error(h+e)}else g.s=45===b.charCodeAt(0)?(b=b.slice(1),-1):1;for(r=F.slice(0,t),u=f=0,y=b.length;f<y;f++)if(r.indexOf(a=b.charAt(f))<0){if("."==a){if(f>u){u=y;continue}}else if(!o&&(b==b.toUpperCase()&&(b=b.toLowerCase())||b==b.toLowerCase()&&(b=b.toUpperCase()))){o=!0,f=-1,u=0;continue}return i(g,String(e),p,t)}p=!1,(u=(b=n(b,t,10,g.s)).indexOf("."))>-1?b=b.replace(".",""):u=b.length}for(f=0;48===b.charCodeAt(f);f++);for(y=b.length;48===b.charCodeAt(--y););if(b=b.slice(f,++y)){if(y-=f,p&&j.DEBUG&&y>15&&(e>d||e!==c(e)))throw Error(h+g.s*e);if((u=u-f-1)>O)g.c=g.e=null;else if(u<K)g.c=[g.e=0];else{if(g.e=u,g.c=[],f=(u+1)%l,u<0&&(f+=l),f<y){for(f&&g.c.push(+b.slice(0,f)),y-=l;f<y;)g.c.push(+b.slice(f,f+=l));f=l-(b=b.slice(f)).length}else f-=y;for(;f--;b+="0");g.c.push(+b)}}else g.c=[g.e=0]}function W(e,t,r,n){var i,a,s,o,c;if(null==r?r=U:v(r,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)c=m(e.c),c=1==n||2==n&&(s<=D||s>=T)?k(c,s):A(c,s,"0");else if(a=(e=V(new j(e),t,r)).e,o=(c=m(e.c)).length,1==n||2==n&&(t<=a||a<=D)){for(;o<t;c+="0",o++);c=k(c,a)}else if(t-=s,c=A(c,a,"0"),a+1>o){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=a-o)>0)for(a+1==o&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function H(e,t){for(var r,n=1,i=new j(e[0]);n<e.length;n++){if(!(r=new j(e[n])).s){i=r;break}t.call(i,r)&&(i=r)}return i}function G(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+r*l-1)>O?e.c=e.e=null:r<K?e.c=[e.e=0]:(e.e=r,e.c=t),e}function V(e,t,r,n){var i,a,s,u,h,d,y,b=e.c,g=p;if(b){e:{for(i=1,u=b[0];u>=10;u/=10,i++);if((a=t-i)<0)a+=l,s=t,y=(h=b[d=0])/g[i-s-1]%10|0;else if((d=o((a+1)/l))>=b.length){if(!n)break e;for(;b.length<=d;b.push(0));h=y=0,i=1,s=(a%=l)-l+1}else{for(h=u=b[d],i=1;u>=10;u/=10,i++);y=(s=(a%=l)-l+i)<0?0:h/g[i-s-1]%10|0}if(n=n||t<0||null!=b[d+1]||(s<0?h:h%g[i-s-1]),n=r<4?(y||n)&&(0==r||r==(e.s<0?3:2)):y>5||5==y&&(4==r||n||6==r&&(a>0?s>0?h/g[i-s]:0:b[d-1])%10&1||r==(e.s<0?8:7)),t<1||!b[0])return b.length=0,n?(t-=e.e+1,b[0]=g[(l-t%l)%l],e.e=-t||0):b[0]=e.e=0,e;if(0==a?(b.length=d,u=1,d--):(b.length=d+1,u=g[l-a],b[d]=s>0?c(h/g[i-s]%g[s])*u:0),n)for(;;){if(0==d){for(a=1,s=b[0];s>=10;s/=10,a++);for(s=b[0]+=u,u=1;s>=10;s/=10,u++);a!=u&&(e.e++,b[0]==f&&(b[0]=1));break}if(b[d]+=u,b[d]!=f)break;b[d--]=0,u=1}for(a=b.length;0===b[--a];b.pop());}e.e>O?e.c=e.e=null:e.e<K&&(e.c=[e.e=0])}return e}function $(e){var t,r=e.e;return null===r?e.toString():(t=m(e.c),t=r<=D||r>=T?k(t,r):A(t,r,"0"),e.s<0?"-"+t:t)}return j.clone=e,j.ROUND_UP=0,j.ROUND_DOWN=1,j.ROUND_CEIL=2,j.ROUND_FLOOR=3,j.ROUND_HALF_UP=4,j.ROUND_HALF_DOWN=5,j.ROUND_HALF_EVEN=6,j.ROUND_HALF_CEIL=7,j.ROUND_HALF_FLOOR=8,j.EUCLID=9,j.config=j.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(u+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(v(r=e[t],0,b,t),B=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(v(r=e[t],0,8,t),U=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(v(r[0],-b,0,t),v(r[1],0,b,t),D=r[0],T=r[1]):(v(r,-b,b,t),D=-(T=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)v(r[0],-b,-1,t),v(r[1],1,b,t),K=r[0],O=r[1];else{if(v(r,-b,b,t),!r)throw Error(u+t+" cannot be zero: "+r);K=-(O=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(u+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw z=!r,Error(u+"crypto unavailable");z=r}else z=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(v(r=e[t],0,9,t),L=r),e.hasOwnProperty(t="POW_PRECISION")&&(v(r=e[t],0,b,t),N=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(u+t+" not an object: "+r);q=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(u+t+" invalid: "+r);F=r}}return{DECIMAL_PLACES:B,ROUNDING_MODE:U,EXPONENTIAL_AT:[D,T],RANGE:[K,O],CRYPTO:z,MODULO_MODE:L,POW_PRECISION:N,FORMAT:q,ALPHABET:F}},j.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!j.DEBUG)return!0;var t,r,n=e.c,i=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===a||-1===a)&&i>=-b&&i<=b&&i===c(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%l)<1&&(t+=l),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=f||r!==c(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(u+"Invalid BigNumber: "+e)},j.maximum=j.max=function(){return H(arguments,C.lt)},j.minimum=j.min=function(){return H(arguments,C.gt)},j.random=(a=9007199254740992,S=Math.random()*a&2097151?function(){return c(Math.random()*a)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,i,a,s=0,h=[],f=new j(I);if(null==e?e=B:v(e,0,b),i=o(e/l),z)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));s<i;)(a=131072*t[s]+(t[s+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[s]=r[0],t[s+1]=r[1]):(h.push(a%1e14),s+=2);s=i/2}else{if(!crypto.randomBytes)throw z=!1,Error(u+"crypto unavailable");for(t=crypto.randomBytes(i*=7);s<i;)(a=281474976710656*(31&t[s])+1099511627776*t[s+1]+4294967296*t[s+2]+16777216*t[s+3]+(t[s+4]<<16)+(t[s+5]<<8)+t[s+6])>=9e15?crypto.randomBytes(7).copy(t,s):(h.push(a%1e14),s+=7);s=i/7}if(!z)for(;s<i;)(a=S())<9e15&&(h[s++]=a%1e14);for(i=h[--s],e%=l,i&&e&&(a=p[l-e],h[s]=c(i/a)*a);0===h[s];h.pop(),s--);if(s<0)h=[n=0];else{for(n=-1;0===h[0];h.splice(0,1),n-=l);for(s=1,a=h[0];a>=10;a/=10,s++);s<l&&(n-=l-s)}return f.e=n,f.c=h,f}),j.sum=function(){for(var e=1,t=arguments,r=new j(t[0]);e<t.length;)r=r.plus(t[e++]);return r},n=function(){var e="0123456789";function t(e,t,r,n){for(var i,a,s=[0],o=0,c=e.length;o<c;){for(a=s.length;a--;s[a]*=t);for(s[0]+=n.indexOf(e.charAt(o++)),i=0;i<s.length;i++)s[i]>r-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/r|0,s[i]%=r)}return s.reverse()}return function(n,i,a,s,o){var c,u,h,f,l,d,p,y,b=n.indexOf("."),g=B,w=U;for(b>=0&&(f=N,N=0,n=n.replace(".",""),d=(y=new j(i)).pow(n.length-b),N=f,y.c=t(A(m(d.c),d.e,"0"),10,a,e),y.e=y.c.length),h=f=(p=t(n,i,a,o?(c=F,e):(c=e,F))).length;0==p[--f];p.pop());if(!p[0])return c.charAt(0);if(b<0?--h:(d.c=p,d.e=h,d.s=s,p=(d=r(d,y,g,w,a)).c,l=d.r,h=d.e),b=p[u=h+g+1],f=a/2,l=l||u<0||null!=p[u+1],l=w<4?(null!=b||l)&&(0==w||w==(d.s<0?3:2)):b>f||b==f&&(4==w||l||6==w&&1&p[u-1]||w==(d.s<0?8:7)),u<1||!p[0])n=l?A(c.charAt(1),-g,c.charAt(0)):c.charAt(0);else{if(p.length=u,l)for(--a;++p[--u]>a;)p[u]=0,u||(++h,p=[1].concat(p));for(f=p.length;!p[--f];);for(b=0,n="";b<=f;n+=c.charAt(p[b++]));n=A(n,h,c.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,i,a,s,o=0,c=e.length,u=t%y,h=t/y|0;for(e=e.slice();c--;)o=((i=u*(a=e[c]%y)+(n=h*a+(s=e[c]/y|0)*u)%y*y+o)/r|0)+(n/y|0)+h*s,e[c]=i%r;return o&&(e=[o].concat(e)),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,a,s,o){var u,h,d,p,y,b,m,w,v,_,k,A,S,E,x,P,M,R=n.s==i.s?1:-1,C=n.c,I=i.c;if(!(C&&C[0]&&I&&I[0]))return new j(n.s&&i.s&&(C?!I||C[0]!=I[0]:I)?C&&0==C[0]||!I?0*R:R/0:NaN);for(v=(w=new j(R)).c=[],R=a+(h=n.e-i.e)+1,o||(o=f,h=g(n.e/l)-g(i.e/l),R=R/l|0),d=0;I[d]==(C[d]||0);d++);if(I[d]>(C[d]||0)&&h--,R<0)v.push(1),p=!0;else{for(E=C.length,P=I.length,d=0,R+=2,(y=c(o/(I[0]+1)))>1&&(I=e(I,y,o),C=e(C,y,o),P=I.length,E=C.length),S=P,k=(_=C.slice(0,P)).length;k<P;_[k++]=0);M=I.slice(),M=[0].concat(M),x=I[0],I[1]>=o/2&&x++;do{if(y=0,(u=t(I,_,P,k))<0){if(A=_[0],P!=k&&(A=A*o+(_[1]||0)),(y=c(A/x))>1)for(y>=o&&(y=o-1),m=(b=e(I,y,o)).length,k=_.length;1==t(b,_,m,k);)y--,r(b,P<m?M:I,m,o),m=b.length,u=1;else 0==y&&(u=y=1),m=(b=I.slice()).length;if(m<k&&(b=[0].concat(b)),r(_,b,k,o),k=_.length,-1==u)for(;t(I,_,P,k)<1;)y++,r(_,P<k?M:I,k,o),k=_.length}else 0===u&&(y++,_=[0]);v[d++]=y,_[0]?_[k++]=C[S]||0:(_=[C[S]],k=1)}while((S++<E||null!=_[0])&&R--);p=null!=_[0],v[0]||v.splice(0,1)}if(o==f){for(d=1,R=v[0];R>=10;R/=10,d++);V(w,a+(w.e=d+h*l-1)+1,s,p)}else w.e=h,w.r=+p;return w}}(),E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,x=/^([^.]+)\.$/,P=/^\.([^.]+)$/,M=/^-?(Infinity|NaN)$/,R=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(e,t,r,n){var i,a=r?t:t.replace(R,"");if(M.test(a))e.s=isNaN(a)?null:a<0?-1:1;else{if(!r&&(a=a.replace(E,(function(e,t,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?e:t})),n&&(i=n,a=a.replace(x,"$1").replace(P,"0.$1")),t!=a))return new j(a,i);if(j.DEBUG)throw Error(u+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},C.absoluteValue=C.abs=function(){var e=new j(this);return e.s<0&&(e.s=1),e},C.comparedTo=function(e,t){return w(this,new j(e,t))},C.decimalPlaces=C.dp=function(e,t){var r,n,i,a=this;if(null!=e)return v(e,0,b),null==t?t=U:v(t,0,8),V(new j(a),e+a.e+1,t);if(!(r=a.c))return null;if(n=((i=r.length-1)-g(this.e/l))*l,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},C.dividedBy=C.div=function(e,t){return r(this,new j(e,t),B,U)},C.dividedToIntegerBy=C.idiv=function(e,t){return r(this,new j(e,t),0,1)},C.exponentiatedBy=C.pow=function(e,t){var r,n,i,a,s,h,f,d,p=this;if((e=new j(e)).c&&!e.isInteger())throw Error(u+"Exponent not an integer: "+$(e));if(null!=t&&(t=new j(t)),s=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return d=new j(Math.pow(+$(p),s?2-_(e):+$(e))),t?d.mod(t):d;if(h=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new j(NaN);(n=!h&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||s&&p.c[1]>=24e7:p.c[0]<8e13||s&&p.c[0]<=9999975e7)))return a=p.s<0&&_(e)?-0:0,p.e>-1&&(a=1/a),new j(h?1/a:a);N&&(a=o(N/l+2))}for(s?(r=new j(.5),h&&(e.s=1),f=_(e)):f=(i=Math.abs(+$(e)))%2,d=new j(I);;){if(f){if(!(d=d.times(p)).c)break;a?d.c.length>a&&(d.c.length=a):n&&(d=d.mod(t))}if(i){if(0===(i=c(i/2)))break;f=i%2}else if(V(e=e.times(r),e.e+1,1),e.e>14)f=_(e);else{if(0===(i=+$(e)))break;f=i%2}p=p.times(p),a?p.c&&p.c.length>a&&(p.c.length=a):n&&(p=p.mod(t))}return n?d:(h&&(d=I.div(d)),t?d.mod(t):a?V(d,N,U,undefined):d)},C.integerValue=function(e){var t=new j(this);return null==e?e=U:v(e,0,8),V(t,t.e+1,e)},C.isEqualTo=C.eq=function(e,t){return 0===w(this,new j(e,t))},C.isFinite=function(){return!!this.c},C.isGreaterThan=C.gt=function(e,t){return w(this,new j(e,t))>0},C.isGreaterThanOrEqualTo=C.gte=function(e,t){return 1===(t=w(this,new j(e,t)))||0===t},C.isInteger=function(){return!!this.c&&g(this.e/l)>this.c.length-2},C.isLessThan=C.lt=function(e,t){return w(this,new j(e,t))<0},C.isLessThanOrEqualTo=C.lte=function(e,t){return-1===(t=w(this,new j(e,t)))||0===t},C.isNaN=function(){return!this.s},C.isNegative=function(){return this.s<0},C.isPositive=function(){return this.s>0},C.isZero=function(){return!!this.c&&0==this.c[0]},C.minus=function(e,t){var r,n,i,a,s=this,o=s.s;if(t=(e=new j(e,t)).s,!o||!t)return new j(NaN);if(o!=t)return e.s=-t,s.plus(e);var c=s.e/l,u=e.e/l,h=s.c,d=e.c;if(!c||!u){if(!h||!d)return h?(e.s=-t,e):new j(d?s:NaN);if(!h[0]||!d[0])return d[0]?(e.s=-t,e):new j(h[0]?s:3==U?-0:0)}if(c=g(c),u=g(u),h=h.slice(),o=c-u){for((a=o<0)?(o=-o,i=h):(u=c,i=d),i.reverse(),t=o;t--;i.push(0));i.reverse()}else for(n=(a=(o=h.length)<(t=d.length))?o:t,o=t=0;t<n;t++)if(h[t]!=d[t]){a=h[t]<d[t];break}if(a&&(i=h,h=d,d=i,e.s=-e.s),(t=(n=d.length)-(r=h.length))>0)for(;t--;h[r++]=0);for(t=f-1;n>o;){if(h[--n]<d[n]){for(r=n;r&&!h[--r];h[r]=t);--h[r],h[n]+=f}h[n]-=d[n]}for(;0==h[0];h.splice(0,1),--u);return h[0]?G(e,h,u):(e.s=3==U?-1:1,e.c=[e.e=0],e)},C.modulo=C.mod=function(e,t){var n,i,a=this;return e=new j(e,t),!a.c||!e.s||e.c&&!e.c[0]?new j(NaN):!e.c||a.c&&!a.c[0]?new j(a):(9==L?(i=e.s,e.s=1,n=r(a,e,0,3),e.s=i,n.s*=i):n=r(a,e,0,L),(e=a.minus(n.times(e))).c[0]||1!=L||(e.s=a.s),e)},C.multipliedBy=C.times=function(e,t){var r,n,i,a,s,o,c,u,h,d,p,b,m,w,v,_=this,k=_.c,A=(e=new j(e,t)).c;if(!(k&&A&&k[0]&&A[0]))return!_.s||!e.s||k&&!k[0]&&!A||A&&!A[0]&&!k?e.c=e.e=e.s=null:(e.s*=_.s,k&&A?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=g(_.e/l)+g(e.e/l),e.s*=_.s,(c=k.length)<(d=A.length)&&(m=k,k=A,A=m,i=c,c=d,d=i),i=c+d,m=[];i--;m.push(0));for(w=f,v=y,i=d;--i>=0;){for(r=0,p=A[i]%v,b=A[i]/v|0,a=i+(s=c);a>i;)r=((u=p*(u=k[--s]%v)+(o=b*u+(h=k[s]/v|0)*p)%v*v+m[a]+r)/w|0)+(o/v|0)+b*h,m[a--]=u%w;m[a]=r}return r?++n:m.splice(0,1),G(e,m,n)},C.negated=function(){var e=new j(this);return e.s=-e.s||null,e},C.plus=function(e,t){var r,n=this,i=n.s;if(t=(e=new j(e,t)).s,!i||!t)return new j(NaN);if(i!=t)return e.s=-t,n.minus(e);var a=n.e/l,s=e.e/l,o=n.c,c=e.c;if(!a||!s){if(!o||!c)return new j(i/0);if(!o[0]||!c[0])return c[0]?e:new j(o[0]?n:0*i)}if(a=g(a),s=g(s),o=o.slice(),i=a-s){for(i>0?(s=a,r=c):(i=-i,r=o),r.reverse();i--;r.push(0));r.reverse()}for((i=o.length)-(t=c.length)<0&&(r=c,c=o,o=r,t=i),i=0;t;)i=(o[--t]=o[t]+c[t]+i)/f|0,o[t]=f===o[t]?0:o[t]%f;return i&&(o=[i].concat(o),++s),G(e,o,s)},C.precision=C.sd=function(e,t){var r,n,i,a=this;if(null!=e&&e!==!!e)return v(e,1,b),null==t?t=U:v(t,0,8),V(new j(a),e,t);if(!(r=a.c))return null;if(n=(i=r.length-1)*l+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&a.e+1>n&&(n=a.e+1),n},C.shiftedBy=function(e){return v(e,-9007199254740991,d),this.times("1e"+e)},C.squareRoot=C.sqrt=function(){var e,t,n,i,a,s=this,o=s.c,c=s.s,u=s.e,h=B+4,f=new j("0.5");if(1!==c||!o||!o[0])return new j(!c||c<0&&(!o||o[0])?NaN:o?s:1/0);if(0==(c=Math.sqrt(+$(s)))||c==1/0?(((t=m(o)).length+u)%2==0&&(t+="0"),c=Math.sqrt(+t),u=g((u+1)/2)-(u<0||u%2),n=new j(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new j(c+""),n.c[0])for((c=(u=n.e)+h)<3&&(c=0);;)if(a=n,n=f.times(a.plus(r(s,a,h,1))),m(a.c).slice(0,c)===(t=m(n.c)).slice(0,c)){if(n.e<u&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(V(n,n.e+B+2,1),e=!n.times(n).eq(s));break}if(!i&&(V(a,a.e+B+2,0),a.times(a).eq(s))){n=a;break}h+=4,c+=4,i=1}return V(n,n.e+B+1,U,e)},C.toExponential=function(e,t){return null!=e&&(v(e,0,b),e++),W(this,e,t,1)},C.toFixed=function(e,t){return null!=e&&(v(e,0,b),e=e+this.e+1),W(this,e,t)},C.toFormat=function(e,t,r){var n,i=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=q;else if("object"!=typeof r)throw Error(u+"Argument not an object: "+r);if(n=i.toFixed(e,t),i.c){var a,s=n.split("."),o=+r.groupSize,c=+r.secondaryGroupSize,h=r.groupSeparator||"",f=s[0],l=s[1],d=i.s<0,p=d?f.slice(1):f,y=p.length;if(c&&(a=o,o=c,c=a,y-=a),o>0&&y>0){for(a=y%o||o,f=p.substr(0,a);a<y;a+=o)f+=h+p.substr(a,o);c>0&&(f+=h+p.slice(a)),d&&(f="-"+f)}n=l?f+(r.decimalSeparator||"")+((c=+r.fractionGroupSize)?l.replace(new RegExp("\\d{"+c+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):l):f}return(r.prefix||"")+n+(r.suffix||"")},C.toFraction=function(e){var t,n,i,a,s,o,c,h,f,d,y,b,g=this,w=g.c;if(null!=e&&(!(c=new j(e)).isInteger()&&(c.c||1!==c.s)||c.lt(I)))throw Error(u+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+$(c));if(!w)return new j(g);for(t=new j(I),f=n=new j(I),i=h=new j(I),b=m(w),s=t.e=b.length-g.e-1,t.c[0]=p[(o=s%l)<0?l+o:o],e=!e||c.comparedTo(t)>0?s>0?t:f:c,o=O,O=1/0,c=new j(b),h.c[0]=0;d=r(c,t,0,1),1!=(a=n.plus(d.times(i))).comparedTo(e);)n=i,i=a,f=h.plus(d.times(a=f)),h=a,t=c.minus(d.times(a=t)),c=a;return a=r(e.minus(n),i,0,1),h=h.plus(a.times(f)),n=n.plus(a.times(i)),h.s=f.s=g.s,y=r(f,i,s*=2,U).minus(g).abs().comparedTo(r(h,n,s,U).minus(g).abs())<1?[f,i]:[h,n],O=o,y},C.toNumber=function(){return+$(this)},C.toPrecision=function(e,t){return null!=e&&v(e,1,b),W(this,e,t,2)},C.toString=function(e){var t,r=this,i=r.s,a=r.e;return null===a?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=a<=D||a>=T?k(m(r.c),a):A(m(r.c),a,"0"):10===e?t=A(m((r=V(new j(r),B+a+1,U)).c),r.e,"0"):(v(e,2,F.length,"Base"),t=n(A(m(r.c),a,"0"),10,e,i,!0)),i<0&&r.c[0]&&(t="-"+t)),t},C.valueOf=C.toJSON=function(){return $(this)},C._isBigNumber=!0,null!=t&&j.set(t),j}()).default=a.BigNumber=a,void 0===(n=function(){return a}.call(t,r,t,e))||(e.exports=n)}()},8764:(e,t,r)=>{"use strict";const n=r(9742),i=r(645),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function o(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|y(e,t);let n=o(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||X(e.length)?o(0):l(e);if("Buffer"===e.type&&Array.isArray(e.data))return l(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return h(e),o(e<0?0:0|p(e))}function l(e){const t=e.length<0?0:0|p(e.length),r=o(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function y(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(i)return n?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function b(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return x(this,t,r);case"ascii":return M(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return E(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let a,s=1,o=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,o/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(a=r;a<o;a++)if(u(e,a)===u(t,-1===n?0:a-n)){if(-1===n&&(n=a),a-n+1===c)return n*s}else-1!==n&&(a-=a-n),n=-1}else for(r+c>o&&(r=o-c),a=r;a>=0;a--){let r=!0;for(let n=0;n<c;n++)if(u(e,a+n)!==u(t,n)){r=!1;break}if(r)return a}return-1}function v(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const a=t.length;let s;for(n>a/2&&(n=a/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(X(n))return s;e[r+s]=n}return s}function _(e,t,r,n){return $(G(t,e.length-r),e,r,n)}function k(e,t,r,n){return $(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function A(e,t,r,n){return $(V(t),e,r,n)}function S(e,t,r,n){return $(function(e,t){let r,n,i;const a=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function E(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function x(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let a=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,o,c;switch(s){case 1:t<128&&(a=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(a=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:r=e[i+1],n=e[i+2],o=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&o)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&o,c>65535&&c<1114112&&(a=c))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return function(e){const t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=P));return r}(n)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return h(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},c.allocUnsafe=function(e){return f(e)},c.allocUnsafeSlow=function(e){return f(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?x(this,0,e):b.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let a=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const o=Math.min(a,s),u=this.slice(n,i),h=e.slice(t,r);for(let e=0;e<o;++e)if(u[e]!==h[e]){a=u[e],s=h[e];break}return a<s?-1:s<a?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let a=!1;for(;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return k(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const P=4096;function M(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function R(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function C(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=Z[e[n]];return i}function I(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function B(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,r,n,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function D(e,t,r,n,i){F(t,n,i,e,r,7);let a=Number(t&BigInt(4294967295));e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function T(e,t,r,n,i){F(t,n,i,e,r,7);let a=Number(t&BigInt(4294967295));e[r+7]=a,a>>=8,e[r+6]=a,a>>=8,e[r+5]=a,a>>=8,e[r+4]=a;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function K(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function O(e,t,r,n,a){return t=+t,r>>>=0,a||K(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function z(e,t,r,n,a){return t=+t,r>>>=0,a||K(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=J((function(e){j(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=J((function(e){j(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);let n=t,i=1,a=this[e+--n];for(;n>0&&(i*=256);)a+=this[e+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=J((function(e){j(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=J((function(e){j(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){U(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){U(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=J((function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=J((function(e,t=0){return T(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);U(this,e,t,r,n-1,-n)}let i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);U(this,e,t,r,n-1,-n)}let i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=J((function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=J((function(e,t=0){return T(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return O(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return O(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return z(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return z(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const a=c.isBuffer(e)?e:c.from(e,n),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};const L={};function N(e,t,r){L[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function q(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function F(e,t,r,n,i,a){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=a>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(a+1)}${n}`:`>= -(2${n} ** ${8*(a+1)-1}${n}) and < 2 ** ${8*(a+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new L.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){j(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||W(t,e.length-(r+1))}(n,i,a)}function j(e,t){if("number"!=typeof e)throw new L.ERR_INVALID_ARG_TYPE(t,"number",e)}function W(e,t,r){if(Math.floor(e)!==e)throw j(e,r),new L.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new L.ERR_BUFFER_OUT_OF_BOUNDS;throw new L.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}N("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),N("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),N("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=q(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=q(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function G(e,t){let r;t=t||1/0;const n=e.length;let i=null;const a=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function V(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function J(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},1027:(e,t,r)=>{var n=r(9509).Buffer,i=r(2263).Transform,a=r(2553).s;function s(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(5717)(s,i),s.prototype.update=function(e,t,r){"string"==typeof e&&(e=n.from(e,t));var i=this._update(e);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},s.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},s.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},s.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new a(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},e.exports=s},3482:(e,t,r)=>{"use strict";var n=r(5717),i=r(2318),a=r(9785),s=r(9072),o=r(1027);function c(e){o.call(this,"digest"),this._hash=e}n(c,o),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new a:new c(s(e))}},7187:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,a),n(r)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}y(e,t,a,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&y(e,"error",t,r)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var i,a,s,u;if(o(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]),void 0===s)s=a[t]=r,++e._eventsCount;else if("function"==typeof s?s=a[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=e,h.type=t,h.count=s.length,u=h,console&&console.warn&&console.warn(u)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=h.bind(n);return i.listener=r,n.wrapFn=i,i}function l(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){n.once&&e.removeEventListener(t,i),r(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var c=a[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var u=c.length,h=p(c,u);for(r=0;r<u;++r)n(h[r],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return o(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,a,s;if(o(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){s=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(i=a[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return l(this,e,!0)},a.prototype.rawListeners=function(e){return l(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},a.prototype.listenerCount=d,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},3349:(e,t,r)=>{"use strict";var n=r(9509).Buffer,i=r(8473).Transform;function a(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(5717)(a,i),a.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},a.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},a.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)r[a++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var s=0,o=8*e.length;o>0;++s)this._length[s]+=o,(o=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*o);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},a.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=a},645:(e,t)=>{t.read=function(e,t,r,n,i){var a,s,o=8*i-n-1,c=(1<<o)-1,u=c>>1,h=-7,f=r?i-1:0,l=r?-1:1,d=e[t+f];for(f+=l,a=d&(1<<-h)-1,d>>=-h,h+=o;h>0;a=256*a+e[t+f],f+=l,h-=8);for(s=a&(1<<-h)-1,a>>=-h,h+=n;h>0;s=256*s+e[t+f],f+=l,h-=8);if(0===a)a=1-u;else{if(a===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),a-=u}return(d?-1:1)*s*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var s,o,c,u=8*a-i-1,h=(1<<u)-1,f=h>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+f>=1?l/c:l*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=h?(o=0,s=h):s+f>=1?(o=(t*c-1)*Math.pow(2,i),s+=f):(o=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&o,d+=p,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;e[r+d]=255&s,d+=p,s/=256,u-=8);e[r+d-p]|=128*y}},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},2318:(e,t,r)=>{"use strict";var n=r(5717),i=r(3349),a=r(9509).Buffer,s=new Array(16);function o(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function u(e,t,r,n,i,a,s){return c(e+(t&r|~t&n)+i+a|0,s)+t|0}function h(e,t,r,n,i,a,s){return c(e+(t&n|r&~n)+i+a|0,s)+t|0}function f(e,t,r,n,i,a,s){return c(e+(t^r^n)+i+a|0,s)+t|0}function l(e,t,r,n,i,a,s){return c(e+(r^(t|~n))+i+a|0,s)+t|0}n(o,i),o.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,a=this._d;r=u(r,n,i,a,e[0],3614090360,7),a=u(a,r,n,i,e[1],3905402710,12),i=u(i,a,r,n,e[2],606105819,17),n=u(n,i,a,r,e[3],3250441966,22),r=u(r,n,i,a,e[4],4118548399,7),a=u(a,r,n,i,e[5],1200080426,12),i=u(i,a,r,n,e[6],2821735955,17),n=u(n,i,a,r,e[7],4249261313,22),r=u(r,n,i,a,e[8],1770035416,7),a=u(a,r,n,i,e[9],2336552879,12),i=u(i,a,r,n,e[10],4294925233,17),n=u(n,i,a,r,e[11],2304563134,22),r=u(r,n,i,a,e[12],1804603682,7),a=u(a,r,n,i,e[13],4254626195,12),i=u(i,a,r,n,e[14],2792965006,17),r=h(r,n=u(n,i,a,r,e[15],1236535329,22),i,a,e[1],4129170786,5),a=h(a,r,n,i,e[6],3225465664,9),i=h(i,a,r,n,e[11],643717713,14),n=h(n,i,a,r,e[0],3921069994,20),r=h(r,n,i,a,e[5],3593408605,5),a=h(a,r,n,i,e[10],38016083,9),i=h(i,a,r,n,e[15],3634488961,14),n=h(n,i,a,r,e[4],3889429448,20),r=h(r,n,i,a,e[9],568446438,5),a=h(a,r,n,i,e[14],3275163606,9),i=h(i,a,r,n,e[3],4107603335,14),n=h(n,i,a,r,e[8],1163531501,20),r=h(r,n,i,a,e[13],2850285829,5),a=h(a,r,n,i,e[2],4243563512,9),i=h(i,a,r,n,e[7],1735328473,14),r=f(r,n=h(n,i,a,r,e[12],2368359562,20),i,a,e[5],4294588738,4),a=f(a,r,n,i,e[8],2272392833,11),i=f(i,a,r,n,e[11],1839030562,16),n=f(n,i,a,r,e[14],4259657740,23),r=f(r,n,i,a,e[1],2763975236,4),a=f(a,r,n,i,e[4],1272893353,11),i=f(i,a,r,n,e[7],4139469664,16),n=f(n,i,a,r,e[10],3200236656,23),r=f(r,n,i,a,e[13],681279174,4),a=f(a,r,n,i,e[0],3936430074,11),i=f(i,a,r,n,e[3],3572445317,16),n=f(n,i,a,r,e[6],76029189,23),r=f(r,n,i,a,e[9],3654602809,4),a=f(a,r,n,i,e[12],3873151461,11),i=f(i,a,r,n,e[15],530742520,16),r=l(r,n=f(n,i,a,r,e[2],3299628645,23),i,a,e[0],4096336452,6),a=l(a,r,n,i,e[7],1126891415,10),i=l(i,a,r,n,e[14],2878612391,15),n=l(n,i,a,r,e[5],4237533241,21),r=l(r,n,i,a,e[12],1700485571,6),a=l(a,r,n,i,e[3],2399980690,10),i=l(i,a,r,n,e[10],4293915773,15),n=l(n,i,a,r,e[1],2240044497,21),r=l(r,n,i,a,e[8],1873313359,6),a=l(a,r,n,i,e[15],4264355552,10),i=l(i,a,r,n,e[6],2734768916,15),n=l(n,i,a,r,e[13],1309151649,21),r=l(r,n,i,a,e[4],4149444226,6),a=l(a,r,n,i,e[11],3174756917,10),i=l(i,a,r,n,e[2],718787259,15),n=l(n,i,a,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+a|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=a.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=o},8599:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AEADEncryptedDataPacket:()=>so,CleartextMessage:()=>hc,CompressedDataPacket:()=>Ys,LiteralDataPacket:()=>Ds,MarkerPacket:()=>po,Message:()=>ic,OnePassSignaturePacket:()=>Hs,PacketList:()=>Vs,PrivateKey:()=>$o,PublicKey:()=>Vo,PublicKeyEncryptedSessionKeyPacket:()=>oo,PublicKeyPacket:()=>ho,PublicSubkeyPacket:()=>yo,SecretKeyPacket:()=>go,SecretSubkeyPacket:()=>_o,Signature:()=>So,SignaturePacket:()=>js,SymEncryptedIntegrityProtectedDataPacket:()=>io,SymEncryptedSessionKeyPacket:()=>uo,SymmetricallyEncryptedDataPacket:()=>lo,TrustPacket:()=>ko,UserAttributePacket:()=>bo,UserIDPacket:()=>vo,armor:()=>pe,config:()=>ae,createCleartextMessage:()=>lc,createMessage:()=>cc,decrypt:()=>wc,decryptKey:()=>bc,decryptSessionKeys:()=>Sc,encrypt:()=>mc,encryptKey:()=>gc,encryptSessionKey:()=>Ac,enums:()=>ie,generateKey:()=>dc,generateSessionKey:()=>kc,readCleartextMessage:()=>fc,readKey:()=>Zo,readKeys:()=>Qo,readMessage:()=>oc,readPrivateKey:()=>Jo,readPrivateKeys:()=>ec,readSignature:()=>Eo,reformatKey:()=>pc,revokeKey:()=>yc,sign:()=>vc,unarmor:()=>de,verify:()=>_c});const n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i=Symbol("doneWritingPromise"),a=Symbol("doneWritingResolve"),s=Symbol("doneWritingReject");class o extends Array{constructor(){super(),this[i]=new Promise(((e,t)=>{this[a]=e,this[s]=t})),this[i].catch((()=>{}))}}function c(e){return e&&e.getReader&&Array.isArray(e)}function u(e){if(!c(e)){const t=e.getWriter(),r=t.releaseLock;return t.releaseLock=()=>{t.closed.catch((function(){})),r.call(t)},t}this.stream=e}o.prototype.getReader=function(){return{read:async()=>(await this[i],this.length?{value:this.shift(),done:!1}:{value:void 0,done:!0})}},u.prototype.write=async function(e){this.stream.push(e)},u.prototype.close=async function(){this.stream[a]()},u.prototype.abort=async function(e){return this.stream[s](e),e},u.prototype.releaseLock=function(){};const h="object"==typeof n.process&&"object"==typeof n.process.versions,f=h&&void 0;function l(e){return c(e)?"array":n.ReadableStream&&n.ReadableStream.prototype.isPrototypeOf(e)?"web":S&&S.prototype.isPrototypeOf(e)?"ponyfill":f&&f.prototype.isPrototypeOf(e)?"node":!(!e||!e.getReader)&&"web-like"}function d(e){return Uint8Array.prototype.isPrototypeOf(e)}function p(e){if(1===e.length)return e[0];let t=0;for(let r=0;r<e.length;r++){if(!d(e[r]))throw Error("concatUint8Array: Data must be in the form of a Uint8Array");t+=e[r].length}const r=new Uint8Array(t);let n=0;return e.forEach((function(e){r.set(e,n),n+=e.length})),r}const y=h&&void 0,b=h&&void 0;let g,m;if(b){g=function(e){let t=!1;return new S({start(r){e.pause(),e.on("data",(n=>{t||(y.isBuffer(n)&&(n=new Uint8Array(n.buffer,n.byteOffset,n.byteLength)),r.enqueue(n),e.pause())})),e.on("end",(()=>{t||r.close()})),e.on("error",(e=>r.error(e)))},pull(){e.resume()},cancel(r){t=!0,e.destroy(r)}})};class e extends b{constructor(e,t){super(t),this._reader=B(e)}async _read(e){try{for(;;){const{done:e,value:t}=await this._reader.read();if(e){this.push(null);break}if(!this.push(t)||this._cancelling){this._reading=!1;break}}}catch(e){this.emit("error",e)}}_destroy(e){this._reader.cancel(e)}}m=function(t,r){return new e(t,r)}}const w=new WeakSet,v=Symbol("externalBuffer");function _(e){if(this.stream=e,e[v]&&(this[v]=e[v].slice()),c(e)){const t=e.getReader();return this._read=t.read.bind(t),this._releaseLock=()=>{},void(this._cancel=()=>{})}let t=l(e);if("node"===t&&(e=g(e)),t){const t=e.getReader();return this._read=t.read.bind(t),this._releaseLock=()=>{t.closed.catch((function(){})),t.releaseLock()},void(this._cancel=t.cancel.bind(t))}let r=!1;this._read=async()=>r||w.has(e)?{value:void 0,done:!0}:(r=!0,{value:e,done:!1}),this._releaseLock=()=>{if(r)try{w.add(e)}catch(e){}}}_.prototype.read=async function(){return this[v]&&this[v].length?{done:!1,value:this[v].shift()}:this._read()},_.prototype.releaseLock=function(){this[v]&&(this.stream[v]=this[v]),this._releaseLock()},_.prototype.cancel=function(e){return this._cancel(e)},_.prototype.readLine=async function(){let e,t=[];for(;!e;){let{done:r,value:n}=await this.read();if(n+="",r)return t.length?I(t):void 0;const i=n.indexOf("\n")+1;i&&(e=I(t.concat(n.substr(0,i))),t=[]),i!==n.length&&t.push(n.substr(i))}return this.unshift(...t),e},_.prototype.readByte=async function(){const{done:e,value:t}=await this.read();if(e)return;const r=t[0];return this.unshift(j(t,1)),r},_.prototype.readBytes=async function(e){const t=[];let r=0;for(;;){const{done:n,value:i}=await this.read();if(n)return t.length?I(t):void 0;if(t.push(i),r+=i.length,r>=e){const r=I(t);return this.unshift(j(r,e)),j(r,0,e)}}},_.prototype.peekBytes=async function(e){const t=await this.readBytes(e);return this.unshift(t),t},_.prototype.unshift=function(...e){this[v]||(this[v]=[]),1===e.length&&d(e[0])&&this[v].length&&e[0].length&&this[v][0].byteOffset>=e[0].length?this[v][0]=new Uint8Array(this[v][0].buffer,this[v][0].byteOffset-e[0].length,this[v][0].byteLength+e[0].length):this[v].unshift(...e.filter((e=>e&&e.length)))},_.prototype.readToEnd=async function(e=I){const t=[];for(;;){const{done:e,value:r}=await this.read();if(e)break;t.push(r)}return e(t)};let k,A,{ReadableStream:S,WritableStream:E,TransformStream:x}=n;async function P(){if(x)return;const[e,t]=await Promise.all([Promise.resolve().then((function(){return Rf})),Promise.resolve().then((function(){return Xf}))]);({ReadableStream:S,WritableStream:E,TransformStream:x}=e);const{createReadableStreamWrapper:r}=t;n.ReadableStream&&S!==n.ReadableStream&&(k=r(S),A=r(n.ReadableStream))}const M=h&&void 0;function R(e){let t=l(e);return"node"===t?g(e):"web"===t&&k?k(e):t?e:new S({start(t){t.enqueue(e),t.close()}})}function C(e){if(l(e))return e;const t=new o;return(async()=>{const r=U(t);await r.write(e),await r.close()})(),t}function I(e){return e.some((e=>l(e)&&!c(e)))?function(e){e=e.map(R);const t=K((async function(e){await Promise.all(n.map((t=>H(t,e))))}));let r=Promise.resolve();const n=e.map(((n,i)=>z(n,((n,a)=>(r=r.then((()=>D(n,t.writable,{preventClose:i!==e.length-1}))),r)))));return t.readable}(e):e.some((e=>c(e)))?function(e){const t=new o;let r=Promise.resolve();return e.forEach(((n,i)=>(r=r.then((()=>D(n,t,{preventClose:i!==e.length-1}))),r))),t}(e):"string"==typeof e[0]?e.join(""):M&&M.isBuffer(e[0])?M.concat(e):p(e)}function B(e){return new _(e)}function U(e){return new u(e)}async function D(e,t,{preventClose:r=!1,preventAbort:n=!1,preventCancel:i=!1}={}){if(l(e)&&!c(e)){e=R(e);try{if(e[v]){const r=U(t);for(let t=0;t<e[v].length;t++)await r.ready,await r.write(e[v][t]);r.releaseLock()}await e.pipeTo(t,{preventClose:r,preventAbort:n,preventCancel:i})}catch(e){}return}const a=B(e=C(e)),s=U(t);try{for(;;){await s.ready;const{done:e,value:t}=await a.read();if(e){r||await s.close();break}await s.write(t)}}catch(e){n||await s.abort(e)}finally{a.releaseLock(),s.releaseLock()}}function T(e,t){const r=new x(t);return D(e,r.writable),r.readable}function K(e){let t,r,n=!1;return{readable:new S({start(e){r=e},pull(){t?t():n=!0},cancel:e},{highWaterMark:0}),writable:new E({write:async function(e){r.enqueue(e),n?n=!1:(await new Promise((e=>{t=e})),t=null)},close:r.close.bind(r),abort:r.error.bind(r)})}}function O(e,t=(()=>{}),r=(()=>{})){if(c(e)){const n=new o;return(async()=>{const i=await W(e),a=t(i),s=r();let o;o=void 0!==a&&void 0!==s?I([a,s]):void 0!==a?a:s;const c=U(n);await c.write(o),await c.close()})(),n}if(l(e))return T(e,{async transform(e,r){try{const n=await t(e);void 0!==n&&r.enqueue(n)}catch(e){r.error(e)}},async flush(e){try{const t=await r();void 0!==t&&e.enqueue(t)}catch(t){e.error(t)}}});const n=t(e),i=r();return void 0!==n&&void 0!==i?I([n,i]):void 0!==n?n:i}function z(e,t){if(l(e)&&!c(e)){let r;const n=new x({start(e){r=e}}),i=D(e,n.writable),a=K((async function(){r.error(Error("Readable side was canceled.")),await i,await new Promise(setTimeout)}));return t(n.readable,a.writable),a.readable}e=C(e);const r=new o;return t(e,r),r}function L(e,t){let r;const n=z(e,((e,i)=>{const a=B(e);a.remainder=()=>(a.releaseLock(),D(e,i),n),r=t(a)}));return r}function N(e){if(l(e)){const t=function(e){if(c(e)){const t=new o,r=new o;return(async()=>{const n=B(e),i=U(t),a=U(r);try{for(;;){await i.ready,await a.ready;const{done:e,value:t}=await n.read();if(e){await i.close(),await a.close();break}await i.write(t),await a.write(t)}}catch(e){await i.abort(e),await a.abort(e)}finally{n.releaseLock(),i.releaseLock(),a.releaseLock()}})(),[t,r]}if(l(e)){const t=R(e).tee();return t[0][v]=t[1][v]=e[v],t}return[j(e),j(e)]}(e);return F(e,t[0]),t[1]}return j(e)}function q(e){return c(e)?N(e):l(e)?new S({start(t){const r=z(e,(async(e,r)=>{const n=B(e),i=U(r);try{for(;;){await i.ready;const{done:r,value:a}=await n.read();if(r){try{t.close()}catch(e){}return void await i.close()}try{t.enqueue(a)}catch(e){}await i.write(a)}}catch(e){t.error(e),await i.abort(e)}}));F(e,r)}}):j(e)}function F(e,t){Object.entries(Object.getOwnPropertyDescriptors(e.constructor.prototype)).forEach((([r,n])=>{"constructor"!==r&&(n.value?n.value=n.value.bind(t):n.get=n.get.bind(t),Object.defineProperty(e,r,n))}))}function j(e,t=0,r=1/0){if(c(e))throw Error("Not implemented");if(l(e)){if(t>=0&&r>=0){let n=0;return T(e,{transform(e,i){n<r?(n+e.length>=t&&i.enqueue(j(e,Math.max(t-n,0),r-n)),n+=e.length):i.terminate()}})}if(t<0&&(r<0||r===1/0)){let n=[];return O(e,(e=>{e.length>=-t?n=[e]:n.push(e)}),(()=>j(I(n),t,r)))}if(0===t&&r<0){let n;return O(e,(e=>{const i=n?I([n,e]):e;if(i.length>=-r)return n=j(i,r),j(i,t,r);n=i}))}return console.warn(`stream.slice(input, ${t}, ${r}) not implemented efficiently.`),G((async()=>j(await W(e),t,r)))}return e[v]&&(e=I(e[v].concat([e]))),!d(e)||M&&M.isBuffer(e)?e.slice(t,r):(r===1/0&&(r=e.length),e.subarray(t,r))}async function W(e,t=I){return l(e)?B(e).readToEnd(t):e}async function H(e,t){if(l(e)){if(e.cancel)return e.cancel(t);if(e.destroy)return e.destroy(t),await new Promise(setTimeout),t}}function G(e){const t=new o;return(async()=>{const r=U(t);try{await r.write(await e()),await r.close()}catch(e){await r.abort(e)}})(),t}class V{constructor(e){if(void 0===e)throw Error("Invalid BigInteger input");if(e instanceof Uint8Array){const t=e,r=Array(t.length);for(let e=0;e<t.length;e++){const n=t[e].toString(16);r[e]=t[e]<=15?"0"+n:n}this.value=BigInt("0x0"+r.join(""))}else this.value=BigInt(e)}clone(){return new V(this.value)}iinc(){return this.value++,this}inc(){return this.clone().iinc()}idec(){return this.value--,this}dec(){return this.clone().idec()}iadd(e){return this.value+=e.value,this}add(e){return this.clone().iadd(e)}isub(e){return this.value-=e.value,this}sub(e){return this.clone().isub(e)}imul(e){return this.value*=e.value,this}mul(e){return this.clone().imul(e)}imod(e){return this.value%=e.value,this.isNegative()&&this.iadd(e),this}mod(e){return this.clone().imod(e)}modExp(e,t){if(t.isZero())throw Error("Modulo cannot be zero");if(t.isOne())return new V(0);if(e.isNegative())throw Error("Unsopported negative exponent");let r=e.value,n=this.value;n%=t.value;let i=BigInt(1);for(;r>BigInt(0);){const e=r&BigInt(1);r>>=BigInt(1);const a=i*n%t.value;i=e?a:i,n=n*n%t.value}return new V(i)}modInv(e){const{gcd:t,x:r}=this._egcd(e);if(!t.isOne())throw Error("Inverse does not exist");return r.add(e).mod(e)}_egcd(e){let t=BigInt(0),r=BigInt(1),n=BigInt(1),i=BigInt(0),a=this.value;for(e=e.value;e!==BigInt(0);){const s=a/e;let o=t;t=n-s*t,n=o,o=r,r=i-s*r,i=o,o=e,e=a%e,a=o}return{x:new V(n),y:new V(i),gcd:new V(a)}}gcd(e){let t=this.value;for(e=e.value;e!==BigInt(0);){const r=e;e=t%e,t=r}return new V(t)}ileftShift(e){return this.value<<=e.value,this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value>>=e.value,this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value===e.value}lt(e){return this.value<e.value}lte(e){return this.value<=e.value}gt(e){return this.value>e.value}gte(e){return this.value>=e.value}isZero(){return this.value===BigInt(0)}isOne(){return this.value===BigInt(1)}isNegative(){return this.value<BigInt(0)}isEven(){return!(this.value&BigInt(1))}abs(){const e=this.clone();return this.isNegative()&&(e.value=-e.value),e}toString(){return this.value.toString()}toNumber(){const e=Number(this.value);if(e>Number.MAX_SAFE_INTEGER)throw Error("Number can only safely store up to 53 bits");return e}getBit(e){return(this.value>>BigInt(e)&BigInt(1))===BigInt(0)?0:1}bitLength(){const e=new V(0),t=new V(1),r=new V(-1),n=this.isNegative()?r:e;let i=1;const a=this.clone();for(;!a.irightShift(t).equal(n);)i++;return i}byteLength(){const e=new V(0),t=new V(-1),r=this.isNegative()?t:e,n=new V(8);let i=1;const a=this.clone();for(;!a.irightShift(n).equal(r);)i++;return i}toUint8Array(e="be",t){let r=this.value.toString(16);r.length%2==1&&(r="0"+r);const n=r.length/2,i=new Uint8Array(t||n),a=t?t-n:0;let s=0;for(;s<n;)i[s+a]=parseInt(r.slice(2*s,2*s+2),16),s++;return"be"!==e&&i.reverse(),i}}const $=n.process&&"development"===n.process.env.NODE_ENV,Y={isString:function(e){return"string"==typeof e||String.prototype.isPrototypeOf(e)},isArray:function(e){return Array.prototype.isPrototypeOf(e)},isUint8Array:d,isStream:l,readNumber:function(e){let t=0;for(let r=0;r<e.length;r++)t+=256**r*e[e.length-1-r];return t},writeNumber:function(e,t){const r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e>>8*(t-n-1)&255;return r},readDate:function(e){const t=Y.readNumber(e);return new Date(1e3*t)},writeDate:function(e){const t=Math.floor(e.getTime()/1e3);return Y.writeNumber(t,4)},normalizeDate:function(e=Date.now()){return null===e||e===1/0?e:new Date(1e3*Math.floor(+e/1e3))},readMPI:function(e){const t=7+(e[0]<<8|e[1])>>>3;return e.subarray(2,2+t)},leftPad(e,t){const r=new Uint8Array(t),n=t-e.length;return r.set(e,n),r},uint8ArrayToMPI:function(e){const t=Y.uint8ArrayBitLength(e);if(0===t)throw Error("Zero MPI");const r=e.subarray(e.length-Math.ceil(t/8)),n=new Uint8Array([(65280&t)>>8,255&t]);return Y.concatUint8Array([n,r])},uint8ArrayBitLength:function(e){let t;for(t=0;t<e.length&&0===e[t];t++);if(t===e.length)return 0;const r=e.subarray(t);return 8*(r.length-1)+Y.nbits(r[0])},hexToUint8Array:function(e){const t=new Uint8Array(e.length>>1);for(let r=0;r<e.length>>1;r++)t[r]=parseInt(e.substr(r<<1,2),16);return t},uint8ArrayToHex:function(e){const t=[],r=e.length;let n,i=0;for(;i<r;){for(n=e[i++].toString(16);n.length<2;)n="0"+n;t.push(""+n)}return t.join("")},stringToUint8Array:function(e){return O(e,(e=>{if(!Y.isString(e))throw Error("stringToUint8Array: Data must be in the form of a string");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}))},uint8ArrayToString:function(e){const t=[],r=(e=new Uint8Array(e)).length;for(let n=0;n<r;n+=16384)t.push(String.fromCharCode.apply(String,e.subarray(n,n+16384<r?n+16384:r)));return t.join("")},encodeUTF8:function(e){const t=new TextEncoder("utf-8");function r(e,r=!1){return t.encode(e,{stream:!r})}return O(e,r,(()=>r("",!0)))},decodeUTF8:function(e){const t=new TextDecoder("utf-8");function r(e,r=!1){return t.decode(e,{stream:!r})}return O(e,r,(()=>r(new Uint8Array,!0)))},concat:I,concatUint8Array:p,equalsUint8Array:function(e,t){if(!Y.isUint8Array(e)||!Y.isUint8Array(t))throw Error("Data must be in the form of a Uint8Array");if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},writeChecksum:function(e){let t=0;for(let r=0;r<e.length;r++)t=t+e[r]&65535;return Y.writeNumber(t,2)},printDebug:function(e){$&&console.log(e)},printDebugError:function(e){$&&console.error(e)},nbits:function(e){let t=1,r=e>>>16;return 0!==r&&(e=r,t+=16),r=e>>8,0!==r&&(e=r,t+=8),r=e>>4,0!==r&&(e=r,t+=4),r=e>>2,0!==r&&(e=r,t+=2),r=e>>1,0!==r&&(e=r,t+=1),t},double:function(e){const t=new Uint8Array(e.length),r=e.length-1;for(let n=0;n<r;n++)t[n]=e[n]<<1^e[n+1]>>7;return t[r]=e[r]<<1^135*(e[0]>>7),t},shiftRight:function(e,t){if(t)for(let r=e.length-1;r>=0;r--)e[r]>>=t,r>0&&(e[r]|=e[r-1]<<8-t);return e},getWebCrypto:function(){return void 0!==n&&n.crypto&&n.crypto.subtle},detectNode:function(){return"object"==typeof n.process&&"object"==typeof n.process.versions},detectBigInt:()=>"undefined"!=typeof BigInt,getBigInteger:async function(){if(Y.detectBigInt())return V;{const{default:e}=await Promise.resolve().then((function(){return tl}));return e}},getNodeCrypto:function(){},getNodeZlib:function(){},getNodeBuffer:function(){return{}.Buffer},getHardwareConcurrency:function(){return Y.detectNode()?(void 0).cpus().length:navigator.hardwareConcurrency||1},isEmailAddress:function(e){return!!Y.isString(e)&&/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+([a-zA-Z]{2,}|xn--[a-zA-Z\-0-9]+)))$/.test(e)},canonicalizeEOL:function(e){let t=!1;return O(e,(e=>{let r;t&&(e=Y.concatUint8Array([new Uint8Array([13]),e])),13===e[e.length-1]?(t=!0,e=e.subarray(0,-1)):t=!1;const n=[];for(let t=0;r=e.indexOf(10,t)+1,r;t=r)13!==e[r-2]&&n.push(r);if(!n.length)return e;const i=new Uint8Array(e.length+n.length);let a=0;for(let t=0;t<n.length;t++){const r=e.subarray(n[t-1]||0,n[t]);i.set(r,a),a+=r.length,i[a-1]=13,i[a]=10,a++}return i.set(e.subarray(n[n.length-1]||0),a),i}),(()=>t?new Uint8Array([13]):void 0))},nativeEOL:function(e){let t=!1;return O(e,(e=>{let r;13===(e=t&&10!==e[0]?Y.concatUint8Array([new Uint8Array([13]),e]):new Uint8Array(e))[e.length-1]?(t=!0,e=e.subarray(0,-1)):t=!1;let n=0;for(let t=0;t!==e.length;t=r){r=e.indexOf(13,t)+1,r||(r=e.length);const i=r-(10===e[r]?1:0);t&&e.copyWithin(n,t,i),n+=i-t}return e.subarray(0,n)}),(()=>t?new Uint8Array([13]):void 0))},removeTrailingSpaces:function(e){return e.split("\n").map((e=>{let t=e.length-1;for(;t>=0&&(" "===e[t]||"\t"===e[t]);t--);return e.substr(0,t+1)})).join("\n")},wrapError:function(e,t){if(!t)return Error(e);try{t.message=e+": "+t.message}catch(e){}return t},constructAllowedPackets:function(e){const t={};return e.forEach((e=>{if(!e.tag)throw Error("Invalid input: expected a packet class");t[e.tag]=e})),t},anyPromise:function(e){return new Promise((async(t,r)=>{let n;await Promise.all(e.map((async e=>{try{t(await e)}catch(e){n=e}}))),r(n)}))}},X=Y.getNodeBuffer();let Z,J;function Q(e){let t=new Uint8Array;return O(e,(e=>{t=Y.concatUint8Array([t,e]);const r=[],n=Math.floor(t.length/45),i=45*n,a=Z(t.subarray(0,i));for(let e=0;e<n;e++)r.push(a.substr(60*e,60)),r.push("\n");return t=t.subarray(i),r.join("")}),(()=>t.length?Z(t)+"\n":""))}function ee(e){let t="";return O(e,(e=>{t+=e;let r=0;const n=[" ","\t","\r","\n"];for(let e=0;e<n.length;e++){const i=n[e];for(let e=t.indexOf(i);-1!==e;e=t.indexOf(i,e+1))r++}let i=t.length;for(;i>0&&(i-r)%4!=0;i--)n.includes(t[i])&&r--;const a=J(t.substr(0,i));return t=t.substr(i),a}),(()=>J(t)))}function te(e){return ee(e.replace(/-/g,"+").replace(/_/g,"/"))}function re(e,t){let r=Q(e).replace(/[\r\n]/g,"");return t&&(r=r.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,"")),r}X?(Z=e=>X.from(e).toString("base64"),J=e=>{const t=X.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}):(Z=e=>btoa(Y.uint8ArrayToString(e)),J=e=>Y.stringToUint8Array(atob(e)));const ne=Symbol("byValue");var ie={curve:{p256:"p256","P-256":"p256",secp256r1:"p256",prime256v1:"p256","1.2.840.10045.3.1.7":"p256","2a8648ce3d030107":"p256","2A8648CE3D030107":"p256",p384:"p384","P-384":"p384",secp384r1:"p384","1.3.132.0.34":"p384","2b81040022":"p384","2B81040022":"p384",p521:"p521","P-521":"p521",secp521r1:"p521","1.3.132.0.35":"p521","2b81040023":"p521","2B81040023":"p521",secp256k1:"secp256k1","1.3.132.0.10":"secp256k1","2b8104000a":"secp256k1","2B8104000A":"secp256k1",ED25519:"ed25519",ed25519:"ed25519",Ed25519:"ed25519","1.3.6.1.4.1.11591.15.1":"ed25519","2b06010401da470f01":"ed25519","2B06010401DA470F01":"ed25519",X25519:"curve25519",cv25519:"curve25519",curve25519:"curve25519",Curve25519:"curve25519","1.3.6.1.4.1.3029.1.5.1":"curve25519","2b060104019755010501":"curve25519","2B060104019755010501":"curve25519",brainpoolP256r1:"brainpoolP256r1","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1","2b2403030208010107":"brainpoolP256r1","2B2403030208010107":"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1","2b240303020801010b":"brainpoolP384r1","2B240303020801010B":"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1","2b240303020801010d":"brainpoolP512r1","2B240303020801010D":"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsa:22,aedh:23,aedsa:24},symmetric:{plaintext:0,idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,experimentalGCM:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,aeadEncryptedData:20},literal:{binary:98,text:116,utf8:117,mime:109},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuer:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserID:25,policyURI:26,keyFlags:27,signersUserID:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAEADAlgorithms:34},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIDInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4},write:function(e,t){if("number"==typeof t&&(t=this.read(e,t)),void 0!==e[t])return e[t];throw Error("Invalid enum value.")},read:function(e,t){if(e[ne]||(e[ne]=[],Object.entries(e).forEach((([t,r])=>{e[ne][r]=t}))),void 0!==e[ne][t])return e[ne][t];throw Error("Invalid enum value.")}},ae={preferredHashAlgorithm:ie.hash.sha256,preferredSymmetricAlgorithm:ie.symmetric.aes256,preferredCompressionAlgorithm:ie.compression.uncompressed,deflateLevel:6,aeadProtect:!1,preferredAEADAlgorithm:ie.aead.eax,aeadChunkSizeByte:12,v5Keys:!1,s2kIterationCountByte:224,allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,checksumRequired:!1,minRSABits:2048,passwordCollisionCheck:!1,revocationsExpire:!1,allowInsecureDecryptionWithSigningKeys:!1,minBytesForWebCrypto:1e3,tolerant:!0,showVersion:!1,showComment:!1,versionString:"OpenPGP.js 5.0.0-3",commentString:"https://openpgpjs.org",maxUserIDLength:5120,knownNotations:["preferred-email-encoding@pgp.com","pka-address@gnupg.org"],useIndutnyElliptic:!0,rejectHashAlgorithms:new Set([ie.hash.md5,ie.hash.ripemd]),rejectMessageHashAlgorithms:new Set([ie.hash.md5,ie.hash.ripemd,ie.hash.sha1]),rejectPublicKeyAlgorithms:new Set([ie.publicKey.elgamal,ie.publicKey.dsa])};function se(e){const t=e.match(/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m);if(!t)throw Error("Unknown ASCII armor type");return/MESSAGE, PART \d+\/\d+/.test(t[1])?ie.armor.multipartSection:/MESSAGE, PART \d+/.test(t[1])?ie.armor.multipartLast:/SIGNED MESSAGE/.test(t[1])?ie.armor.signed:/MESSAGE/.test(t[1])?ie.armor.message:/PUBLIC KEY BLOCK/.test(t[1])?ie.armor.publicKey:/PRIVATE KEY BLOCK/.test(t[1])?ie.armor.privateKey:/SIGNATURE/.test(t[1])?ie.armor.signature:void 0}function oe(e,t){let r="";return t.showVersion&&(r+="Version: "+t.versionString+"\n"),t.showComment&&(r+="Comment: "+t.commentString+"\n"),e&&(r+="Comment: "+e+"\n"),r+="\n",r}function ce(e){return Q(function(e){let t=13501623;return O(e,(e=>{const r=he?Math.floor(e.length/4):0,n=new Uint32Array(e.buffer,e.byteOffset,r);for(let e=0;e<r;e++)t^=n[e],t=ue[0][t>>24&255]^ue[1][t>>16&255]^ue[2][t>>8&255]^ue[3][t>>0&255];for(let n=4*r;n<e.length;n++)t=t>>8^ue[0][255&t^e[n]]}),(()=>new Uint8Array([t,t>>8,t>>16])))}(e))}const ue=[Array(255),Array(255),Array(255),Array(255)];for(let e=0;e<=255;e++){let t=e<<16;for(let e=0;e<8;e++)t=t<<1^(0!=(8388608&t)?8801531:0);ue[0][e]=(16711680&t)>>16|65280&t|(255&t)<<16}for(let e=0;e<=255;e++)ue[1][e]=ue[0][e]>>8^ue[0][255&ue[0][e]];for(let e=0;e<=255;e++)ue[2][e]=ue[1][e]>>8^ue[0][255&ue[1][e]];for(let e=0;e<=255;e++)ue[3][e]=ue[2][e]>>8^ue[0][255&ue[2][e]];const he=function(){const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,255,!0),255===new Int16Array(e)[0]}();function fe(e){for(let t=0;t<e.length;t++){if(!/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(e[t]))throw Error("Improperly formatted armor header: "+e[t]);/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(e[t])||Y.printDebugError(Error("Unknown header: "+e[t]))}}function le(e){let t=e,r="";const n=e.lastIndexOf("=");return n>=0&&n!==e.length-1&&(t=e.slice(0,n),r=e.slice(n+1).substr(0,4)),{body:t,checksum:r}}function de(e,t=ae){return new Promise((async(r,n)=>{try{const i=/^-----[^-]+-----$/m,a=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/;let s;const o=[];let c,u,h,f=o,l=[],d=ee(z(e,(async(e,t)=>{const p=B(e);try{for(;;){let e=await p.readLine();if(void 0===e)throw Error("Misformed armored text");if(e=Y.removeTrailingSpaces(e.replace(/[\r\n]/g,"")),s)if(c)u||2!==s||(i.test(e)?(l=l.join("\r\n"),u=!0,fe(f),f=[],c=!1):l.push(e.replace(/^- /,"")));else if(i.test(e)&&n(Error("Mandatory blank line missing between armor headers and armor data")),a.test(e)){if(fe(f),c=!0,u||2!==s){r({text:l,data:d,headers:o,type:s});break}}else f.push(e);else i.test(e)&&(s=se(e))}}catch(e){return void n(e)}const y=U(t);try{for(;;){await y.ready;const{done:e,value:t}=await p.read();if(e)throw Error("Misformed armored text");const r=t+"";if(-1!==r.indexOf("=")||-1!==r.indexOf("-")){let e=await p.readToEnd();e.length||(e=""),e=r+e,e=Y.removeTrailingSpaces(e.replace(/\r/g,""));const t=e.split(i);if(1===t.length)throw Error("Misformed armored text");const n=le(t[0].slice(0,-1));h=n.checksum,await y.write(n.body);break}await y.write(r)}await y.ready,await y.close()}catch(e){await y.abort(e)}})));d=z(d,(async(e,r)=>{const n=W(ce(q(e)));n.catch((()=>{})),await D(e,r,{preventClose:!0});const i=U(r);try{const e=(await n).replace("\n","");if(h!==e&&(h||t.checksumRequired))throw Error("Ascii armor integrity check on message failed: '"+h+"' should be '"+e+"'");await i.ready,await i.close()}catch(e){await i.abort(e)}}))}catch(e){n(e)}})).then((async e=>(c(e.data)&&(e.data=await W(e.data)),e)))}function pe(e,t,r,n,i,a=ae){let s,o;e===ie.armor.signed&&(s=t.text,o=t.hash,t=t.data);const c=q(t),u=[];switch(e){case ie.armor.multipartSection:u.push("-----BEGIN PGP MESSAGE, PART "+r+"/"+n+"-----\n"),u.push(oe(i,a)),u.push(Q(t)),u.push("=",ce(c)),u.push("-----END PGP MESSAGE, PART "+r+"/"+n+"-----\n");break;case ie.armor.multipartLast:u.push("-----BEGIN PGP MESSAGE, PART "+r+"-----\n"),u.push(oe(i,a)),u.push(Q(t)),u.push("=",ce(c)),u.push("-----END PGP MESSAGE, PART "+r+"-----\n");break;case ie.armor.signed:u.push("\n-----BEGIN PGP SIGNED MESSAGE-----\n"),u.push("Hash: "+o+"\n\n"),u.push(s.replace(/^-/gm,"- -")),u.push("\n-----BEGIN PGP SIGNATURE-----\n"),u.push(oe(i,a)),u.push(Q(t)),u.push("=",ce(c)),u.push("-----END PGP SIGNATURE-----\n");break;case ie.armor.message:u.push("-----BEGIN PGP MESSAGE-----\n"),u.push(oe(i,a)),u.push(Q(t)),u.push("=",ce(c)),u.push("-----END PGP MESSAGE-----\n");break;case ie.armor.publicKey:u.push("-----BEGIN PGP PUBLIC KEY BLOCK-----\n"),u.push(oe(i,a)),u.push(Q(t)),u.push("=",ce(c)),u.push("-----END PGP PUBLIC KEY BLOCK-----\n");break;case ie.armor.privateKey:u.push("-----BEGIN PGP PRIVATE KEY BLOCK-----\n"),u.push(oe(i,a)),u.push(Q(t)),u.push("=",ce(c)),u.push("-----END PGP PRIVATE KEY BLOCK-----\n");break;case ie.armor.signature:u.push("-----BEGIN PGP SIGNATURE-----\n"),u.push(oe(i,a)),u.push(Q(t)),u.push("=",ce(c)),u.push("-----END PGP SIGNATURE-----\n")}return Y.concat(u)}class ye{constructor(){this.bytes=""}read(e){this.bytes=Y.uint8ArrayToString(e.subarray(0,8))}write(){return Y.stringToUint8Array(this.bytes)}toHex(){return Y.uint8ArrayToHex(Y.stringToUint8Array(this.bytes))}equals(e,t=!1){return t&&(e.isWildcard()||this.isWildcard())||this.bytes===e.bytes}isNull(){return""===this.bytes}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(e){return e.toHex()}static fromID(e){const t=new ye;return t.read(Y.hexToUint8Array(e)),t}static wildcard(){const e=new ye;return e.read(new Uint8Array(8)),e}}var be=function(){var e,t,r=!1;function n(r,n){var i=e[(t[r]+t[n])%255];return 0!==r&&0!==n||(i=0),i}var i,a,s,o,c=!1;function u(){function u(r){var n,i,a;for(i=a=function(r){var n=e[255-t[r]];return 0===r&&(n=0),n}(r),n=0;n<4;n++)a^=i=255&(i<<1|i>>>7);return 99^a}r||function(){e=[],t=[];var n,i,a=1;for(n=0;n<255;n++)e[n]=a,i=128&a,a<<=1,a&=255,128===i&&(a^=27),a^=e[n],t[e[n]]=n;e[255]=e[0],t[0]=0,r=!0}(),i=[],a=[],s=[[],[],[],[]],o=[[],[],[],[]];for(var h=0;h<256;h++){var f=u(h);i[h]=f,a[f]=h,s[0][h]=n(2,f)<<24|f<<16|f<<8|n(3,f),o[0][f]=n(14,h)<<24|n(9,h)<<16|n(13,h)<<8|n(11,h);for(var l=1;l<4;l++)s[l][h]=s[l-1][h]>>>8|s[l-1][h]<<24,o[l][f]=o[l-1][f]>>>8|o[l-1][f]<<24}c=!0}var h=function(e,t){c||u();var r=new Uint32Array(t);r.set(i,512),r.set(a,768);for(var n=0;n<4;n++)r.set(s[n],4096+1024*n>>2),r.set(o[n],8192+1024*n>>2);var h=function(e,t,r){"use asm";var n=0,i=0,a=0,s=0,o=0,c=0,u=0,h=0,f=0,l=0,d=0,p=0,y=0,b=0,g=0,m=0,w=0,v=0,_=0,k=0,A=0;var S=new e.Uint32Array(r),E=new e.Uint8Array(r);function x(e,t,r,o,c,u,h,f){e=e|0;t=t|0;r=r|0;o=o|0;c=c|0;u=u|0;h=h|0;f=f|0;var l=0,d=0,p=0,y=0,b=0,g=0,m=0,w=0;l=r|0x400,d=r|0x800,p=r|0xc00;c=c^S[(e|0)>>2],u=u^S[(e|4)>>2],h=h^S[(e|8)>>2],f=f^S[(e|12)>>2];for(w=16;(w|0)<=o<<4;w=w+16|0){y=S[(r|c>>22&1020)>>2]^S[(l|u>>14&1020)>>2]^S[(d|h>>6&1020)>>2]^S[(p|f<<2&1020)>>2]^S[(e|w|0)>>2],b=S[(r|u>>22&1020)>>2]^S[(l|h>>14&1020)>>2]^S[(d|f>>6&1020)>>2]^S[(p|c<<2&1020)>>2]^S[(e|w|4)>>2],g=S[(r|h>>22&1020)>>2]^S[(l|f>>14&1020)>>2]^S[(d|c>>6&1020)>>2]^S[(p|u<<2&1020)>>2]^S[(e|w|8)>>2],m=S[(r|f>>22&1020)>>2]^S[(l|c>>14&1020)>>2]^S[(d|u>>6&1020)>>2]^S[(p|h<<2&1020)>>2]^S[(e|w|12)>>2];c=y,u=b,h=g,f=m}n=S[(t|c>>22&1020)>>2]<<24^S[(t|u>>14&1020)>>2]<<16^S[(t|h>>6&1020)>>2]<<8^S[(t|f<<2&1020)>>2]^S[(e|w|0)>>2],i=S[(t|u>>22&1020)>>2]<<24^S[(t|h>>14&1020)>>2]<<16^S[(t|f>>6&1020)>>2]<<8^S[(t|c<<2&1020)>>2]^S[(e|w|4)>>2],a=S[(t|h>>22&1020)>>2]<<24^S[(t|f>>14&1020)>>2]<<16^S[(t|c>>6&1020)>>2]<<8^S[(t|u<<2&1020)>>2]^S[(e|w|8)>>2],s=S[(t|f>>22&1020)>>2]<<24^S[(t|c>>14&1020)>>2]<<16^S[(t|u>>6&1020)>>2]<<8^S[(t|h<<2&1020)>>2]^S[(e|w|12)>>2]}function P(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;x(0x0000,0x0800,0x1000,A,e,t,r,n)}function M(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var a=0;x(0x0400,0x0c00,0x2000,A,e,n,r,t);a=i,i=s,s=a}function R(e,t,r,f){e=e|0;t=t|0;r=r|0;f=f|0;x(0x0000,0x0800,0x1000,A,o^e,c^t,u^r,h^f);o=n,c=i,u=a,h=s}function C(e,t,r,f){e=e|0;t=t|0;r=r|0;f=f|0;var l=0;x(0x0400,0x0c00,0x2000,A,e,f,r,t);l=i,i=s,s=l;n=n^o,i=i^c,a=a^u,s=s^h;o=e,c=t,u=r,h=f}function I(e,t,r,f){e=e|0;t=t|0;r=r|0;f=f|0;x(0x0000,0x0800,0x1000,A,o,c,u,h);o=n=n^e,c=i=i^t,u=a=a^r,h=s=s^f}function B(e,t,r,f){e=e|0;t=t|0;r=r|0;f=f|0;x(0x0000,0x0800,0x1000,A,o,c,u,h);n=n^e,i=i^t,a=a^r,s=s^f;o=e,c=t,u=r,h=f}function U(e,t,r,f){e=e|0;t=t|0;r=r|0;f=f|0;x(0x0000,0x0800,0x1000,A,o,c,u,h);o=n,c=i,u=a,h=s;n=n^e,i=i^t,a=a^r,s=s^f}function D(e,t,r,o){e=e|0;t=t|0;r=r|0;o=o|0;x(0x0000,0x0800,0x1000,A,f,l,d,p);p=~m&p|m&p+1;d=~g&d|g&d+((p|0)==0);l=~b&l|b&l+((d|0)==0);f=~y&f|y&f+((l|0)==0);n=n^e;i=i^t;a=a^r;s=s^o}function T(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var i=0,a=0,s=0,f=0,l=0,d=0,p=0,y=0,b=0,g=0;e=e^o,t=t^c,r=r^u,n=n^h;i=w|0,a=v|0,s=_|0,f=k|0;for(;(b|0)<128;b=b+1|0){if(i>>>31){l=l^e,d=d^t,p=p^r,y=y^n}i=i<<1|a>>>31,a=a<<1|s>>>31,s=s<<1|f>>>31,f=f<<1;g=n&1;n=n>>>1|r<<31,r=r>>>1|t<<31,t=t>>>1|e<<31,e=e>>>1;if(g)e=e^0xe1000000}o=l,c=d,u=p,h=y}function K(e){e=e|0;A=e}function O(e,t,r,o){e=e|0;t=t|0;r=r|0;o=o|0;n=e,i=t,a=r,s=o}function z(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;o=e,c=t,u=r,h=n}function L(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;f=e,l=t,d=r,p=n}function N(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;y=e,b=t,g=r,m=n}function q(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;p=~m&p|m&n,d=~g&d|g&r,l=~b&l|b&t,f=~y&f|y&e}function F(e){e=e|0;if(e&15)return-1;E[e|0]=n>>>24,E[e|1]=n>>>16&255,E[e|2]=n>>>8&255,E[e|3]=n&255,E[e|4]=i>>>24,E[e|5]=i>>>16&255,E[e|6]=i>>>8&255,E[e|7]=i&255,E[e|8]=a>>>24,E[e|9]=a>>>16&255,E[e|10]=a>>>8&255,E[e|11]=a&255,E[e|12]=s>>>24,E[e|13]=s>>>16&255,E[e|14]=s>>>8&255,E[e|15]=s&255;return 16}function j(e){e=e|0;if(e&15)return-1;E[e|0]=o>>>24,E[e|1]=o>>>16&255,E[e|2]=o>>>8&255,E[e|3]=o&255,E[e|4]=c>>>24,E[e|5]=c>>>16&255,E[e|6]=c>>>8&255,E[e|7]=c&255,E[e|8]=u>>>24,E[e|9]=u>>>16&255,E[e|10]=u>>>8&255,E[e|11]=u&255,E[e|12]=h>>>24,E[e|13]=h>>>16&255,E[e|14]=h>>>8&255,E[e|15]=h&255;return 16}function W(){P(0,0,0,0);w=n,v=i,_=a,k=s}function H(e,t,r){e=e|0;t=t|0;r=r|0;var o=0;if(t&15)return-1;while((r|0)>=16){V[e&7](E[t|0]<<24|E[t|1]<<16|E[t|2]<<8|E[t|3],E[t|4]<<24|E[t|5]<<16|E[t|6]<<8|E[t|7],E[t|8]<<24|E[t|9]<<16|E[t|10]<<8|E[t|11],E[t|12]<<24|E[t|13]<<16|E[t|14]<<8|E[t|15]);E[t|0]=n>>>24,E[t|1]=n>>>16&255,E[t|2]=n>>>8&255,E[t|3]=n&255,E[t|4]=i>>>24,E[t|5]=i>>>16&255,E[t|6]=i>>>8&255,E[t|7]=i&255,E[t|8]=a>>>24,E[t|9]=a>>>16&255,E[t|10]=a>>>8&255,E[t|11]=a&255,E[t|12]=s>>>24,E[t|13]=s>>>16&255,E[t|14]=s>>>8&255,E[t|15]=s&255;o=o+16|0,t=t+16|0,r=r-16|0}return o|0}function G(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;if(t&15)return-1;while((r|0)>=16){$[e&1](E[t|0]<<24|E[t|1]<<16|E[t|2]<<8|E[t|3],E[t|4]<<24|E[t|5]<<16|E[t|6]<<8|E[t|7],E[t|8]<<24|E[t|9]<<16|E[t|10]<<8|E[t|11],E[t|12]<<24|E[t|13]<<16|E[t|14]<<8|E[t|15]);n=n+16|0,t=t+16|0,r=r-16|0}return n|0}var V=[P,M,R,C,I,B,U,D];var $=[R,T];return{set_rounds:K,set_state:O,set_iv:z,set_nonce:L,set_mask:N,set_counter:q,get_state:F,get_iv:j,gcm_init:W,cipher:H,mac:G}}({Uint8Array,Uint32Array},e,t);return h.set_key=function(e,t,n,a,s,c,u,f,l){var d=r.subarray(0,60),p=r.subarray(256,316);d.set([t,n,a,s,c,u,f,l]);for(var y=e,b=1;y<4*e+28;y++){var g=d[y-1];(y%e==0||8===e&&y%e==4)&&(g=i[g>>>24]<<24^i[g>>>16&255]<<16^i[g>>>8&255]<<8^i[255&g]),y%e==0&&(g=g<<8^g>>>24^b<<24,b=b<<1^(128&b?27:0)),d[y]=d[y-e]^g}for(var m=0;m<y;m+=4)for(var w=0;w<4;w++)g=d[y-(4+m)+(4-w)%4],p[m+w]=m<4||m>=y-4?g:o[0][i[g>>>24]]^o[1][i[g>>>16&255]]^o[2][i[g>>>8&255]]^o[3][i[255&g]];h.set_rounds(e+5)},h};return h.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},h.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},h.MAC={CBC:0,GCM:1},h.HEAP_DATA=16384,h}();function ge(e){return e instanceof Uint8Array}function me(e,t){const r=e?e.byteLength:t||65536;if(4095&r||r<=0)throw Error("heap size must be a positive integer and a multiple of 4096");return e||new Uint8Array(new ArrayBuffer(r))}function we(e,t,r,n,i){const a=e.length-t,s=a<i?a:i;return e.set(r.subarray(n,n+s),t),s}function ve(...e){const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);let n=0;for(let t=0;t<e.length;t++)r.set(e[t],n),n+=e[t].length;return r}class _e extends Error{constructor(...e){super(...e)}}class ke extends Error{constructor(...e){super(...e)}}class Ae extends Error{constructor(...e){super(...e)}}const Se=[],Ee=[];class xe{constructor(e,t,r=!0,n,i,a){this.pos=0,this.len=0,this.mode=n,this.pos=0,this.len=0,this.key=e,this.iv=t,this.padding=r,this.acquire_asm(i,a)}acquire_asm(e,t){return void 0!==this.heap&&void 0!==this.asm||(this.heap=e||Se.pop()||me().subarray(be.HEAP_DATA),this.asm=t||Ee.pop()||new be(null,this.heap.buffer),this.reset(this.key,this.iv)),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(Se.push(this.heap),Ee.push(this.asm)),this.heap=void 0,this.asm=void 0}reset(e,t){const{asm:r}=this.acquire_asm(),n=e.length;if(16!==n&&24!==n&&32!==n)throw new ke("illegal key size");const i=new DataView(e.buffer,e.byteOffset,e.byteLength);if(r.set_key(n>>2,i.getUint32(0),i.getUint32(4),i.getUint32(8),i.getUint32(12),n>16?i.getUint32(16):0,n>16?i.getUint32(20):0,n>24?i.getUint32(24):0,n>24?i.getUint32(28):0),void 0!==t){if(16!==t.length)throw new ke("illegal iv size");let e=new DataView(t.buffer,t.byteOffset,t.byteLength);r.set_iv(e.getUint32(0),e.getUint32(4),e.getUint32(8),e.getUint32(12))}else r.set_iv(0,0,0,0)}AES_Encrypt_process(e){if(!ge(e))throw new TypeError("data isn't of expected type");let{heap:t,asm:r}=this.acquire_asm(),n=be.ENC[this.mode],i=be.HEAP_DATA,a=this.pos,s=this.len,o=0,c=e.length||0,u=0,h=0,f=new Uint8Array(s+c&-16);for(;c>0;)h=we(t,a+s,e,o,c),s+=h,o+=h,c-=h,h=r.cipher(n,i+a,s),h&&f.set(t.subarray(a,a+h),u),u+=h,h<s?(a+=h,s-=h):(a=0,s=0);return this.pos=a,this.len=s,f}AES_Encrypt_finish(){let{heap:e,asm:t}=this.acquire_asm(),r=be.ENC[this.mode],n=be.HEAP_DATA,i=this.pos,a=this.len,s=16-a%16,o=a;if(this.hasOwnProperty("padding")){if(this.padding){for(let t=0;t<s;++t)e[i+a+t]=s;a+=s,o=a}else if(a%16)throw new ke("data length must be a multiple of the block size")}else a+=s;const c=new Uint8Array(o);return a&&t.cipher(r,n+i,a),o&&c.set(e.subarray(i,i+o)),this.pos=0,this.len=0,this.release_asm(),c}AES_Decrypt_process(e){if(!ge(e))throw new TypeError("data isn't of expected type");let{heap:t,asm:r}=this.acquire_asm(),n=be.DEC[this.mode],i=be.HEAP_DATA,a=this.pos,s=this.len,o=0,c=e.length||0,u=0,h=s+c&-16,f=0,l=0;this.padding&&(f=s+c-h||16,h-=f);const d=new Uint8Array(h);for(;c>0;)l=we(t,a+s,e,o,c),s+=l,o+=l,c-=l,l=r.cipher(n,i+a,s-(c?0:f)),l&&d.set(t.subarray(a,a+l),u),u+=l,l<s?(a+=l,s-=l):(a=0,s=0);return this.pos=a,this.len=s,d}AES_Decrypt_finish(){let{heap:e,asm:t}=this.acquire_asm(),r=be.DEC[this.mode],n=be.HEAP_DATA,i=this.pos,a=this.len,s=a;if(a>0){if(a%16){if(this.hasOwnProperty("padding"))throw new ke("data length must be a multiple of the block size");a+=16-a%16}if(t.cipher(r,n+i,a),this.hasOwnProperty("padding")&&this.padding){let t=e[i+s-1];if(t<1||t>16||t>s)throw new Ae("bad padding");let r=0;for(let n=t;n>1;n--)r|=t^e[i+s-n];if(r)throw new Ae("bad padding");s-=t}}const o=new Uint8Array(s);return s>0&&o.set(e.subarray(i,i+s)),this.pos=0,this.len=0,this.release_asm(),o}}class Pe{static encrypt(e,t,r=!1){return new Pe(t,r).encrypt(e)}static decrypt(e,t,r=!1){return new Pe(t,r).decrypt(e)}constructor(e,t=!1,r){this.aes=r||new xe(e,void 0,t,"ECB")}encrypt(e){return ve(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return ve(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}function Me(e){const t=function(e){const t=new Pe(e);this.encrypt=function(e){return t.encrypt(e)},this.decrypt=function(e){return t.decrypt(e)}};return t.blockSize=t.prototype.blockSize=16,t.keySize=t.prototype.keySize=e/8,t}function Re(e,t,r,n,i,a){const s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],o=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],c=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],h=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],f=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],l=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],d=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];let p,y,b,g,m,w,v,_,k,A,S,E,x,P,M=0,R=t.length;const C=32===e.length?3:9;_=3===C?r?[0,32,2]:[30,-2,-2]:r?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],r&&(R=(t=function(e,t){const r=8-e.length%8;let n;if(2===t&&r<8)n=32;else if(1===t)n=r;else{if(t||!(r<8)){if(8===r)return e;throw Error("des: invalid padding")}n=0}const i=new Uint8Array(e.length+r);for(let t=0;t<e.length;t++)i[t]=e[t];for(let t=0;t<r;t++)i[e.length+t]=n;return i}(t,a)).length);let I=new Uint8Array(R),B=0;for(1===n&&(k=i[M++]<<24|i[M++]<<16|i[M++]<<8|i[M++],S=i[M++]<<24|i[M++]<<16|i[M++]<<8|i[M++],M=0);M<R;){for(w=t[M++]<<24|t[M++]<<16|t[M++]<<8|t[M++],v=t[M++]<<24|t[M++]<<16|t[M++]<<8|t[M++],1===n&&(r?(w^=k,v^=S):(A=k,E=S,k=w,S=v)),b=252645135&(w>>>4^v),v^=b,w^=b<<4,b=65535&(w>>>16^v),v^=b,w^=b<<16,b=858993459&(v>>>2^w),w^=b,v^=b<<2,b=16711935&(v>>>8^w),w^=b,v^=b<<8,b=1431655765&(w>>>1^v),v^=b,w^=b<<1,w=w<<1|w>>>31,v=v<<1|v>>>31,y=0;y<C;y+=3){for(x=_[y+1],P=_[y+2],p=_[y];p!==x;p+=P)g=v^e[p],m=(v>>>4|v<<28)^e[p+1],b=w,w=v,v=b^(o[g>>>24&63]|u[g>>>16&63]|f[g>>>8&63]|d[63&g]|s[m>>>24&63]|c[m>>>16&63]|h[m>>>8&63]|l[63&m]);b=w,w=v,v=b}w=w>>>1|w<<31,v=v>>>1|v<<31,b=1431655765&(w>>>1^v),v^=b,w^=b<<1,b=16711935&(v>>>8^w),w^=b,v^=b<<8,b=858993459&(v>>>2^w),w^=b,v^=b<<2,b=65535&(w>>>16^v),v^=b,w^=b<<16,b=252645135&(w>>>4^v),v^=b,w^=b<<4,1===n&&(r?(k=w,S=v):(w^=A,v^=E)),I[B++]=w>>>24,I[B++]=w>>>16&255,I[B++]=w>>>8&255,I[B++]=255&w,I[B++]=v>>>24,I[B++]=v>>>16&255,I[B++]=v>>>8&255,I[B++]=255&v}return r||(I=function(e,t){let r,n=null;if(2===t)r=32;else if(1===t)n=e[e.length-1];else{if(t)throw Error("des: invalid padding");r=0}if(!n){for(n=1;e[e.length-n]===r;)n++;n--}return e.subarray(0,e.length-n)}(I,a)),I}function Ce(e){const t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],h=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],f=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],l=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],p=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=e.length>8?3:1,b=Array(32*y),g=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0];let m,w,v,_=0,k=0;for(let A=0;A<y;A++){let y=e[_++]<<24|e[_++]<<16|e[_++]<<8|e[_++],A=e[_++]<<24|e[_++]<<16|e[_++]<<8|e[_++];v=252645135&(y>>>4^A),A^=v,y^=v<<4,v=65535&(A>>>-16^y),y^=v,A^=v<<-16,v=858993459&(y>>>2^A),A^=v,y^=v<<2,v=65535&(A>>>-16^y),y^=v,A^=v<<-16,v=1431655765&(y>>>1^A),A^=v,y^=v<<1,v=16711935&(A>>>8^y),y^=v,A^=v<<8,v=1431655765&(y>>>1^A),A^=v,y^=v<<1,v=y<<8|A>>>20&240,y=A<<24|A<<8&16711680|A>>>8&65280|A>>>24&240,A=v;for(let e=0;e<16;e++)g[e]?(y=y<<2|y>>>26,A=A<<2|A>>>26):(y=y<<1|y>>>27,A=A<<1|A>>>27),y&=-15,A&=-15,m=t[y>>>28]|r[y>>>24&15]|n[y>>>20&15]|i[y>>>16&15]|a[y>>>12&15]|s[y>>>8&15]|o[y>>>4&15],w=c[A>>>28]|u[A>>>24&15]|h[A>>>20&15]|f[A>>>16&15]|l[A>>>12&15]|d[A>>>8&15]|p[A>>>4&15],v=65535&(w>>>16^m),b[k++]=m^v,b[k++]=w^v<<16}return b}function Ie(e){this.key=[];for(let t=0;t<3;t++)this.key.push(new Uint8Array(e.subarray(8*t,8*t+8)));this.encrypt=function(e){return Re(Ce(this.key[2]),Re(Ce(this.key[1]),Re(Ce(this.key[0]),e,!0,0,null,null),!1,0,null,null),!0,0,null,null)}}function Be(){this.BlockSize=8,this.KeySize=16,this.setKey=function(e){if(this.masking=Array(16),this.rotate=Array(16),this.reset(),e.length!==this.KeySize)throw Error("CAST-128: keys must be 16 bytes");return this.keySchedule(e),!0},this.reset=function(){for(let e=0;e<16;e++)this.masking[e]=0,this.rotate[e]=0},this.getBlockSize=function(){return this.BlockSize},this.encrypt=function(e){const t=Array(e.length);for(let a=0;a<e.length;a+=8){let s,o=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3],c=e[a+4]<<24|e[a+5]<<16|e[a+6]<<8|e[a+7];s=c,c=o^r(c,this.masking[0],this.rotate[0]),o=s,s=c,c=o^n(c,this.masking[1],this.rotate[1]),o=s,s=c,c=o^i(c,this.masking[2],this.rotate[2]),o=s,s=c,c=o^r(c,this.masking[3],this.rotate[3]),o=s,s=c,c=o^n(c,this.masking[4],this.rotate[4]),o=s,s=c,c=o^i(c,this.masking[5],this.rotate[5]),o=s,s=c,c=o^r(c,this.masking[6],this.rotate[6]),o=s,s=c,c=o^n(c,this.masking[7],this.rotate[7]),o=s,s=c,c=o^i(c,this.masking[8],this.rotate[8]),o=s,s=c,c=o^r(c,this.masking[9],this.rotate[9]),o=s,s=c,c=o^n(c,this.masking[10],this.rotate[10]),o=s,s=c,c=o^i(c,this.masking[11],this.rotate[11]),o=s,s=c,c=o^r(c,this.masking[12],this.rotate[12]),o=s,s=c,c=o^n(c,this.masking[13],this.rotate[13]),o=s,s=c,c=o^i(c,this.masking[14],this.rotate[14]),o=s,s=c,c=o^r(c,this.masking[15],this.rotate[15]),o=s,t[a]=c>>>24&255,t[a+1]=c>>>16&255,t[a+2]=c>>>8&255,t[a+3]=255&c,t[a+4]=o>>>24&255,t[a+5]=o>>>16&255,t[a+6]=o>>>8&255,t[a+7]=255&o}return t},this.decrypt=function(e){const t=Array(e.length);for(let a=0;a<e.length;a+=8){let s,o=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3],c=e[a+4]<<24|e[a+5]<<16|e[a+6]<<8|e[a+7];s=c,c=o^r(c,this.masking[15],this.rotate[15]),o=s,s=c,c=o^i(c,this.masking[14],this.rotate[14]),o=s,s=c,c=o^n(c,this.masking[13],this.rotate[13]),o=s,s=c,c=o^r(c,this.masking[12],this.rotate[12]),o=s,s=c,c=o^i(c,this.masking[11],this.rotate[11]),o=s,s=c,c=o^n(c,this.masking[10],this.rotate[10]),o=s,s=c,c=o^r(c,this.masking[9],this.rotate[9]),o=s,s=c,c=o^i(c,this.masking[8],this.rotate[8]),o=s,s=c,c=o^n(c,this.masking[7],this.rotate[7]),o=s,s=c,c=o^r(c,this.masking[6],this.rotate[6]),o=s,s=c,c=o^i(c,this.masking[5],this.rotate[5]),o=s,s=c,c=o^n(c,this.masking[4],this.rotate[4]),o=s,s=c,c=o^r(c,this.masking[3],this.rotate[3]),o=s,s=c,c=o^i(c,this.masking[2],this.rotate[2]),o=s,s=c,c=o^n(c,this.masking[1],this.rotate[1]),o=s,s=c,c=o^r(c,this.masking[0],this.rotate[0]),o=s,t[a]=c>>>24&255,t[a+1]=c>>>16&255,t[a+2]=c>>>8&255,t[a+3]=255&c,t[a+4]=o>>>24&255,t[a+5]=o>>16&255,t[a+6]=o>>8&255,t[a+7]=255&o}return t};const e=[,,,,];e[0]=[,,,,],e[0][0]=[4,0,13,15,12,14,8],e[0][1]=[5,2,16,18,17,19,10],e[0][2]=[6,3,23,22,21,20,9],e[0][3]=[7,1,26,25,27,24,11],e[1]=[,,,,],e[1][0]=[0,6,21,23,20,22,16],e[1][1]=[1,4,0,2,1,3,18],e[1][2]=[2,5,7,6,5,4,17],e[1][3]=[3,7,10,9,11,8,19],e[2]=[,,,,],e[2][0]=[4,0,13,15,12,14,8],e[2][1]=[5,2,16,18,17,19,10],e[2][2]=[6,3,23,22,21,20,9],e[2][3]=[7,1,26,25,27,24,11],e[3]=[,,,,],e[3][0]=[0,6,21,23,20,22,16],e[3][1]=[1,4,0,2,1,3,18],e[3][2]=[2,5,7,6,5,4,17],e[3][3]=[3,7,10,9,11,8,19];const t=[,,,,];function r(e,t,r){const n=t+e,i=n<<r|n>>>32-r;return(a[0][i>>>24]^a[1][i>>>16&255])-a[2][i>>>8&255]+a[3][255&i]}function n(e,t,r){const n=t^e,i=n<<r|n>>>32-r;return a[0][i>>>24]-a[1][i>>>16&255]+a[2][i>>>8&255]^a[3][255&i]}function i(e,t,r){const n=t-e,i=n<<r|n>>>32-r;return(a[0][i>>>24]+a[1][i>>>16&255]^a[2][i>>>8&255])-a[3][255&i]}t[0]=[,,,,],t[0][0]=[24,25,23,22,18],t[0][1]=[26,27,21,20,22],t[0][2]=[28,29,19,18,25],t[0][3]=[30,31,17,16,28],t[1]=[,,,,],t[1][0]=[3,2,12,13,8],t[1][1]=[1,0,14,15,13],t[1][2]=[7,6,8,9,3],t[1][3]=[5,4,10,11,7],t[2]=[,,,,],t[2][0]=[19,18,28,29,25],t[2][1]=[17,16,30,31,28],t[2][2]=[23,22,24,25,18],t[2][3]=[21,20,26,27,22],t[3]=[,,,,],t[3][0]=[8,9,7,6,3],t[3][1]=[10,11,5,4,7],t[3][2]=[12,13,3,2,8],t[3][3]=[14,15,1,0,13],this.keySchedule=function(r){const n=[,,,,,,,,],i=Array(32);let s;for(let e=0;e<4;e++)s=4*e,n[e]=r[s]<<24|r[s+1]<<16|r[s+2]<<8|r[s+3];const o=[6,7,4,5];let c,u=0;for(let r=0;r<2;r++)for(let r=0;r<4;r++){for(s=0;s<4;s++){const t=e[r][s];c=n[t[1]],c^=a[4][n[t[2]>>>2]>>>24-8*(3&t[2])&255],c^=a[5][n[t[3]>>>2]>>>24-8*(3&t[3])&255],c^=a[6][n[t[4]>>>2]>>>24-8*(3&t[4])&255],c^=a[7][n[t[5]>>>2]>>>24-8*(3&t[5])&255],c^=a[o[s]][n[t[6]>>>2]>>>24-8*(3&t[6])&255],n[t[0]]=c}for(s=0;s<4;s++){const e=t[r][s];c=a[4][n[e[0]>>>2]>>>24-8*(3&e[0])&255],c^=a[5][n[e[1]>>>2]>>>24-8*(3&e[1])&255],c^=a[6][n[e[2]>>>2]>>>24-8*(3&e[2])&255],c^=a[7][n[e[3]>>>2]>>>24-8*(3&e[3])&255],c^=a[4+s][n[e[4]>>>2]>>>24-8*(3&e[4])&255],i[u]=c,u++}}for(let e=0;e<16;e++)this.masking[e]=i[e],this.rotate[e]=31&i[16+e]};const a=[,,,,,,,,];a[0]=[821772500,2678128395,1810681135,1059425402,505495343,2617265619,1610868032,3483355465,3218386727,2294005173,3791863952,2563806837,1852023008,365126098,3269944861,584384398,677919599,3229601881,4280515016,2002735330,1136869587,3744433750,2289869850,2731719981,2714362070,879511577,1639411079,575934255,717107937,2857637483,576097850,2731753936,1725645e3,2810460463,5111599,767152862,2543075244,1251459544,1383482551,3052681127,3089939183,3612463449,1878520045,1510570527,2189125840,2431448366,582008916,3163445557,1265446783,1354458274,3529918736,3202711853,3073581712,3912963487,3029263377,1275016285,4249207360,2905708351,3304509486,1442611557,3585198765,2712415662,2731849581,3248163920,2283946226,208555832,2766454743,1331405426,1447828783,3315356441,3108627284,2957404670,2981538698,3339933917,1669711173,286233437,1465092821,1782121619,3862771680,710211251,980974943,1651941557,430374111,2051154026,704238805,4128970897,3144820574,2857402727,948965521,3333752299,2227686284,718756367,2269778983,2731643755,718440111,2857816721,3616097120,1113355533,2478022182,410092745,1811985197,1944238868,2696854588,1415722873,1682284203,1060277122,1998114690,1503841958,82706478,2315155686,1068173648,845149890,2167947013,1768146376,1993038550,3566826697,3390574031,940016341,3355073782,2328040721,904371731,1205506512,4094660742,2816623006,825647681,85914773,2857843460,1249926541,1417871568,3287612,3211054559,3126306446,1975924523,1353700161,2814456437,2438597621,1800716203,722146342,2873936343,1151126914,4160483941,2877670899,458611604,2866078500,3483680063,770352098,2652916994,3367839148,3940505011,3585973912,3809620402,718646636,2504206814,2914927912,3631288169,2857486607,2860018678,575749918,2857478043,718488780,2069512688,3548183469,453416197,1106044049,3032691430,52586708,3378514636,3459808877,3211506028,1785789304,218356169,3571399134,3759170522,1194783844,1523787992,3007827094,1975193539,2555452411,1341901877,3045838698,3776907964,3217423946,2802510864,2889438986,1057244207,1636348243,3761863214,1462225785,2632663439,481089165,718503062,24497053,3332243209,3344655856,3655024856,3960371065,1195698900,2971415156,3710176158,2115785917,4027663609,3525578417,2524296189,2745972565,3564906415,1372086093,1452307862,2780501478,1476592880,3389271281,18495466,2378148571,901398090,891748256,3279637769,3157290713,2560960102,1447622437,4284372637,216884176,2086908623,1879786977,3588903153,2242455666,2938092967,3559082096,2810645491,758861177,1121993112,215018983,642190776,4169236812,1196255959,2081185372,3508738393,941322904,4124243163,2877523539,1848581667,2205260958,3180453958,2589345134,3694731276,550028657,2519456284,3789985535,2973870856,2093648313,443148163,46942275,2734146937,1117713533,1115362972,1523183689,3717140224,1551984063],a[1]=[522195092,4010518363,1776537470,960447360,4267822970,4005896314,1435016340,1929119313,2913464185,1310552629,3579470798,3724818106,2579771631,1594623892,417127293,2715217907,2696228731,1508390405,3994398868,3925858569,3695444102,4019471449,3129199795,3770928635,3520741761,990456497,4187484609,2783367035,21106139,3840405339,631373633,3783325702,532942976,396095098,3548038825,4267192484,2564721535,2011709262,2039648873,620404603,3776170075,2898526339,3612357925,4159332703,1645490516,223693667,1567101217,3362177881,1029951347,3470931136,3570957959,1550265121,119497089,972513919,907948164,3840628539,1613718692,3594177948,465323573,2659255085,654439692,2575596212,2699288441,3127702412,277098644,624404830,4100943870,2717858591,546110314,2403699828,3655377447,1321679412,4236791657,1045293279,4010672264,895050893,2319792268,494945126,1914543101,2777056443,3894764339,2219737618,311263384,4275257268,3458730721,669096869,3584475730,3835122877,3319158237,3949359204,2005142349,2713102337,2228954793,3769984788,569394103,3855636576,1425027204,108000370,2736431443,3671869269,3043122623,1750473702,2211081108,762237499,3972989403,2798899386,3061857628,2943854345,867476300,964413654,1591880597,1594774276,2179821409,552026980,3026064248,3726140315,2283577634,3110545105,2152310760,582474363,1582640421,1383256631,2043843868,3322775884,1217180674,463797851,2763038571,480777679,2718707717,2289164131,3118346187,214354409,200212307,3810608407,3025414197,2674075964,3997296425,1847405948,1342460550,510035443,4080271814,815934613,833030224,1620250387,1945732119,2703661145,3966000196,1388869545,3456054182,2687178561,2092620194,562037615,1356438536,3409922145,3261847397,1688467115,2150901366,631725691,3840332284,549916902,3455104640,394546491,837744717,2114462948,751520235,2221554606,2415360136,3999097078,2063029875,803036379,2702586305,821456707,3019566164,360699898,4018502092,3511869016,3677355358,2402471449,812317050,49299192,2570164949,3259169295,2816732080,3331213574,3101303564,2156015656,3705598920,3546263921,143268808,3200304480,1638124008,3165189453,3341807610,578956953,2193977524,3638120073,2333881532,807278310,658237817,2969561766,1641658566,11683945,3086995007,148645947,1138423386,4158756760,1981396783,2401016740,3699783584,380097457,2680394679,2803068651,3334260286,441530178,4016580796,1375954390,761952171,891809099,2183123478,157052462,3683840763,1592404427,341349109,2438483839,1417898363,644327628,2233032776,2353769706,2201510100,220455161,1815641738,182899273,2995019788,3627381533,3702638151,2890684138,1052606899,588164016,1681439879,4038439418,2405343923,4229449282,167996282,1336969661,1688053129,2739224926,1543734051,1046297529,1138201970,2121126012,115334942,1819067631,1902159161,1941945968,2206692869,1159982321],a[2]=[2381300288,637164959,3952098751,3893414151,1197506559,916448331,2350892612,2932787856,3199334847,4009478890,3905886544,1373570990,2450425862,4037870920,3778841987,2456817877,286293407,124026297,3001279700,1028597854,3115296800,4208886496,2691114635,2188540206,1430237888,1218109995,3572471700,308166588,570424558,2187009021,2455094765,307733056,1310360322,3135275007,1384269543,2388071438,863238079,2359263624,2801553128,3380786597,2831162807,1470087780,1728663345,4072488799,1090516929,532123132,2389430977,1132193179,2578464191,3051079243,1670234342,1434557849,2711078940,1241591150,3314043432,3435360113,3091448339,1812415473,2198440252,267246943,796911696,3619716990,38830015,1526438404,2806502096,374413614,2943401790,1489179520,1603809326,1920779204,168801282,260042626,2358705581,1563175598,2397674057,1356499128,2217211040,514611088,2037363785,2186468373,4022173083,2792511869,2913485016,1173701892,4200428547,3896427269,1334932762,2455136706,602925377,2835607854,1613172210,41346230,2499634548,2457437618,2188827595,41386358,4172255629,1313404830,2405527007,3801973774,2217704835,873260488,2528884354,2478092616,4012915883,2555359016,2006953883,2463913485,575479328,2218240648,2099895446,660001756,2341502190,3038761536,3888151779,3848713377,3286851934,1022894237,1620365795,3449594689,1551255054,15374395,3570825345,4249311020,4151111129,3181912732,310226346,1133119310,530038928,136043402,2476768958,3107506709,2544909567,1036173560,2367337196,1681395281,1758231547,3641649032,306774401,1575354324,3716085866,1990386196,3114533736,2455606671,1262092282,3124342505,2768229131,4210529083,1833535011,423410938,660763973,2187129978,1639812e3,3508421329,3467445492,310289298,272797111,2188552562,2456863912,310240523,677093832,1013118031,901835429,3892695601,1116285435,3036471170,1337354835,243122523,520626091,277223598,4244441197,4194248841,1766575121,594173102,316590669,742362309,3536858622,4176435350,3838792410,2501204839,1229605004,3115755532,1552908988,2312334149,979407927,3959474601,1148277331,176638793,3614686272,2083809052,40992502,1340822838,2731552767,3535757508,3560899520,1354035053,122129617,7215240,2732932949,3118912700,2718203926,2539075635,3609230695,3725561661,1928887091,2882293555,1988674909,2063640240,2491088897,1459647954,4189817080,2302804382,1113892351,2237858528,1927010603,4002880361,1856122846,1594404395,2944033133,3855189863,3474975698,1643104450,4054590833,3431086530,1730235576,2984608721,3084664418,2131803598,4178205752,267404349,1617849798,1616132681,1462223176,736725533,2327058232,551665188,2945899023,1749386277,2575514597,1611482493,674206544,2201269090,3642560800,728599968,1680547377,2620414464,1388111496,453204106,4156223445,1094905244,2754698257,2201108165,3757000246,2704524545,3922940700,3996465027],a[3]=[2645754912,532081118,2814278639,3530793624,1246723035,1689095255,2236679235,4194438865,2116582143,3859789411,157234593,2045505824,4245003587,1687664561,4083425123,605965023,672431967,1336064205,3376611392,214114848,4258466608,3232053071,489488601,605322005,3998028058,264917351,1912574028,756637694,436560991,202637054,135989450,85393697,2152923392,3896401662,2895836408,2145855233,3535335007,115294817,3147733898,1922296357,3464822751,4117858305,1037454084,2725193275,2127856640,1417604070,1148013728,1827919605,642362335,2929772533,909348033,1346338451,3547799649,297154785,1917849091,4161712827,2883604526,3968694238,1469521537,3780077382,3375584256,1763717519,136166297,4290970789,1295325189,2134727907,2798151366,1566297257,3672928234,2677174161,2672173615,965822077,2780786062,289653839,1133871874,3491843819,35685304,1068898316,418943774,672553190,642281022,2346158704,1954014401,3037126780,4079815205,2030668546,3840588673,672283427,1776201016,359975446,3750173538,555499703,2769985273,1324923,69110472,152125443,3176785106,3822147285,1340634837,798073664,1434183902,15393959,216384236,1303690150,3881221631,3711134124,3960975413,106373927,2578434224,1455997841,1801814300,1578393881,1854262133,3188178946,3258078583,2302670060,1539295533,3505142565,3078625975,2372746020,549938159,3278284284,2620926080,181285381,2865321098,3970029511,68876850,488006234,1728155692,2608167508,836007927,2435231793,919367643,3339422534,3655756360,1457871481,40520939,1380155135,797931188,234455205,2255801827,3990488299,397000196,739833055,3077865373,2871719860,4022553888,772369276,390177364,3853951029,557662966,740064294,1640166671,1699928825,3535942136,622006121,3625353122,68743880,1742502,219489963,1664179233,1577743084,1236991741,410585305,2366487942,823226535,1050371084,3426619607,3586839478,212779912,4147118561,1819446015,1911218849,530248558,3486241071,3252585495,2886188651,3410272728,2342195030,20547779,2982490058,3032363469,3631753222,312714466,1870521650,1493008054,3491686656,615382978,4103671749,2534517445,1932181,2196105170,278426614,6369430,3274544417,2913018367,697336853,2143000447,2946413531,701099306,1558357093,2805003052,3500818408,2321334417,3567135975,216290473,3591032198,23009561,1996984579,3735042806,2024298078,3739440863,569400510,2339758983,3016033873,3097871343,3639523026,3844324983,3256173865,795471839,2951117563,4101031090,4091603803,3603732598,971261452,534414648,428311343,3389027175,2844869880,694888862,1227866773,2456207019,3043454569,2614353370,3749578031,3676663836,459166190,4132644070,1794958188,51825668,2252611902,3084671440,2036672799,3436641603,1099053433,2469121526,3059204941,1323291266,2061838604,1018778475,2233344254,2553501054,334295216,3556750194,1065731521,183467730],a[4]=[2127105028,745436345,2601412319,2788391185,3093987327,500390133,1155374404,389092991,150729210,3891597772,3523549952,1935325696,716645080,946045387,2901812282,1774124410,3869435775,4039581901,3293136918,3438657920,948246080,363898952,3867875531,1286266623,1598556673,68334250,630723836,1104211938,1312863373,613332731,2377784574,1101634306,441780740,3129959883,1917973735,2510624549,3238456535,2544211978,3308894634,1299840618,4076074851,1756332096,3977027158,297047435,3790297736,2265573040,3621810518,1311375015,1667687725,47300608,3299642885,2474112369,201668394,1468347890,576830978,3594690761,3742605952,1958042578,1747032512,3558991340,1408974056,3366841779,682131401,1033214337,1545599232,4265137049,206503691,103024618,2855227313,1337551222,2428998917,2963842932,4015366655,3852247746,2796956967,3865723491,3747938335,247794022,3755824572,702416469,2434691994,397379957,851939612,2314769512,218229120,1380406772,62274761,214451378,3170103466,2276210409,3845813286,28563499,446592073,1693330814,3453727194,29968656,3093872512,220656637,2470637031,77972100,1667708854,1358280214,4064765667,2395616961,325977563,4277240721,4220025399,3605526484,3355147721,811859167,3069544926,3962126810,652502677,3075892249,4132761541,3498924215,1217549313,3250244479,3858715919,3053989961,1538642152,2279026266,2875879137,574252750,3324769229,2651358713,1758150215,141295887,2719868960,3515574750,4093007735,4194485238,1082055363,3417560400,395511885,2966884026,179534037,3646028556,3738688086,1092926436,2496269142,257381841,3772900718,1636087230,1477059743,2499234752,3811018894,2675660129,3285975680,90732309,1684827095,1150307763,1723134115,3237045386,1769919919,1240018934,815675215,750138730,2239792499,1234303040,1995484674,138143821,675421338,1145607174,1936608440,3238603024,2345230278,2105974004,323969391,779555213,3004902369,2861610098,1017501463,2098600890,2628620304,2940611490,2682542546,1171473753,3656571411,3687208071,4091869518,393037935,159126506,1662887367,1147106178,391545844,3452332695,1891500680,3016609650,1851642611,546529401,1167818917,3194020571,2848076033,3953471836,575554290,475796850,4134673196,450035699,2351251534,844027695,1080539133,86184846,1554234488,3692025454,1972511363,2018339607,1491841390,1141460869,1061690759,4244549243,2008416118,2351104703,2868147542,1598468138,722020353,1027143159,212344630,1387219594,1725294528,3745187956,2500153616,458938280,4129215917,1828119673,544571780,3503225445,2297937496,1241802790,267843827,2694610800,1397140384,1558801448,3782667683,1806446719,929573330,2234912681,400817706,616011623,4121520928,3603768725,1761550015,1968522284,4053731006,4192232858,4005120285,872482584,3140537016,3894607381,2287405443,1963876937,3663887957,1584857e3,2975024454,1833426440,4025083860],a[5]=[4143615901,749497569,1285769319,3795025788,2514159847,23610292,3974978748,844452780,3214870880,3751928557,2213566365,1676510905,448177848,3730751033,4086298418,2307502392,871450977,3222878141,4110862042,3831651966,2735270553,1310974780,2043402188,1218528103,2736035353,4274605013,2702448458,3936360550,2693061421,162023535,2827510090,687910808,23484817,3784910947,3371371616,779677500,3503626546,3473927188,4157212626,3500679282,4248902014,2466621104,3899384794,1958663117,925738300,1283408968,3669349440,1840910019,137959847,2679828185,1239142320,1315376211,1547541505,1690155329,739140458,3128809933,3933172616,3876308834,905091803,1548541325,4040461708,3095483362,144808038,451078856,676114313,2861728291,2469707347,993665471,373509091,2599041286,4025009006,4170239449,2149739950,3275793571,3749616649,2794760199,1534877388,572371878,2590613551,1753320020,3467782511,1405125690,4270405205,633333386,3026356924,3475123903,632057672,2846462855,1404951397,3882875879,3915906424,195638627,2385783745,3902872553,1233155085,3355999740,2380578713,2702246304,2144565621,3663341248,3894384975,2502479241,4248018925,3094885567,1594115437,572884632,3385116731,767645374,1331858858,1475698373,3793881790,3532746431,1321687957,619889600,1121017241,3440213920,2070816767,2833025776,1933951238,4095615791,890643334,3874130214,859025556,360630002,925594799,1764062180,3920222280,4078305929,979562269,2810700344,4087740022,1949714515,546639971,1165388173,3069891591,1495988560,922170659,1291546247,2107952832,1813327274,3406010024,3306028637,4241950635,153207855,2313154747,1608695416,1150242611,1967526857,721801357,1220138373,3691287617,3356069787,2112743302,3281662835,1111556101,1778980689,250857638,2298507990,673216130,2846488510,3207751581,3562756981,3008625920,3417367384,2198807050,529510932,3547516680,3426503187,2364944742,102533054,2294910856,1617093527,1204784762,3066581635,1019391227,1069574518,1317995090,1691889997,3661132003,510022745,3238594800,1362108837,1817929911,2184153760,805817662,1953603311,3699844737,120799444,2118332377,207536705,2282301548,4120041617,145305846,2508124933,3086745533,3261524335,1877257368,2977164480,3160454186,2503252186,4221677074,759945014,254147243,2767453419,3801518371,629083197,2471014217,907280572,3900796746,940896768,2751021123,2625262786,3161476951,3661752313,3260732218,1425318020,2977912069,1496677566,3988592072,2140652971,3126511541,3069632175,977771578,1392695845,1698528874,1411812681,1369733098,1343739227,3620887944,1142123638,67414216,3102056737,3088749194,1626167401,2546293654,3941374235,697522451,33404913,143560186,2595682037,994885535,1247667115,3859094837,2699155541,3547024625,4114935275,2968073508,3199963069,2732024527,1237921620,951448369,1898488916,1211705605,2790989240,2233243581,3598044975],a[6]=[2246066201,858518887,1714274303,3485882003,713916271,2879113490,3730835617,539548191,36158695,1298409750,419087104,1358007170,749914897,2989680476,1261868530,2995193822,2690628854,3443622377,3780124940,3796824509,2976433025,4259637129,1551479e3,512490819,1296650241,951993153,2436689437,2460458047,144139966,3136204276,310820559,3068840729,643875328,1969602020,1680088954,2185813161,3283332454,672358534,198762408,896343282,276269502,3014846926,84060815,197145886,376173866,3943890818,3813173521,3545068822,1316698879,1598252827,2633424951,1233235075,859989710,2358460855,3503838400,3409603720,1203513385,1193654839,2792018475,2060853022,207403770,1144516871,3068631394,1121114134,177607304,3785736302,326409831,1929119770,2983279095,4183308101,3474579288,3200513878,3228482096,119610148,1170376745,3378393471,3163473169,951863017,3337026068,3135789130,2907618374,1183797387,2015970143,4045674555,2182986399,2952138740,3928772205,384012900,2454997643,10178499,2879818989,2596892536,111523738,2995089006,451689641,3196290696,235406569,1441906262,3890558523,3013735005,4158569349,1644036924,376726067,1006849064,3664579700,2041234796,1021632941,1374734338,2566452058,371631263,4007144233,490221539,206551450,3140638584,1053219195,1853335209,3412429660,3562156231,735133835,1623211703,3104214392,2738312436,4096837757,3366392578,3110964274,3956598718,3196820781,2038037254,3877786376,2339753847,300912036,3766732888,2372630639,1516443558,4200396704,1574567987,4069441456,4122592016,2699739776,146372218,2748961456,2043888151,35287437,2596680554,655490400,1132482787,110692520,1031794116,2188192751,1324057718,1217253157,919197030,686247489,3261139658,1028237775,3135486431,3059715558,2460921700,986174950,2661811465,4062904701,2752986992,3709736643,367056889,1353824391,731860949,1650113154,1778481506,784341916,357075625,3608602432,1074092588,2480052770,3811426202,92751289,877911070,3600361838,1231880047,480201094,3756190983,3094495953,434011822,87971354,363687820,1717726236,1901380172,3926403882,2481662265,400339184,1490350766,2661455099,1389319756,2558787174,784598401,1983468483,30828846,3550527752,2716276238,3841122214,1765724805,1955612312,1277890269,1333098070,1564029816,2704417615,1026694237,3287671188,1260819201,3349086767,1016692350,1582273796,1073413053,1995943182,694588404,1025494639,3323872702,3551898420,4146854327,453260480,1316140391,1435673405,3038941953,3486689407,1622062951,403978347,817677117,950059133,4246079218,3278066075,1486738320,1417279718,481875527,2549965225,3933690356,760697757,1452955855,3897451437,1177426808,1702951038,4085348628,2447005172,1084371187,3516436277,3068336338,1073369276,1027665953,3284188590,1230553676,1368340146,2226246512,267243139,2274220762,4070734279,2497715176,2423353163,2504755875],a[7]=[3793104909,3151888380,2817252029,895778965,2005530807,3871412763,237245952,86829237,296341424,3851759377,3974600970,2475086196,709006108,1994621201,2972577594,937287164,3734691505,168608556,3189338153,2225080640,3139713551,3033610191,3025041904,77524477,185966941,1208824168,2344345178,1721625922,3354191921,1066374631,1927223579,1971335949,2483503697,1551748602,2881383779,2856329572,3003241482,48746954,1398218158,2050065058,313056748,4255789917,393167848,1912293076,940740642,3465845460,3091687853,2522601570,2197016661,1727764327,364383054,492521376,1291706479,3264136376,1474851438,1685747964,2575719748,1619776915,1814040067,970743798,1561002147,2925768690,2123093554,1880132620,3151188041,697884420,2550985770,2607674513,2659114323,110200136,1489731079,997519150,1378877361,3527870668,478029773,2766872923,1022481122,431258168,1112503832,897933369,2635587303,669726182,3383752315,918222264,163866573,3246985393,3776823163,114105080,1903216136,761148244,3571337562,1690750982,3166750252,1037045171,1888456500,2010454850,642736655,616092351,365016990,1185228132,4174898510,1043824992,2023083429,2241598885,3863320456,3279669087,3674716684,108438443,2132974366,830746235,606445527,4173263986,2204105912,1844756978,2532684181,4245352700,2969441100,3796921661,1335562986,4061524517,2720232303,2679424040,634407289,885462008,3294724487,3933892248,2094100220,339117932,4048830727,3202280980,1458155303,2689246273,1022871705,2464987878,3714515309,353796843,2822958815,4256850100,4052777845,551748367,618185374,3778635579,4020649912,1904685140,3069366075,2670879810,3407193292,2954511620,4058283405,2219449317,3135758300,1120655984,3447565834,1474845562,3577699062,550456716,3466908712,2043752612,881257467,869518812,2005220179,938474677,3305539448,3850417126,1315485940,3318264702,226533026,965733244,321539988,1136104718,804158748,573969341,3708209826,937399083,3290727049,2901666755,1461057207,4013193437,4066861423,3242773476,2421326174,1581322155,3028952165,786071460,3900391652,3918438532,1485433313,4023619836,3708277595,3678951060,953673138,1467089153,1930354364,1533292819,2492563023,1346121658,1685000834,1965281866,3765933717,4190206607,2052792609,3515332758,690371149,3125873887,2180283551,2903598061,3933952357,436236910,289419410,14314871,1242357089,2904507907,1616633776,2666382180,585885352,3471299210,2699507360,1432659641,277164553,3354103607,770115018,2303809295,3741942315,3177781868,2853364978,2269453327,3774259834,987383833,1290892879,225909803,1741533526,890078084,1496906255,1111072499,916028167,243534141,1252605537,2204162171,531204876,290011180,3916834213,102027703,237315147,209093447,1486785922,220223953,2758195998,4175039106,82940208,3127791296,2569425252,518464269,1353887104,3941492737,2377294467,3935040926]}function Ue(e){this.cast5=new Be,this.cast5.setKey(e),this.encrypt=function(e){return this.cast5.encrypt(e)}}Ie.keySize=Ie.prototype.keySize=24,Ie.blockSize=Ie.prototype.blockSize=8,Ue.blockSize=Ue.prototype.blockSize=8,Ue.keySize=Ue.prototype.keySize=16;const De=4294967295;function Te(e,t){return(e<<t|e>>>32-t)&De}function Ke(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function Oe(e,t,r){e.splice(t,4,255&r,r>>>8&255,r>>>16&255,r>>>24&255)}function ze(e,t){return e>>>8*t&255}function Le(e){this.tf=function(){let e=null,t=null,r=-1,n=[],i=[[],[],[],[]];function a(e){return i[0][ze(e,0)]^i[1][ze(e,1)]^i[2][ze(e,2)]^i[3][ze(e,3)]}function s(e){return i[0][ze(e,3)]^i[1][ze(e,0)]^i[2][ze(e,1)]^i[3][ze(e,2)]}function o(e,t){let r=a(t[0]),i=s(t[1]);t[2]=Te(t[2]^r+i+n[4*e+8]&De,31),t[3]=Te(t[3],1)^r+2*i+n[4*e+9]&De,r=a(t[2]),i=s(t[3]),t[0]=Te(t[0]^r+i+n[4*e+10]&De,31),t[1]=Te(t[1],1)^r+2*i+n[4*e+11]&De}function c(e,t){let r=a(t[0]),i=s(t[1]);t[2]=Te(t[2],1)^r+i+n[4*e+10]&De,t[3]=Te(t[3]^r+2*i+n[4*e+11]&De,31),r=a(t[2]),i=s(t[3]),t[0]=Te(t[0],1)^r+i+n[4*e+8]&De,t[1]=Te(t[1]^r+2*i+n[4*e+9]&De,31)}return{name:"twofish",blocksize:16,open:function(t){let r,a,s,o,c;e=t;const u=[],h=[],f=[];let l;const d=[];let p,y,b;const g=[[8,1,7,13,6,15,3,2,0,11,5,9,14,12,10,4],[2,8,11,13,15,7,6,14,3,1,9,4,0,10,12,5]],m=[[14,12,11,8,1,2,3,5,15,4,10,6,7,0,9,13],[1,14,2,11,4,12,3,7,6,13,10,5,15,9,0,8]],w=[[11,10,5,14,6,13,9,0,12,8,15,3,2,4,7,1],[4,12,7,5,1,6,9,10,0,14,13,8,2,11,3,15]],v=[[13,7,15,4,1,2,6,14,9,11,3,0,8,5,12,10],[11,9,5,1,12,3,13,14,6,4,7,15,2,0,8,10]],_=[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15],k=[0,9,2,11,4,13,6,15,8,1,10,3,12,5,14,7],A=[[],[]],S=[[],[],[],[]];function E(e){return e^e>>2^[0,90,180,238][3&e]}function x(e){return e^e>>1^e>>2^[0,238,180,90][3&e]}function P(e,t){let r,n,i;for(r=0;r<8;r++)n=t>>>24,t=t<<8&De|e>>>24,e=e<<8&De,i=n<<1,128&n&&(i^=333),t^=n^i<<16,i^=n>>>1,1&n&&(i^=166),t^=i<<24|i<<8;return t}function M(e,t){const r=t>>4,n=15&t,i=g[e][r^n],a=m[e][_[n]^k[r]];return v[e][_[a]^k[i]]<<4|w[e][i^a]}function R(e,t){let r=ze(e,0),n=ze(e,1),i=ze(e,2),a=ze(e,3);switch(l){case 4:r=A[1][r]^ze(t[3],0),n=A[0][n]^ze(t[3],1),i=A[0][i]^ze(t[3],2),a=A[1][a]^ze(t[3],3);case 3:r=A[1][r]^ze(t[2],0),n=A[1][n]^ze(t[2],1),i=A[0][i]^ze(t[2],2),a=A[0][a]^ze(t[2],3);case 2:r=A[0][A[0][r]^ze(t[1],0)]^ze(t[0],0),n=A[0][A[1][n]^ze(t[1],1)]^ze(t[0],1),i=A[1][A[0][i]^ze(t[1],2)]^ze(t[0],2),a=A[1][A[1][a]^ze(t[1],3)]^ze(t[0],3)}return S[0][r]^S[1][n]^S[2][i]^S[3][a]}for(e=e.slice(0,32),r=e.length;16!==r&&24!==r&&32!==r;)e[r++]=0;for(r=0;r<e.length;r+=4)f[r>>2]=Ke(e,r);for(r=0;r<256;r++)A[0][r]=M(0,r),A[1][r]=M(1,r);for(r=0;r<256;r++)p=A[1][r],y=E(p),b=x(p),S[0][r]=p+(y<<8)+(b<<16)+(b<<24),S[2][r]=y+(b<<8)+(p<<16)+(b<<24),p=A[0][r],y=E(p),b=x(p),S[1][r]=b+(b<<8)+(y<<16)+(p<<24),S[3][r]=y+(p<<8)+(b<<16)+(y<<24);for(l=f.length/2,r=0;r<l;r++)a=f[r+r],u[r]=a,s=f[r+r+1],h[r]=s,d[l-r-1]=P(a,s);for(r=0;r<40;r+=2)a=16843009*r,s=a+16843009,a=R(a,u),s=Te(R(s,h),8),n[r]=a+s&De,n[r+1]=Te(a+2*s,9);for(r=0;r<256;r++)switch(a=s=o=c=r,l){case 4:a=A[1][a]^ze(d[3],0),s=A[0][s]^ze(d[3],1),o=A[0][o]^ze(d[3],2),c=A[1][c]^ze(d[3],3);case 3:a=A[1][a]^ze(d[2],0),s=A[1][s]^ze(d[2],1),o=A[0][o]^ze(d[2],2),c=A[0][c]^ze(d[2],3);case 2:i[0][r]=S[0][A[0][A[0][a]^ze(d[1],0)]^ze(d[0],0)],i[1][r]=S[1][A[0][A[1][s]^ze(d[1],1)]^ze(d[0],1)],i[2][r]=S[2][A[1][A[0][o]^ze(d[1],2)]^ze(d[0],2)],i[3][r]=S[3][A[1][A[1][c]^ze(d[1],3)]^ze(d[0],3)]}},close:function(){n=[],i=[[],[],[],[]]},encrypt:function(e,i){t=e,r=i;const a=[Ke(t,r)^n[0],Ke(t,r+4)^n[1],Ke(t,r+8)^n[2],Ke(t,r+12)^n[3]];for(let e=0;e<8;e++)o(e,a);return Oe(t,r,a[2]^n[4]),Oe(t,r+4,a[3]^n[5]),Oe(t,r+8,a[0]^n[6]),Oe(t,r+12,a[1]^n[7]),r+=16,t},decrypt:function(e,i){t=e,r=i;const a=[Ke(t,r)^n[4],Ke(t,r+4)^n[5],Ke(t,r+8)^n[6],Ke(t,r+12)^n[7]];for(let e=7;e>=0;e--)c(e,a);Oe(t,r,a[2]^n[0]),Oe(t,r+4,a[3]^n[1]),Oe(t,r+8,a[0]^n[2]),Oe(t,r+12,a[1]^n[3]),r+=16},finalize:function(){return t}}}(),this.tf.open(Array.from(e),0),this.encrypt=function(e){return this.tf.encrypt(Array.from(e),0)}}function Ne(){}function qe(e){this.bf=new Ne,this.bf.init(e),this.encrypt=function(e){return this.bf.encryptBlock(e)}}Le.keySize=Le.prototype.keySize=32,Le.blockSize=Le.prototype.blockSize=16,Ne.prototype.BLOCKSIZE=8,Ne.prototype.SBOXES=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],Ne.prototype.PARRAY=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Ne.prototype.NN=16,Ne.prototype._clean=function(e){return e<0&&(e=2147483648+(2147483647&e)),e},Ne.prototype._F=function(e){let t;const r=255&e,n=255&(e>>>=8),i=255&(e>>>=8),a=255&(e>>>=8);return t=this.sboxes[0][a]+this.sboxes[1][i],t^=this.sboxes[2][n],t+=this.sboxes[3][r],t},Ne.prototype._encryptBlock=function(e){let t,r=e[0],n=e[1];for(t=0;t<this.NN;++t){r^=this.parray[t],n=this._F(r)^n;const e=r;r=n,n=e}r^=this.parray[this.NN+0],n^=this.parray[this.NN+1],e[0]=this._clean(n),e[1]=this._clean(r)},Ne.prototype.encryptBlock=function(e){let t;const r=[0,0],n=this.BLOCKSIZE/2;for(t=0;t<this.BLOCKSIZE/2;++t)r[0]=r[0]<<8|255&e[t+0],r[1]=r[1]<<8|255&e[t+n];this._encryptBlock(r);const i=[];for(t=0;t<this.BLOCKSIZE/2;++t)i[t+0]=r[0]>>>24-8*t&255,i[t+n]=r[1]>>>24-8*t&255;return i},Ne.prototype._decryptBlock=function(e){let t,r=e[0],n=e[1];for(t=this.NN+1;t>1;--t){r^=this.parray[t],n=this._F(r)^n;const e=r;r=n,n=e}r^=this.parray[1],n^=this.parray[0],e[0]=this._clean(n),e[1]=this._clean(r)},Ne.prototype.init=function(e){let t,r=0;for(this.parray=[],t=0;t<this.NN+2;++t){let n=0;for(let t=0;t<4;++t)n=n<<8|255&e[r],++r>=e.length&&(r=0);this.parray[t]=this.PARRAY[t]^n}for(this.sboxes=[],t=0;t<4;++t)for(this.sboxes[t]=[],r=0;r<256;++r)this.sboxes[t][r]=this.SBOXES[t][r];const n=[0,0];for(t=0;t<this.NN+2;t+=2)this._encryptBlock(n),this.parray[t+0]=n[0],this.parray[t+1]=n[1];for(t=0;t<4;++t)for(r=0;r<256;r+=2)this._encryptBlock(n),this.sboxes[t][r+0]=n[0],this.sboxes[t][r+1]=n[1]},qe.keySize=qe.prototype.keySize=16,qe.blockSize=qe.prototype.blockSize=8;const Fe=Me(128),je=Me(192),We=Me(256);var He=Object.freeze({__proto__:null,aes128:Fe,aes192:je,aes256:We,des:function(e){this.key=e,this.encrypt=function(e,t){return Re(Ce(this.key),e,!0,0,null,t)},this.decrypt=function(e,t){return Re(Ce(this.key),e,!1,0,null,t)}},tripledes:Ie,cast5:Ue,twofish:Le,blowfish:qe,idea:function(){throw Error("IDEA symmetric-key algorithm not implemented")}}),Ge=function(e,t,r){"use asm";var n=0,i=0,a=0,s=0,o=0,c=0,u=0;var h=0,f=0,l=0,d=0,p=0,y=0,b=0,g=0,m=0,w=0;var v=new e.Uint8Array(r);function _(e,t,r,c,u,h,f,l,d,p,y,b,g,m,w,v){e=e|0;t=t|0;r=r|0;c=c|0;u=u|0;h=h|0;f=f|0;l=l|0;d=d|0;p=p|0;y=y|0;b=b|0;g=g|0;m=m|0;w=w|0;v=v|0;var _=0,k=0,A=0,S=0,E=0,x=0,P=0,M=0,R=0,C=0,I=0,B=0,U=0,D=0,T=0,K=0,O=0,z=0,L=0,N=0,q=0,F=0,j=0,W=0,H=0,G=0,V=0,$=0,Y=0,X=0,Z=0,J=0,Q=0,ee=0,te=0,re=0,ne=0,ie=0,ae=0,se=0,oe=0,ce=0,ue=0,he=0,fe=0,le=0,de=0,pe=0,ye=0,be=0,ge=0,me=0,we=0,ve=0,_e=0,ke=0,Ae=0,Se=0,Ee=0,xe=0,Pe=0,Me=0,Re=0,Ce=0,Ie=0,Be=0,Ue=0,De=0,Te=0,Ke=0,Oe=0;_=n;k=i;A=a;S=s;E=o;P=e+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=t+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=r+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=c+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=u+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=h+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=f+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=l+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=d+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=p+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=y+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=b+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=g+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=m+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=w+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=v+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=m^d^r^e;M=x<<1|x>>>31;P=M+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=w^p^c^t;R=x<<1|x>>>31;P=R+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=v^y^u^r;C=x<<1|x>>>31;P=C+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=M^b^h^c;I=x<<1|x>>>31;P=I+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=R^g^f^u;B=x<<1|x>>>31;P=B+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=C^m^l^h;U=x<<1|x>>>31;P=U+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=I^w^d^f;D=x<<1|x>>>31;P=D+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=B^v^p^l;T=x<<1|x>>>31;P=T+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=U^M^y^d;K=x<<1|x>>>31;P=K+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=D^R^b^p;O=x<<1|x>>>31;P=O+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=T^C^g^y;z=x<<1|x>>>31;P=z+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=K^I^m^b;L=x<<1|x>>>31;P=L+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=O^B^w^g;N=x<<1|x>>>31;P=N+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=z^U^v^m;q=x<<1|x>>>31;P=q+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=L^D^M^w;F=x<<1|x>>>31;P=F+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=N^T^R^v;j=x<<1|x>>>31;P=j+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=q^K^C^M;W=x<<1|x>>>31;P=W+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=F^O^I^R;H=x<<1|x>>>31;P=H+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=j^z^B^C;G=x<<1|x>>>31;P=G+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=W^L^U^I;V=x<<1|x>>>31;P=V+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=H^N^D^B;$=x<<1|x>>>31;P=$+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=G^q^T^U;Y=x<<1|x>>>31;P=Y+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=V^F^K^D;X=x<<1|x>>>31;P=X+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=$^j^O^T;Z=x<<1|x>>>31;P=Z+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Y^W^z^K;J=x<<1|x>>>31;P=J+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=X^H^L^O;Q=x<<1|x>>>31;P=Q+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Z^G^N^z;ee=x<<1|x>>>31;P=ee+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=J^V^q^L;te=x<<1|x>>>31;P=te+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Q^$^F^N;re=x<<1|x>>>31;P=re+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ee^Y^j^q;ne=x<<1|x>>>31;P=ne+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=te^X^W^F;ie=x<<1|x>>>31;P=ie+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=re^Z^H^j;ae=x<<1|x>>>31;P=ae+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ne^J^G^W;se=x<<1|x>>>31;P=se+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ie^Q^V^H;oe=x<<1|x>>>31;P=oe+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ae^ee^$^G;ce=x<<1|x>>>31;P=ce+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=se^te^Y^V;ue=x<<1|x>>>31;P=ue+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=oe^re^X^$;he=x<<1|x>>>31;P=he+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ce^ne^Z^Y;fe=x<<1|x>>>31;P=fe+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ue^ie^J^X;le=x<<1|x>>>31;P=le+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=he^ae^Q^Z;de=x<<1|x>>>31;P=de+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=fe^se^ee^J;pe=x<<1|x>>>31;P=pe+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=le^oe^te^Q;ye=x<<1|x>>>31;P=ye+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=de^ce^re^ee;be=x<<1|x>>>31;P=be+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=pe^ue^ne^te;ge=x<<1|x>>>31;P=ge+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ye^he^ie^re;me=x<<1|x>>>31;P=me+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=be^fe^ae^ne;we=x<<1|x>>>31;P=we+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ge^le^se^ie;ve=x<<1|x>>>31;P=ve+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=me^de^oe^ae;_e=x<<1|x>>>31;P=_e+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=we^pe^ce^se;ke=x<<1|x>>>31;P=ke+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ve^ye^ue^oe;Ae=x<<1|x>>>31;P=Ae+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=_e^be^he^ce;Se=x<<1|x>>>31;P=Se+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ke^ge^fe^ue;Ee=x<<1|x>>>31;P=Ee+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Ae^me^le^he;xe=x<<1|x>>>31;P=xe+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Se^we^de^fe;Pe=x<<1|x>>>31;P=Pe+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Ee^ve^pe^le;Me=x<<1|x>>>31;P=Me+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=xe^_e^ye^de;Re=x<<1|x>>>31;P=Re+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Pe^ke^be^pe;Ce=x<<1|x>>>31;P=Ce+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Me^Ae^ge^ye;Ie=x<<1|x>>>31;P=Ie+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Re^Se^me^be;Be=x<<1|x>>>31;P=Be+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Ce^Ee^we^ge;Ue=x<<1|x>>>31;P=Ue+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Ie^xe^ve^me;De=x<<1|x>>>31;P=De+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Be^Pe^_e^we;Te=x<<1|x>>>31;P=Te+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Ue^Me^ke^ve;Ke=x<<1|x>>>31;P=Ke+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=De^Re^Ae^_e;Oe=x<<1|x>>>31;P=Oe+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;n=n+_|0;i=i+k|0;a=a+A|0;s=s+S|0;o=o+E|0}function k(e){e=e|0;_(v[e|0]<<24|v[e|1]<<16|v[e|2]<<8|v[e|3],v[e|4]<<24|v[e|5]<<16|v[e|6]<<8|v[e|7],v[e|8]<<24|v[e|9]<<16|v[e|10]<<8|v[e|11],v[e|12]<<24|v[e|13]<<16|v[e|14]<<8|v[e|15],v[e|16]<<24|v[e|17]<<16|v[e|18]<<8|v[e|19],v[e|20]<<24|v[e|21]<<16|v[e|22]<<8|v[e|23],v[e|24]<<24|v[e|25]<<16|v[e|26]<<8|v[e|27],v[e|28]<<24|v[e|29]<<16|v[e|30]<<8|v[e|31],v[e|32]<<24|v[e|33]<<16|v[e|34]<<8|v[e|35],v[e|36]<<24|v[e|37]<<16|v[e|38]<<8|v[e|39],v[e|40]<<24|v[e|41]<<16|v[e|42]<<8|v[e|43],v[e|44]<<24|v[e|45]<<16|v[e|46]<<8|v[e|47],v[e|48]<<24|v[e|49]<<16|v[e|50]<<8|v[e|51],v[e|52]<<24|v[e|53]<<16|v[e|54]<<8|v[e|55],v[e|56]<<24|v[e|57]<<16|v[e|58]<<8|v[e|59],v[e|60]<<24|v[e|61]<<16|v[e|62]<<8|v[e|63])}function A(e){e=e|0;v[e|0]=n>>>24;v[e|1]=n>>>16&255;v[e|2]=n>>>8&255;v[e|3]=n&255;v[e|4]=i>>>24;v[e|5]=i>>>16&255;v[e|6]=i>>>8&255;v[e|7]=i&255;v[e|8]=a>>>24;v[e|9]=a>>>16&255;v[e|10]=a>>>8&255;v[e|11]=a&255;v[e|12]=s>>>24;v[e|13]=s>>>16&255;v[e|14]=s>>>8&255;v[e|15]=s&255;v[e|16]=o>>>24;v[e|17]=o>>>16&255;v[e|18]=o>>>8&255;v[e|19]=o&255}function S(){n=0x67452301;i=0xefcdab89;a=0x98badcfe;s=0x10325476;o=0xc3d2e1f0;c=u=0}function E(e,t,r,h,f,l,d){e=e|0;t=t|0;r=r|0;h=h|0;f=f|0;l=l|0;d=d|0;n=e;i=t;a=r;s=h;o=f;c=l;u=d}function x(e,t){e=e|0;t=t|0;var r=0;if(e&63)return-1;while((t|0)>=64){k(e);e=e+64|0;t=t-64|0;r=r+64|0}c=c+r|0;if(c>>>0<r>>>0)u=u+1|0;return r|0}function P(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0;if(e&63)return-1;if(~r)if(r&31)return-1;if((t|0)>=64){n=x(e,t)|0;if((n|0)==-1)return-1;e=e+n|0;t=t-n|0}n=n+t|0;c=c+t|0;if(c>>>0<t>>>0)u=u+1|0;v[e|t]=0x80;if((t|0)>=56){for(i=t+1|0;(i|0)<64;i=i+1|0)v[e|i]=0x00;k(e);t=0;v[e|0]=0}for(i=t+1|0;(i|0)<59;i=i+1|0)v[e|i]=0;v[e|56]=u>>>21&255;v[e|57]=u>>>13&255;v[e|58]=u>>>5&255;v[e|59]=u<<3&255|c>>>29;v[e|60]=c>>>21&255;v[e|61]=c>>>13&255;v[e|62]=c>>>5&255;v[e|63]=c<<3&255;k(e);if(~r)A(r);return n|0}function M(){n=h;i=f;a=l;s=d;o=p;c=64;u=0}function R(){n=y;i=b;a=g;s=m;o=w;c=64;u=0}function C(e,t,r,v,k,A,E,x,P,M,R,C,I,B,U,D){e=e|0;t=t|0;r=r|0;v=v|0;k=k|0;A=A|0;E=E|0;x=x|0;P=P|0;M=M|0;R=R|0;C=C|0;I=I|0;B=B|0;U=U|0;D=D|0;S();_(e^0x5c5c5c5c,t^0x5c5c5c5c,r^0x5c5c5c5c,v^0x5c5c5c5c,k^0x5c5c5c5c,A^0x5c5c5c5c,E^0x5c5c5c5c,x^0x5c5c5c5c,P^0x5c5c5c5c,M^0x5c5c5c5c,R^0x5c5c5c5c,C^0x5c5c5c5c,I^0x5c5c5c5c,B^0x5c5c5c5c,U^0x5c5c5c5c,D^0x5c5c5c5c);y=n;b=i;g=a;m=s;w=o;S();_(e^0x36363636,t^0x36363636,r^0x36363636,v^0x36363636,k^0x36363636,A^0x36363636,E^0x36363636,x^0x36363636,P^0x36363636,M^0x36363636,R^0x36363636,C^0x36363636,I^0x36363636,B^0x36363636,U^0x36363636,D^0x36363636);h=n;f=i;l=a;d=s;p=o;c=64;u=0}function I(e,t,r){e=e|0;t=t|0;r=r|0;var c=0,u=0,h=0,f=0,l=0,d=0;if(e&63)return-1;if(~r)if(r&31)return-1;d=P(e,t,-1)|0;c=n,u=i,h=a,f=s,l=o;R();_(c,u,h,f,l,0x80000000,0,0,0,0,0,0,0,0,0,672);if(~r)A(r);return d|0}function B(e,t,r,c,u){e=e|0;t=t|0;r=r|0;c=c|0;u=u|0;var h=0,f=0,l=0,d=0,p=0,y=0,b=0,g=0,m=0,w=0;if(e&63)return-1;if(~u)if(u&31)return-1;v[e+t|0]=r>>>24;v[e+t+1|0]=r>>>16&255;v[e+t+2|0]=r>>>8&255;v[e+t+3|0]=r&255;I(e,t+4|0,-1)|0;h=y=n,f=b=i,l=g=a,d=m=s,p=w=o;c=c-1|0;while((c|0)>0){M();_(y,b,g,m,w,0x80000000,0,0,0,0,0,0,0,0,0,672);y=n,b=i,g=a,m=s,w=o;R();_(y,b,g,m,w,0x80000000,0,0,0,0,0,0,0,0,0,672);y=n,b=i,g=a,m=s,w=o;h=h^n;f=f^i;l=l^a;d=d^s;p=p^o;c=c-1|0}n=h;i=f;a=l;s=d;o=p;if(~u)A(u);return 0}return{reset:S,init:E,process:x,finish:P,hmac_reset:M,hmac_init:C,hmac_finish:I,pbkdf2_generate_block:B}};class Ve{constructor(){this.pos=0,this.len=0}reset(){const{asm:e}=this.acquire_asm();return this.result=null,this.pos=0,this.len=0,e.reset(),this}process(e){if(null!==this.result)throw new _e("state must be reset before processing new data");const{asm:t,heap:r}=this.acquire_asm();let n=this.pos,i=this.len,a=0,s=e.length,o=0;for(;s>0;)o=we(r,n+i,e,a,s),i+=o,a+=o,s-=o,o=t.process(n,i),n+=o,i-=o,i||(n=0);return this.pos=n,this.len=i,this}finish(){if(null!==this.result)throw new _e("state must be reset before processing new data");const{asm:e,heap:t}=this.acquire_asm();return e.finish(this.pos,this.len,0),this.result=new Uint8Array(this.HASH_SIZE),this.result.set(t.subarray(0,this.HASH_SIZE)),this.pos=0,this.len=0,this.release_asm(),this}}const $e=[],Ye=[];class Xe extends Ve{constructor(){super(),this.NAME="sha1",this.BLOCK_SIZE=64,this.HASH_SIZE=20,this.acquire_asm()}acquire_asm(){return void 0!==this.heap&&void 0!==this.asm||(this.heap=$e.pop()||me(),this.asm=Ye.pop()||Ge({Uint8Array},null,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&($e.push(this.heap),Ye.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(e){return(new Xe).process(e).finish().result}}Xe.NAME="sha1",Xe.heap_pool=[],Xe.asm_pool=[],Xe.asm_function=Ge;const Ze=[],Je=[];class Qe extends Ve{constructor(){super(),this.NAME="sha256",this.BLOCK_SIZE=64,this.HASH_SIZE=32,this.acquire_asm()}acquire_asm(){return void 0!==this.heap&&void 0!==this.asm||(this.heap=Ze.pop()||me(),this.asm=Je.pop()||function(e,t,r){"use asm";var n=0,i=0,a=0,s=0,o=0,c=0,u=0,h=0,f=0,l=0,d=0,p=0,y=0,b=0,g=0,m=0,w=0,v=0,_=0,k=0,A=0,S=0,E=0,x=0,P=0,M=0,R=new e.Uint8Array(r);function C(e,t,r,f,l,d,p,y,b,g,m,w,v,_,k,A){e=e|0;t=t|0;r=r|0;f=f|0;l=l|0;d=d|0;p=p|0;y=y|0;b=b|0;g=g|0;m=m|0;w=w|0;v=v|0;_=_|0;k=k|0;A=A|0;var S=0,E=0,x=0,P=0,M=0,R=0,C=0,I=0;S=n;E=i;x=a;P=s;M=o;R=c;C=u;I=h;I=e+I+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(C^M&(R^C))+0x428a2f98|0;P=P+I|0;I=I+(S&E^x&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;C=t+C+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(R^P&(M^R))+0x71374491|0;x=x+C|0;C=C+(I&S^E&(I^S))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0;R=r+R+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(M^x&(P^M))+0xb5c0fbcf|0;E=E+R|0;R=R+(C&I^S&(C^I))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;M=f+M+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(P^E&(x^P))+0xe9b5dba5|0;S=S+M|0;M=M+(R&C^I&(R^C))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;P=l+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(x^S&(E^x))+0x3956c25b|0;I=I+P|0;P=P+(M&R^C&(M^R))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;x=d+x+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(E^I&(S^E))+0x59f111f1|0;C=C+x|0;x=x+(P&M^R&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;E=p+E+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(S^C&(I^S))+0x923f82a4|0;R=R+E|0;E=E+(x&P^M&(x^P))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;S=y+S+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(I^R&(C^I))+0xab1c5ed5|0;M=M+S|0;S=S+(E&x^P&(E^x))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;I=b+I+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(C^M&(R^C))+0xd807aa98|0;P=P+I|0;I=I+(S&E^x&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;C=g+C+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(R^P&(M^R))+0x12835b01|0;x=x+C|0;C=C+(I&S^E&(I^S))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0;R=m+R+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(M^x&(P^M))+0x243185be|0;E=E+R|0;R=R+(C&I^S&(C^I))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;M=w+M+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(P^E&(x^P))+0x550c7dc3|0;S=S+M|0;M=M+(R&C^I&(R^C))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;P=v+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(x^S&(E^x))+0x72be5d74|0;I=I+P|0;P=P+(M&R^C&(M^R))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;x=_+x+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(E^I&(S^E))+0x80deb1fe|0;C=C+x|0;x=x+(P&M^R&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;E=k+E+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(S^C&(I^S))+0x9bdc06a7|0;R=R+E|0;E=E+(x&P^M&(x^P))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;S=A+S+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(I^R&(C^I))+0xc19bf174|0;M=M+S|0;S=S+(E&x^P&(E^x))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+e+g|0;I=e+I+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(C^M&(R^C))+0xe49b69c1|0;P=P+I|0;I=I+(S&E^x&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+t+m|0;C=t+C+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(R^P&(M^R))+0xefbe4786|0;x=x+C|0;C=C+(I&S^E&(I^S))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0;r=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+w|0;R=r+R+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(M^x&(P^M))+0x0fc19dc6|0;E=E+R|0;R=R+(C&I^S&(C^I))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;f=(l>>>7^l>>>18^l>>>3^l<<25^l<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+f+v|0;M=f+M+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(P^E&(x^P))+0x240ca1cc|0;S=S+M|0;M=M+(R&C^I&(R^C))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;l=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+l+_|0;P=l+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(x^S&(E^x))+0x2de92c6f|0;I=I+P|0;P=P+(M&R^C&(M^R))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;d=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+d+k|0;x=d+x+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(E^I&(S^E))+0x4a7484aa|0;C=C+x|0;x=x+(P&M^R&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;p=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(l>>>17^l>>>19^l>>>10^l<<15^l<<13)+p+A|0;E=p+E+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(S^C&(I^S))+0x5cb0a9dc|0;R=R+E|0;E=E+(x&P^M&(x^P))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;y=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+y+e|0;S=y+S+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(I^R&(C^I))+0x76f988da|0;M=M+S|0;S=S+(E&x^P&(E^x))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;b=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+b+t|0;I=b+I+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(C^M&(R^C))+0x983e5152|0;P=P+I|0;I=I+(S&E^x&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;g=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+g+r|0;C=g+C+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(R^P&(M^R))+0xa831c66d|0;x=x+C|0;C=C+(I&S^E&(I^S))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0;m=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+m+f|0;R=m+R+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(M^x&(P^M))+0xb00327c8|0;E=E+R|0;R=R+(C&I^S&(C^I))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;w=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+w+l|0;M=w+M+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(P^E&(x^P))+0xbf597fc7|0;S=S+M|0;M=M+(R&C^I&(R^C))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;v=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+v+d|0;P=v+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(x^S&(E^x))+0xc6e00bf3|0;I=I+P|0;P=P+(M&R^C&(M^R))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;_=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+_+p|0;x=_+x+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(E^I&(S^E))+0xd5a79147|0;C=C+x|0;x=x+(P&M^R&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;k=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+k+y|0;E=k+E+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(S^C&(I^S))+0x06ca6351|0;R=R+E|0;E=E+(x&P^M&(x^P))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;A=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+A+b|0;S=A+S+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(I^R&(C^I))+0x14292967|0;M=M+S|0;S=S+(E&x^P&(E^x))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+e+g|0;I=e+I+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(C^M&(R^C))+0x27b70a85|0;P=P+I|0;I=I+(S&E^x&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+t+m|0;C=t+C+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(R^P&(M^R))+0x2e1b2138|0;x=x+C|0;C=C+(I&S^E&(I^S))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0;r=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+w|0;R=r+R+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(M^x&(P^M))+0x4d2c6dfc|0;E=E+R|0;R=R+(C&I^S&(C^I))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;f=(l>>>7^l>>>18^l>>>3^l<<25^l<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+f+v|0;M=f+M+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(P^E&(x^P))+0x53380d13|0;S=S+M|0;M=M+(R&C^I&(R^C))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;l=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+l+_|0;P=l+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(x^S&(E^x))+0x650a7354|0;I=I+P|0;P=P+(M&R^C&(M^R))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;d=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+d+k|0;x=d+x+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(E^I&(S^E))+0x766a0abb|0;C=C+x|0;x=x+(P&M^R&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;p=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(l>>>17^l>>>19^l>>>10^l<<15^l<<13)+p+A|0;E=p+E+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(S^C&(I^S))+0x81c2c92e|0;R=R+E|0;E=E+(x&P^M&(x^P))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;y=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+y+e|0;S=y+S+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(I^R&(C^I))+0x92722c85|0;M=M+S|0;S=S+(E&x^P&(E^x))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;b=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+b+t|0;I=b+I+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(C^M&(R^C))+0xa2bfe8a1|0;P=P+I|0;I=I+(S&E^x&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;g=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+g+r|0;C=g+C+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(R^P&(M^R))+0xa81a664b|0;x=x+C|0;C=C+(I&S^E&(I^S))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0;m=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+m+f|0;R=m+R+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(M^x&(P^M))+0xc24b8b70|0;E=E+R|0;R=R+(C&I^S&(C^I))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;w=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+w+l|0;M=w+M+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(P^E&(x^P))+0xc76c51a3|0;S=S+M|0;M=M+(R&C^I&(R^C))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;v=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+v+d|0;P=v+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(x^S&(E^x))+0xd192e819|0;I=I+P|0;P=P+(M&R^C&(M^R))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;_=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+_+p|0;x=_+x+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(E^I&(S^E))+0xd6990624|0;C=C+x|0;x=x+(P&M^R&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;k=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+k+y|0;E=k+E+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(S^C&(I^S))+0xf40e3585|0;R=R+E|0;E=E+(x&P^M&(x^P))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;A=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+A+b|0;S=A+S+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(I^R&(C^I))+0x106aa070|0;M=M+S|0;S=S+(E&x^P&(E^x))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+e+g|0;I=e+I+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(C^M&(R^C))+0x19a4c116|0;P=P+I|0;I=I+(S&E^x&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+t+m|0;C=t+C+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(R^P&(M^R))+0x1e376c08|0;x=x+C|0;C=C+(I&S^E&(I^S))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0;r=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+w|0;R=r+R+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(M^x&(P^M))+0x2748774c|0;E=E+R|0;R=R+(C&I^S&(C^I))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;f=(l>>>7^l>>>18^l>>>3^l<<25^l<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+f+v|0;M=f+M+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(P^E&(x^P))+0x34b0bcb5|0;S=S+M|0;M=M+(R&C^I&(R^C))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;l=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+l+_|0;P=l+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(x^S&(E^x))+0x391c0cb3|0;I=I+P|0;P=P+(M&R^C&(M^R))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;d=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+d+k|0;x=d+x+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(E^I&(S^E))+0x4ed8aa4a|0;C=C+x|0;x=x+(P&M^R&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;p=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(l>>>17^l>>>19^l>>>10^l<<15^l<<13)+p+A|0;E=p+E+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(S^C&(I^S))+0x5b9cca4f|0;R=R+E|0;E=E+(x&P^M&(x^P))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;y=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+y+e|0;S=y+S+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(I^R&(C^I))+0x682e6ff3|0;M=M+S|0;S=S+(E&x^P&(E^x))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;b=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+b+t|0;I=b+I+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(C^M&(R^C))+0x748f82ee|0;P=P+I|0;I=I+(S&E^x&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;g=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+g+r|0;C=g+C+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(R^P&(M^R))+0x78a5636f|0;x=x+C|0;C=C+(I&S^E&(I^S))+(I>>>2^I>>>13^I>>>22^I<<30^I<<19^I<<10)|0;m=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+m+f|0;R=m+R+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(M^x&(P^M))+0x84c87814|0;E=E+R|0;R=R+(C&I^S&(C^I))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;w=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+w+l|0;M=w+M+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(P^E&(x^P))+0x8cc70208|0;S=S+M|0;M=M+(R&C^I&(R^C))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;v=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+v+d|0;P=v+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(x^S&(E^x))+0x90befffa|0;I=I+P|0;P=P+(M&R^C&(M^R))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;_=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+_+p|0;x=_+x+(I>>>6^I>>>11^I>>>25^I<<26^I<<21^I<<7)+(E^I&(S^E))+0xa4506ceb|0;C=C+x|0;x=x+(P&M^R&(P^M))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;k=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+k+y|0;E=k+E+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(S^C&(I^S))+0xbef9a3f7|0;R=R+E|0;E=E+(x&P^M&(x^P))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;A=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+A+b|0;S=A+S+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(I^R&(C^I))+0xc67178f2|0;M=M+S|0;S=S+(E&x^P&(E^x))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;n=n+S|0;i=i+E|0;a=a+x|0;s=s+P|0;o=o+M|0;c=c+R|0;u=u+C|0;h=h+I|0}function I(e){e=e|0;C(R[e|0]<<24|R[e|1]<<16|R[e|2]<<8|R[e|3],R[e|4]<<24|R[e|5]<<16|R[e|6]<<8|R[e|7],R[e|8]<<24|R[e|9]<<16|R[e|10]<<8|R[e|11],R[e|12]<<24|R[e|13]<<16|R[e|14]<<8|R[e|15],R[e|16]<<24|R[e|17]<<16|R[e|18]<<8|R[e|19],R[e|20]<<24|R[e|21]<<16|R[e|22]<<8|R[e|23],R[e|24]<<24|R[e|25]<<16|R[e|26]<<8|R[e|27],R[e|28]<<24|R[e|29]<<16|R[e|30]<<8|R[e|31],R[e|32]<<24|R[e|33]<<16|R[e|34]<<8|R[e|35],R[e|36]<<24|R[e|37]<<16|R[e|38]<<8|R[e|39],R[e|40]<<24|R[e|41]<<16|R[e|42]<<8|R[e|43],R[e|44]<<24|R[e|45]<<16|R[e|46]<<8|R[e|47],R[e|48]<<24|R[e|49]<<16|R[e|50]<<8|R[e|51],R[e|52]<<24|R[e|53]<<16|R[e|54]<<8|R[e|55],R[e|56]<<24|R[e|57]<<16|R[e|58]<<8|R[e|59],R[e|60]<<24|R[e|61]<<16|R[e|62]<<8|R[e|63])}function B(e){e=e|0;R[e|0]=n>>>24;R[e|1]=n>>>16&255;R[e|2]=n>>>8&255;R[e|3]=n&255;R[e|4]=i>>>24;R[e|5]=i>>>16&255;R[e|6]=i>>>8&255;R[e|7]=i&255;R[e|8]=a>>>24;R[e|9]=a>>>16&255;R[e|10]=a>>>8&255;R[e|11]=a&255;R[e|12]=s>>>24;R[e|13]=s>>>16&255;R[e|14]=s>>>8&255;R[e|15]=s&255;R[e|16]=o>>>24;R[e|17]=o>>>16&255;R[e|18]=o>>>8&255;R[e|19]=o&255;R[e|20]=c>>>24;R[e|21]=c>>>16&255;R[e|22]=c>>>8&255;R[e|23]=c&255;R[e|24]=u>>>24;R[e|25]=u>>>16&255;R[e|26]=u>>>8&255;R[e|27]=u&255;R[e|28]=h>>>24;R[e|29]=h>>>16&255;R[e|30]=h>>>8&255;R[e|31]=h&255}function U(){n=0x6a09e667;i=0xbb67ae85;a=0x3c6ef372;s=0xa54ff53a;o=0x510e527f;c=0x9b05688c;u=0x1f83d9ab;h=0x5be0cd19;f=l=0}function D(e,t,r,d,p,y,b,g,m,w){e=e|0;t=t|0;r=r|0;d=d|0;p=p|0;y=y|0;b=b|0;g=g|0;m=m|0;w=w|0;n=e;i=t;a=r;s=d;o=p;c=y;u=b;h=g;f=m;l=w}function T(e,t){e=e|0;t=t|0;var r=0;if(e&63)return-1;while((t|0)>=64){I(e);e=e+64|0;t=t-64|0;r=r+64|0}f=f+r|0;if(f>>>0<r>>>0)l=l+1|0;return r|0}function K(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0;if(e&63)return-1;if(~r)if(r&31)return-1;if((t|0)>=64){n=T(e,t)|0;if((n|0)==-1)return-1;e=e+n|0;t=t-n|0}n=n+t|0;f=f+t|0;if(f>>>0<t>>>0)l=l+1|0;R[e|t]=0x80;if((t|0)>=56){for(i=t+1|0;(i|0)<64;i=i+1|0)R[e|i]=0x00;I(e);t=0;R[e|0]=0}for(i=t+1|0;(i|0)<59;i=i+1|0)R[e|i]=0;R[e|56]=l>>>21&255;R[e|57]=l>>>13&255;R[e|58]=l>>>5&255;R[e|59]=l<<3&255|f>>>29;R[e|60]=f>>>21&255;R[e|61]=f>>>13&255;R[e|62]=f>>>5&255;R[e|63]=f<<3&255;I(e);if(~r)B(r);return n|0}function O(){n=d;i=p;a=y;s=b;o=g;c=m;u=w;h=v;f=64;l=0}function z(){n=_;i=k;a=A;s=S;o=E;c=x;u=P;h=M;f=64;l=0}function L(e,t,r,R,I,B,D,T,K,O,z,L,N,q,F,j){e=e|0;t=t|0;r=r|0;R=R|0;I=I|0;B=B|0;D=D|0;T=T|0;K=K|0;O=O|0;z=z|0;L=L|0;N=N|0;q=q|0;F=F|0;j=j|0;U();C(e^0x5c5c5c5c,t^0x5c5c5c5c,r^0x5c5c5c5c,R^0x5c5c5c5c,I^0x5c5c5c5c,B^0x5c5c5c5c,D^0x5c5c5c5c,T^0x5c5c5c5c,K^0x5c5c5c5c,O^0x5c5c5c5c,z^0x5c5c5c5c,L^0x5c5c5c5c,N^0x5c5c5c5c,q^0x5c5c5c5c,F^0x5c5c5c5c,j^0x5c5c5c5c);_=n;k=i;A=a;S=s;E=o;x=c;P=u;M=h;U();C(e^0x36363636,t^0x36363636,r^0x36363636,R^0x36363636,I^0x36363636,B^0x36363636,D^0x36363636,T^0x36363636,K^0x36363636,O^0x36363636,z^0x36363636,L^0x36363636,N^0x36363636,q^0x36363636,F^0x36363636,j^0x36363636);d=n;p=i;y=a;b=s;g=o;m=c;w=u;v=h;f=64;l=0}function N(e,t,r){e=e|0;t=t|0;r=r|0;var f=0,l=0,d=0,p=0,y=0,b=0,g=0,m=0,w=0;if(e&63)return-1;if(~r)if(r&31)return-1;w=K(e,t,-1)|0;f=n,l=i,d=a,p=s,y=o,b=c,g=u,m=h;z();C(f,l,d,p,y,b,g,m,0x80000000,0,0,0,0,0,0,768);if(~r)B(r);return w|0}function q(e,t,r,f,l){e=e|0;t=t|0;r=r|0;f=f|0;l=l|0;var d=0,p=0,y=0,b=0,g=0,m=0,w=0,v=0,_=0,k=0,A=0,S=0,E=0,x=0,P=0,M=0;if(e&63)return-1;if(~l)if(l&31)return-1;R[e+t|0]=r>>>24;R[e+t+1|0]=r>>>16&255;R[e+t+2|0]=r>>>8&255;R[e+t+3|0]=r&255;N(e,t+4|0,-1)|0;d=_=n,p=k=i,y=A=a,b=S=s,g=E=o,m=x=c,w=P=u,v=M=h;f=f-1|0;while((f|0)>0){O();C(_,k,A,S,E,x,P,M,0x80000000,0,0,0,0,0,0,768);_=n,k=i,A=a,S=s,E=o,x=c,P=u,M=h;z();C(_,k,A,S,E,x,P,M,0x80000000,0,0,0,0,0,0,768);_=n,k=i,A=a,S=s,E=o,x=c,P=u,M=h;d=d^n;p=p^i;y=y^a;b=b^s;g=g^o;m=m^c;w=w^u;v=v^h;f=f-1|0}n=d;i=p;a=y;s=b;o=g;c=m;u=w;h=v;if(~l)B(l);return 0}return{reset:U,init:D,process:T,finish:K,hmac_reset:O,hmac_init:L,hmac_finish:N,pbkdf2_generate_block:q}}({Uint8Array},null,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(Ze.push(this.heap),Je.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(e){return(new Qe).process(e).finish().result}}Qe.NAME="sha256";var et=tt;function tt(e,t){if(!e)throw Error(t||"Assertion failed")}tt.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)};var rt=void 0!==n?n:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function nt(e,t){return e(t={exports:{}},t.exports),t.exports}var it=nt((function(e){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}));function at(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function st(e){return 1===e.length?"0"+e:e}function ot(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}var ct={inherits:it,toArray:function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),a=i>>8,s=255&i;a?r.push(a,s):r.push(s)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},toHex:function(e){for(var t="",r=0;r<e.length;r++)t+=st(e[r].toString(16));return t},htonl:at,toHex32:function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=at(i)),r+=ot(i.toString(16))}return r},zero2:st,zero8:ot,join32:function(e,t,r,n){var i=r-t;et(i%4==0);for(var a=Array(i/4),s=0,o=t;s<a.length;s++,o+=4){var c;c="big"===n?e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3]:e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o],a[s]=c>>>0}return a},split32:function(e,t){for(var r=Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var a=e[n];"big"===t?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=255&a):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=255&a)}return r},rotr32:function(e,t){return e>>>t|e<<32-t},rotl32:function(e,t){return e<<t|e>>>32-t},sum32:function(e,t){return e+t>>>0},sum32_3:function(e,t,r){return e+t+r>>>0},sum32_4:function(e,t,r,n){return e+t+r+n>>>0},sum32_5:function(e,t,r,n,i){return e+t+r+n+i>>>0},sum64:function(e,t,r,n){var i=e[t],a=n+e[t+1]>>>0,s=(a<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=a},sum64_hi:function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},sum64_lo:function(e,t,r,n){return t+n>>>0},sum64_4_hi:function(e,t,r,n,i,a,s,o){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+a>>>0)<a?1:0,e+r+i+s+(c+=(u=u+o>>>0)<o?1:0)>>>0},sum64_4_lo:function(e,t,r,n,i,a,s,o){return t+n+a+o>>>0},sum64_5_hi:function(e,t,r,n,i,a,s,o,c,u){var h=0,f=t;return h+=(f=f+n>>>0)<t?1:0,h+=(f=f+a>>>0)<a?1:0,h+=(f=f+o>>>0)<o?1:0,e+r+i+s+c+(h+=(f=f+u>>>0)<u?1:0)>>>0},sum64_5_lo:function(e,t,r,n,i,a,s,o,c,u){return t+n+a+o+u>>>0},rotr64_hi:function(e,t,r){return(t<<32-r|e>>>r)>>>0},rotr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0},shr64_hi:function(e,t,r){return e>>>r},shr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0}};function ut(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var ht=ut;ut.prototype.update=function(e,t){if(e=ct.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=ct.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},ut.prototype.digest=function(e){return this.update(this._pad()),et(null===this.pending),this._digest(e)},ut.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,a=8;a<this.padLength;a++)n[i++]=0;return n};var ft={BlockHash:ht},lt=ct.rotr32;function dt(e,t,r){return e&t^~e&r}function pt(e,t,r){return e&t^e&r^t&r}function yt(e,t,r){return e^t^r}var bt=function(e,t,r,n){return 0===e?dt(t,r,n):1===e||3===e?yt(t,r,n):2===e?pt(t,r,n):void 0},gt=dt,mt=pt,wt=function(e){return lt(e,2)^lt(e,13)^lt(e,22)},vt=function(e){return lt(e,6)^lt(e,11)^lt(e,25)},_t=function(e){return lt(e,7)^lt(e,18)^e>>>3},kt=function(e){return lt(e,17)^lt(e,19)^e>>>10},At=ct.sum32,St=ct.sum32_4,Et=ct.sum32_5,xt=gt,Pt=mt,Mt=wt,Rt=vt,Ct=_t,It=kt,Bt=ft.BlockHash,Ut=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Dt(){if(!(this instanceof Dt))return new Dt;Bt.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Ut,this.W=Array(64)}ct.inherits(Dt,Bt);var Tt=Dt;function Kt(){if(!(this instanceof Kt))return new Kt;Tt.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Dt.blockSize=512,Dt.outSize=256,Dt.hmacStrength=192,Dt.padLength=64,Dt.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=St(It(r[n-2]),r[n-7],Ct(r[n-15]),r[n-16]);var i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],f=this.h[7];for(et(this.k.length===r.length),n=0;n<r.length;n++){var l=Et(f,Rt(c),xt(c,u,h),this.k[n],r[n]),d=At(Mt(i),Pt(i,a,s));f=h,h=u,u=c,c=At(o,l),o=s,s=a,a=i,i=At(l,d)}this.h[0]=At(this.h[0],i),this.h[1]=At(this.h[1],a),this.h[2]=At(this.h[2],s),this.h[3]=At(this.h[3],o),this.h[4]=At(this.h[4],c),this.h[5]=At(this.h[5],u),this.h[6]=At(this.h[6],h),this.h[7]=At(this.h[7],f)},Dt.prototype._digest=function(e){return"hex"===e?ct.toHex32(this.h,"big"):ct.split32(this.h,"big")},ct.inherits(Kt,Tt);var Ot=Kt;Kt.blockSize=512,Kt.outSize=224,Kt.hmacStrength=192,Kt.padLength=64,Kt.prototype._digest=function(e){return"hex"===e?ct.toHex32(this.h.slice(0,7),"big"):ct.split32(this.h.slice(0,7),"big")};var zt=ct.rotr64_hi,Lt=ct.rotr64_lo,Nt=ct.shr64_hi,qt=ct.shr64_lo,Ft=ct.sum64,jt=ct.sum64_hi,Wt=ct.sum64_lo,Ht=ct.sum64_4_hi,Gt=ct.sum64_4_lo,Vt=ct.sum64_5_hi,$t=ct.sum64_5_lo,Yt=ft.BlockHash,Xt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Zt(){if(!(this instanceof Zt))return new Zt;Yt.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Xt,this.W=Array(160)}ct.inherits(Zt,Yt);var Jt=Zt;function Qt(e,t,r,n,i){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function er(e,t,r,n,i,a){var s=t&n^~t&a;return s<0&&(s+=4294967296),s}function tr(e,t,r,n,i){var a=e&r^e&i^r&i;return a<0&&(a+=4294967296),a}function rr(e,t,r,n,i,a){var s=t&n^t&a^n&a;return s<0&&(s+=4294967296),s}function nr(e,t){var r=zt(e,t,28)^zt(t,e,2)^zt(t,e,7);return r<0&&(r+=4294967296),r}function ir(e,t){var r=Lt(e,t,28)^Lt(t,e,2)^Lt(t,e,7);return r<0&&(r+=4294967296),r}function ar(e,t){var r=zt(e,t,14)^zt(e,t,18)^zt(t,e,9);return r<0&&(r+=4294967296),r}function sr(e,t){var r=Lt(e,t,14)^Lt(e,t,18)^Lt(t,e,9);return r<0&&(r+=4294967296),r}function or(e,t){var r=zt(e,t,1)^zt(e,t,8)^Nt(e,t,7);return r<0&&(r+=4294967296),r}function cr(e,t){var r=Lt(e,t,1)^Lt(e,t,8)^qt(e,t,7);return r<0&&(r+=4294967296),r}function ur(e,t){var r=zt(e,t,19)^zt(t,e,29)^Nt(e,t,6);return r<0&&(r+=4294967296),r}function hr(e,t){var r=Lt(e,t,19)^Lt(t,e,29)^qt(e,t,6);return r<0&&(r+=4294967296),r}function fr(){if(!(this instanceof fr))return new fr;Jt.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Zt.blockSize=1024,Zt.outSize=512,Zt.hmacStrength=192,Zt.padLength=128,Zt.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=ur(r[n-4],r[n-3]),a=hr(r[n-4],r[n-3]),s=r[n-14],o=r[n-13],c=or(r[n-30],r[n-29]),u=cr(r[n-30],r[n-29]),h=r[n-32],f=r[n-31];r[n]=Ht(i,a,s,o,c,u,h,f),r[n+1]=Gt(i,a,s,o,c,u,h,f)}},Zt.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],c=this.h[5],u=this.h[6],h=this.h[7],f=this.h[8],l=this.h[9],d=this.h[10],p=this.h[11],y=this.h[12],b=this.h[13],g=this.h[14],m=this.h[15];et(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var v=g,_=m,k=ar(f,l),A=sr(f,l),S=Qt(f,0,d,0,y),E=er(0,l,0,p,0,b),x=this.k[w],P=this.k[w+1],M=r[w],R=r[w+1],C=Vt(v,_,k,A,S,E,x,P,M,R),I=$t(v,_,k,A,S,E,x,P,M,R);v=nr(n,i),_=ir(n,i),k=tr(n,0,a,0,o),A=rr(0,i,0,s,0,c);var B=jt(v,_,k,A),U=Wt(v,_,k,A);g=y,m=b,y=d,b=p,d=f,p=l,f=jt(u,h,C,I),l=Wt(h,h,C,I),u=o,h=c,o=a,c=s,a=n,s=i,n=jt(C,I,B,U),i=Wt(C,I,B,U)}Ft(this.h,0,n,i),Ft(this.h,2,a,s),Ft(this.h,4,o,c),Ft(this.h,6,u,h),Ft(this.h,8,f,l),Ft(this.h,10,d,p),Ft(this.h,12,y,b),Ft(this.h,14,g,m)},Zt.prototype._digest=function(e){return"hex"===e?ct.toHex32(this.h,"big"):ct.split32(this.h,"big")},ct.inherits(fr,Jt);var lr=fr;fr.blockSize=1024,fr.outSize=384,fr.hmacStrength=192,fr.padLength=128,fr.prototype._digest=function(e){return"hex"===e?ct.toHex32(this.h.slice(0,12),"big"):ct.split32(this.h.slice(0,12),"big")};var dr=ct.rotl32,pr=ct.sum32,yr=ct.sum32_3,br=ct.sum32_4,gr=ft.BlockHash;function mr(){if(!(this instanceof mr))return new mr;gr.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ct.inherits(mr,gr);var wr=mr;function vr(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function _r(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function kr(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}mr.blockSize=512,mr.outSize=160,mr.hmacStrength=192,mr.padLength=64,mr.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],a=this.h[3],s=this.h[4],o=r,c=n,u=i,h=a,f=s,l=0;l<80;l++){var d=pr(dr(br(r,vr(l,n,i,a),e[Ar[l]+t],_r(l)),Er[l]),s);r=s,s=a,a=dr(i,10),i=n,n=d,d=pr(dr(br(o,vr(79-l,c,u,h),e[Sr[l]+t],kr(l)),xr[l]),f),o=f,f=h,h=dr(u,10),u=c,c=d}d=yr(this.h[1],i,h),this.h[1]=yr(this.h[2],a,f),this.h[2]=yr(this.h[3],s,o),this.h[3]=yr(this.h[4],r,c),this.h[4]=yr(this.h[0],n,u),this.h[0]=d},mr.prototype._digest=function(e){return"hex"===e?ct.toHex32(this.h,"little"):ct.split32(this.h,"little")};var Ar=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Sr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Er=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],xr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Pr={ripemd160:wr};function Mr(e,t){let r=e[0],n=e[1],i=e[2],a=e[3];r=Cr(r,n,i,a,t[0],7,-680876936),a=Cr(a,r,n,i,t[1],12,-389564586),i=Cr(i,a,r,n,t[2],17,606105819),n=Cr(n,i,a,r,t[3],22,-1044525330),r=Cr(r,n,i,a,t[4],7,-176418897),a=Cr(a,r,n,i,t[5],12,1200080426),i=Cr(i,a,r,n,t[6],17,-1473231341),n=Cr(n,i,a,r,t[7],22,-45705983),r=Cr(r,n,i,a,t[8],7,1770035416),a=Cr(a,r,n,i,t[9],12,-1958414417),i=Cr(i,a,r,n,t[10],17,-42063),n=Cr(n,i,a,r,t[11],22,-1990404162),r=Cr(r,n,i,a,t[12],7,1804603682),a=Cr(a,r,n,i,t[13],12,-40341101),i=Cr(i,a,r,n,t[14],17,-1502002290),n=Cr(n,i,a,r,t[15],22,1236535329),r=Ir(r,n,i,a,t[1],5,-165796510),a=Ir(a,r,n,i,t[6],9,-1069501632),i=Ir(i,a,r,n,t[11],14,643717713),n=Ir(n,i,a,r,t[0],20,-373897302),r=Ir(r,n,i,a,t[5],5,-701558691),a=Ir(a,r,n,i,t[10],9,38016083),i=Ir(i,a,r,n,t[15],14,-660478335),n=Ir(n,i,a,r,t[4],20,-405537848),r=Ir(r,n,i,a,t[9],5,568446438),a=Ir(a,r,n,i,t[14],9,-1019803690),i=Ir(i,a,r,n,t[3],14,-187363961),n=Ir(n,i,a,r,t[8],20,1163531501),r=Ir(r,n,i,a,t[13],5,-1444681467),a=Ir(a,r,n,i,t[2],9,-51403784),i=Ir(i,a,r,n,t[7],14,1735328473),n=Ir(n,i,a,r,t[12],20,-1926607734),r=Br(r,n,i,a,t[5],4,-378558),a=Br(a,r,n,i,t[8],11,-2022574463),i=Br(i,a,r,n,t[11],16,1839030562),n=Br(n,i,a,r,t[14],23,-35309556),r=Br(r,n,i,a,t[1],4,-1530992060),a=Br(a,r,n,i,t[4],11,1272893353),i=Br(i,a,r,n,t[7],16,-155497632),n=Br(n,i,a,r,t[10],23,-1094730640),r=Br(r,n,i,a,t[13],4,681279174),a=Br(a,r,n,i,t[0],11,-358537222),i=Br(i,a,r,n,t[3],16,-722521979),n=Br(n,i,a,r,t[6],23,76029189),r=Br(r,n,i,a,t[9],4,-640364487),a=Br(a,r,n,i,t[12],11,-421815835),i=Br(i,a,r,n,t[15],16,530742520),n=Br(n,i,a,r,t[2],23,-995338651),r=Ur(r,n,i,a,t[0],6,-198630844),a=Ur(a,r,n,i,t[7],10,1126891415),i=Ur(i,a,r,n,t[14],15,-1416354905),n=Ur(n,i,a,r,t[5],21,-57434055),r=Ur(r,n,i,a,t[12],6,1700485571),a=Ur(a,r,n,i,t[3],10,-1894986606),i=Ur(i,a,r,n,t[10],15,-1051523),n=Ur(n,i,a,r,t[1],21,-2054922799),r=Ur(r,n,i,a,t[8],6,1873313359),a=Ur(a,r,n,i,t[15],10,-30611744),i=Ur(i,a,r,n,t[6],15,-1560198380),n=Ur(n,i,a,r,t[13],21,1309151649),r=Ur(r,n,i,a,t[4],6,-145523070),a=Ur(a,r,n,i,t[11],10,-1120210379),i=Ur(i,a,r,n,t[2],15,718787259),n=Ur(n,i,a,r,t[9],21,-343485551),e[0]=Or(r,e[0]),e[1]=Or(n,e[1]),e[2]=Or(i,e[2]),e[3]=Or(a,e[3])}function Rr(e,t,r,n,i,a){return t=Or(Or(t,e),Or(n,a)),Or(t<<i|t>>>32-i,r)}function Cr(e,t,r,n,i,a,s){return Rr(t&r|~t&n,e,t,i,a,s)}function Ir(e,t,r,n,i,a,s){return Rr(t&n|r&~n,e,t,i,a,s)}function Br(e,t,r,n,i,a,s){return Rr(t^r^n,e,t,i,a,s)}function Ur(e,t,r,n,i,a,s){return Rr(r^(t|~n),e,t,i,a,s)}function Dr(e){const t=[];let r;for(r=0;r<64;r+=4)t[r>>2]=e.charCodeAt(r)+(e.charCodeAt(r+1)<<8)+(e.charCodeAt(r+2)<<16)+(e.charCodeAt(r+3)<<24);return t}const Tr="0123456789abcdef".split("");function Kr(e){let t="",r=0;for(;r<4;r++)t+=Tr[e>>8*r+4&15]+Tr[e>>8*r&15];return t}function Or(e,t){return e+t&4294967295}const zr=Y.getWebCrypto(),Lr=Y.getNodeCrypto();function Nr(e){return async function(t){const r=Lr.createHash(e);return O(t,(e=>{r.update(e)}),(()=>new Uint8Array(r.digest())))}}function qr(e,t){return async function(r,n=ae){if(c(r)&&(r=await W(r)),!Y.isStream(r)&&zr&&t&&r.length>=n.minBytesForWebCrypto)return new Uint8Array(await zr.digest(t,r));const i=e();return O(r,(e=>{i.update(e)}),(()=>new Uint8Array(i.digest())))}}function Fr(e,t){return async function(r,n=ae){if(c(r)&&(r=await W(r)),Y.isStream(r)){const t=new e;return O(r,(e=>{t.process(e)}),(()=>t.finish().result))}return zr&&t&&r.length>=n.minBytesForWebCrypto?new Uint8Array(await zr.digest(t,r)):e.bytes(r)}}let jr;jr=Lr?{md5:Nr("md5"),sha1:Nr("sha1"),sha224:Nr("sha224"),sha256:Nr("sha256"),sha384:Nr("sha384"),sha512:Nr("sha512"),ripemd:Nr("ripemd160")}:{md5:async function(e){const t=function(e){const t=e.length,r=[1732584193,-271733879,-1732584194,271733878];let n;for(n=64;n<=e.length;n+=64)Mr(r,Dr(e.substring(n-64,n)));e=e.substring(n-64);const i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)i[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(Mr(r,i),n=0;n<16;n++)i[n]=0;return i[14]=8*t,Mr(r,i),r}(Y.uint8ArrayToString(e));return Y.hexToUint8Array(function(e){for(let t=0;t<e.length;t++)e[t]=Kr(e[t]);return e.join("")}(t))},sha1:Fr(Xe,-1===navigator.userAgent.indexOf("Edge")&&"SHA-1"),sha224:qr(Ot),sha256:Fr(Qe,"SHA-256"),sha384:qr(lr,"SHA-384"),sha512:qr(Jt,"SHA-512"),ripemd:qr(wr)};var Wr={md5:jr.md5,sha1:jr.sha1,sha224:jr.sha224,sha256:jr.sha256,sha384:jr.sha384,sha512:jr.sha512,ripemd:jr.ripemd,digest:function(e,t){switch(e){case 1:return this.md5(t);case 2:return this.sha1(t);case 3:return this.ripemd(t);case 8:return this.sha256(t);case 9:return this.sha384(t);case 10:return this.sha512(t);case 11:return this.sha224(t);default:throw Error("Invalid hash function.")}},getHashByteLength:function(e){switch(e){case 1:return 16;case 2:case 3:return 20;case 8:return 32;case 9:return 48;case 10:return 64;case 11:return 28;default:throw Error("Invalid hash algorithm.")}}};class Hr{static encrypt(e,t,r){return new Hr(t,r).encrypt(e)}static decrypt(e,t,r){return new Hr(t,r).decrypt(e)}constructor(e,t,r){this.aes=r||new xe(e,t,!0,"CFB"),delete this.aes.padding}encrypt(e){return ve(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return ve(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}const Gr=Y.getWebCrypto(),Vr=Y.getNodeCrypto(),$r=Vr?Vr.getCiphers():[],Yr={idea:$r.includes("idea-cfb")?"idea-cfb":void 0,tripledes:$r.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:$r.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:$r.includes("bf-cfb")?"bf-cfb":void 0,aes128:$r.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:$r.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:$r.includes("aes-256-cfb")?"aes-256-cfb":void 0};var Xr=Object.freeze({__proto__:null,encrypt:async function(e,t,r,n,i){if(Y.getNodeCrypto()&&Yr[e])return function(e,t,r,n){const i=new Vr.createCipheriv(Yr[e],t,n);return O(r,(e=>new Uint8Array(i.update(e))))}(e,t,r,n);if("aes"===e.substr(0,3))return function(e,t,r,n,i){if(Y.getWebCrypto()&&24!==t.length&&!Y.isStream(r)&&r.length>=3e3*i.minBytesForWebCrypto)return async function(e,t,r,n){const i=await Gr.importKey("raw",t,{name:"AES-CBC"},!1,["encrypt"]),{blockSize:a}=He[e],s=Y.concatUint8Array([new Uint8Array(a),r]),o=new Uint8Array(await Gr.encrypt({name:"AES-CBC",iv:n},i,s)).subarray(0,r.length);return function(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]^t[r]}(o,r),o}(e,t,r,n);const a=new Hr(t,n);return O(r,(e=>a.aes.AES_Encrypt_process(e)),(()=>a.aes.AES_Encrypt_finish()))}(e,t,r,n,i);const a=new He[e](t),s=a.blockSize,o=n.slice();let c=new Uint8Array;const u=e=>{e&&(c=Y.concatUint8Array([c,e]));const t=new Uint8Array(c.length);let r,n=0;for(;e?c.length>=s:c.length;){const e=a.encrypt(o);for(r=0;r<s;r++)o[r]=c[r]^e[r],t[n++]=o[r];c=c.subarray(s)}return t.subarray(0,n)};return O(r,u,u)},decrypt:async function(e,t,r,n){if(Y.getNodeCrypto()&&Yr[e])return function(e,t,r,n){const i=new Vr.createDecipheriv(Yr[e],t,n);return O(r,(e=>new Uint8Array(i.update(e))))}(e,t,r,n);if("aes"===e.substr(0,3))return function(e,t,r,n){if(Y.isStream(r)){const e=new Hr(t,n);return O(r,(t=>e.aes.AES_Decrypt_process(t)),(()=>e.aes.AES_Decrypt_finish()))}return Hr.decrypt(r,t,n)}(0,t,r,n);const i=new He[e](t),a=i.blockSize;let s=n,o=new Uint8Array;const c=e=>{e&&(o=Y.concatUint8Array([o,e]));const t=new Uint8Array(o.length);let r,n=0;for(;e?o.length>=a:o.length;){const e=i.encrypt(s);for(s=o,r=0;r<a;r++)t[n++]=s[r]^e[r];o=o.subarray(a)}return t.subarray(0,n)};return O(r,c,c)}});class Zr{static encrypt(e,t,r){return new Zr(t,r).encrypt(e)}static decrypt(e,t,r){return new Zr(t,r).encrypt(e)}constructor(e,t,r){this.aes=r||new xe(e,void 0,!1,"CTR"),delete this.aes.padding,this.AES_CTR_set_options(t)}encrypt(e){return ve(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return ve(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}AES_CTR_set_options(e,t,r){let{asm:n}=this.aes.acquire_asm();if(void 0!==r){if(r<8||r>48)throw new ke("illegal counter size");let e=Math.pow(2,r)-1;n.set_mask(0,0,e/4294967296|0,0|e)}else r=48,n.set_mask(0,0,65535,4294967295);if(void 0===e)throw Error("nonce is required");{let t=e.length;if(!t||t>16)throw new ke("illegal nonce size");let r=new DataView(new ArrayBuffer(16));new Uint8Array(r.buffer).set(e),n.set_nonce(r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12))}if(void 0!==t){if(t<0||t>=Math.pow(2,r))throw new ke("illegal counter value");n.set_counter(0,0,t/4294967296|0,0|t)}}}class Jr{static encrypt(e,t,r=!0,n){return new Jr(t,n,r).encrypt(e)}static decrypt(e,t,r=!0,n){return new Jr(t,n,r).decrypt(e)}constructor(e,t,r=!0,n){this.aes=n||new xe(e,t,r,"CBC")}encrypt(e){return ve(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return ve(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}const Qr=Y.getWebCrypto(),en=Y.getNodeCrypto();function tn(e,t){const r=e.length-16;for(let n=0;n<16;n++)e[n+r]^=t[n];return e}const rn=new Uint8Array(16);const nn=Y.getWebCrypto(),an=Y.getNodeCrypto(),sn=Y.getNodeBuffer(),on=new Uint8Array(16),cn=new Uint8Array(16);cn[15]=1;const un=new Uint8Array(16);async function hn(e){const t=await async function(e){const t=await async function(e){return Y.getWebCrypto()&&24!==e.length?(e=await Qr.importKey("raw",e,{name:"AES-CBC",length:8*e.length},!1,["encrypt"]),async function(t){const r=await Qr.encrypt({name:"AES-CBC",iv:rn,length:128},e,t);return new Uint8Array(r).subarray(0,r.byteLength-16)}):Y.getNodeCrypto()?async function(t){const r=new en.createCipheriv("aes-"+8*e.length+"-cbc",e,rn).update(t);return new Uint8Array(r)}:async function(t){return Jr.encrypt(t,e,!1,rn)}}(e),r=Y.double(await t(rn)),n=Y.double(r);return async function(e){return(await t(function(e,t,r){if(e.length&&e.length%16==0)return tn(e,t);const n=new Uint8Array(e.length+(16-e.length%16));return n.set(e),n[e.length]=128,tn(n,r)}(e,r,n))).subarray(-16)}}(e);return function(e,r){return t(Y.concatUint8Array([e,r]))}}async function fn(e){return Y.getWebCrypto()&&24!==e.length&&-1===navigator.userAgent.indexOf("Edge")?(e=await nn.importKey("raw",e,{name:"AES-CTR",length:8*e.length},!1,["encrypt"]),async function(t,r){const n=await nn.encrypt({name:"AES-CTR",counter:r,length:128},e,t);return new Uint8Array(n)}):Y.getNodeCrypto()?async function(t,r){const n=new an.createCipheriv("aes-"+8*e.length+"-ctr",e,r),i=sn.concat([n.update(t),n.final()]);return new Uint8Array(i)}:async function(t,r){return Zr.encrypt(t,e,r)}}async function ln(e,t){if("aes"!==e.substr(0,3))throw Error("EAX mode supports only AES cipher");const[r,n]=await Promise.all([hn(t),fn(t)]);return{encrypt:async function(e,t,i){const[a,s]=await Promise.all([r(on,t),r(cn,i)]),o=await n(e,a),c=await r(un,o);for(let e=0;e<16;e++)c[e]^=s[e]^a[e];return Y.concatUint8Array([o,c])},decrypt:async function(e,t,i){if(e.length<16)throw Error("Invalid EAX ciphertext");const a=e.subarray(0,-16),s=e.subarray(-16),[o,c,u]=await Promise.all([r(on,t),r(cn,i),r(un,a)]),h=u;for(let e=0;e<16;e++)h[e]^=c[e]^o[e];if(!Y.equalsUint8Array(s,h))throw Error("Authentication tag mismatch");return await n(a,o)}}}function dn(e){let t=0;for(let r=1;0==(e&r);r<<=1)t++;return t}function pn(e,t){for(let r=0;r<e.length;r++)e[r]^=t[r];return e}function yn(e,t){return pn(e.slice(),t)}un[15]=2,ln.getNonce=function(e,t){const r=e.slice();for(let e=0;e<t.length;e++)r[8+e]^=t[e];return r},ln.blockLength=16,ln.ivLength=16,ln.tagLength=16;const bn=new Uint8Array(16),gn=new Uint8Array([1]);async function mn(e,t){let r,n,i,a=0;function s(e,t,n,s){const o=t.length/16|0;!function(e,t){const r=Y.nbits(Math.max(e.length,t.length)/16|0)-1;for(let e=a+1;e<=r;e++)i[e]=Y.double(i[e-1]);a=r}(t,s);const c=Y.concatUint8Array([bn.subarray(0,15-n.length),gn,n]),u=63&c[15];c[15]&=192;const h=r(c),f=Y.concatUint8Array([h,yn(h.subarray(0,8),h.subarray(1,9))]),l=Y.shiftRight(f.subarray(0+(u>>3),17+(u>>3)),8-(7&u)).subarray(1),d=new Uint8Array(16),p=new Uint8Array(t.length+16);let y,b=0;for(y=0;y<o;y++)pn(l,i[dn(y+1)]),p.set(pn(e(yn(l,t)),l),b),pn(d,e===r?t:p.subarray(b)),t=t.subarray(16),b+=16;if(t.length){pn(l,i.x);const n=r(l);p.set(yn(t,n),b);const a=new Uint8Array(16);a.set(e===r?t:p.subarray(b,-16),0),a[t.length]=128,pn(d,a),b+=t.length}const g=pn(r(pn(pn(d,l),i.$)),function(e){if(!e.length)return bn;const t=e.length/16|0,n=new Uint8Array(16),a=new Uint8Array(16);for(let s=0;s<t;s++)pn(n,i[dn(s+1)]),pn(a,r(yn(n,e))),e=e.subarray(16);if(e.length){pn(n,i.x);const t=new Uint8Array(16);t.set(e,0),t[e.length]=128,pn(t,n),pn(a,r(t))}return a}(s));return p.set(g,b),p}return function(e,t){const a=new He[e](t);r=a.encrypt.bind(a),n=a.decrypt.bind(a);const s=r(bn),o=Y.double(s);i=[],i[0]=Y.double(o),i.x=s,i.$=o}(e,t),{encrypt:async function(e,t,n){return s(r,e,t,n)},decrypt:async function(e,t,r){if(e.length<16)throw Error("Invalid OCB ciphertext");const i=e.subarray(-16);e=e.subarray(0,-16);const a=s(n,e,t,r);if(Y.equalsUint8Array(i,a.subarray(-16)))return a.subarray(0,-16);throw Error("Authentication tag mismatch")}}}mn.getNonce=function(e,t){const r=e.slice();for(let e=0;e<t.length;e++)r[7+e]^=t[e];return r},mn.blockLength=16,mn.ivLength=15,mn.tagLength=16;class wn{constructor(e,t,r,n=16,i){this.tagSize=n,this.gamma0=0,this.counter=1,this.aes=i||new xe(e,void 0,!1,"CTR");let{asm:a,heap:s}=this.aes.acquire_asm();if(a.gcm_init(),this.tagSize<4||this.tagSize>16)throw new ke("illegal tagSize value");const o=t.length||0,c=new Uint8Array(16);12!==o?(this._gcm_mac_process(t),s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=0,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=0,s[11]=o>>>29,s[12]=o>>>21&255,s[13]=o>>>13&255,s[14]=o>>>5&255,s[15]=o<<3&255,a.mac(be.MAC.GCM,be.HEAP_DATA,16),a.get_iv(be.HEAP_DATA),a.set_iv(0,0,0,0),c.set(s.subarray(0,16))):(c.set(t),c[15]=1);const u=new DataView(c.buffer);if(this.gamma0=u.getUint32(12),a.set_nonce(u.getUint32(0),u.getUint32(4),u.getUint32(8),0),a.set_mask(0,0,0,4294967295),void 0!==r){if(r.length>68719476704)throw new ke("illegal adata length");r.length?(this.adata=r,this._gcm_mac_process(r)):this.adata=void 0}else this.adata=void 0;if(this.counter<1||this.counter>4294967295)throw new RangeError("counter must be a positive 32-bit integer");a.set_counter(0,0,0,this.gamma0+this.counter|0)}static encrypt(e,t,r,n,i){return new wn(t,r,n,i).encrypt(e)}static decrypt(e,t,r,n,i){return new wn(t,r,n,i).decrypt(e)}encrypt(e){return this.AES_GCM_encrypt(e)}decrypt(e){return this.AES_GCM_decrypt(e)}AES_GCM_Encrypt_process(e){let t=0,r=e.length||0,{asm:n,heap:i}=this.aes.acquire_asm(),a=this.counter,s=this.aes.pos,o=this.aes.len,c=0,u=o+r&-16,h=0;if((a-1<<4)+o+r>68719476704)throw new RangeError("counter overflow");const f=new Uint8Array(u);for(;r>0;)h=we(i,s+o,e,t,r),o+=h,t+=h,r-=h,h=n.cipher(be.ENC.CTR,be.HEAP_DATA+s,o),h=n.mac(be.MAC.GCM,be.HEAP_DATA+s,h),h&&f.set(i.subarray(s,s+h),c),a+=h>>>4,c+=h,h<o?(s+=h,o-=h):(s=0,o=0);return this.counter=a,this.aes.pos=s,this.aes.len=o,f}AES_GCM_Encrypt_finish(){let{asm:e,heap:t}=this.aes.acquire_asm(),r=this.counter,n=this.tagSize,i=this.adata,a=this.aes.pos,s=this.aes.len;const o=new Uint8Array(s+n);e.cipher(be.ENC.CTR,be.HEAP_DATA+a,s+15&-16),s&&o.set(t.subarray(a,a+s));let c=s;for(;15&c;c++)t[a+c]=0;e.mac(be.MAC.GCM,be.HEAP_DATA+a,c);const u=void 0!==i?i.length:0,h=(r-1<<4)+s;return t[0]=0,t[1]=0,t[2]=0,t[3]=u>>>29,t[4]=u>>>21,t[5]=u>>>13&255,t[6]=u>>>5&255,t[7]=u<<3&255,t[8]=t[9]=t[10]=0,t[11]=h>>>29,t[12]=h>>>21&255,t[13]=h>>>13&255,t[14]=h>>>5&255,t[15]=h<<3&255,e.mac(be.MAC.GCM,be.HEAP_DATA,16),e.get_iv(be.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(be.ENC.CTR,be.HEAP_DATA,16),o.set(t.subarray(0,n),s),this.counter=1,this.aes.pos=0,this.aes.len=0,o}AES_GCM_Decrypt_process(e){let t=0,r=e.length||0,{asm:n,heap:i}=this.aes.acquire_asm(),a=this.counter,s=this.tagSize,o=this.aes.pos,c=this.aes.len,u=0,h=c+r>s?c+r-s&-16:0,f=c+r-h,l=0;if((a-1<<4)+c+r>68719476704)throw new RangeError("counter overflow");const d=new Uint8Array(h);for(;r>f;)l=we(i,o+c,e,t,r-f),c+=l,t+=l,r-=l,l=n.mac(be.MAC.GCM,be.HEAP_DATA+o,l),l=n.cipher(be.DEC.CTR,be.HEAP_DATA+o,l),l&&d.set(i.subarray(o,o+l),u),a+=l>>>4,u+=l,o=0,c=0;return r>0&&(c+=we(i,0,e,t,r)),this.counter=a,this.aes.pos=o,this.aes.len=c,d}AES_GCM_Decrypt_finish(){let{asm:e,heap:t}=this.aes.acquire_asm(),r=this.tagSize,n=this.adata,i=this.counter,a=this.aes.pos,s=this.aes.len,o=s-r;if(s<r)throw new _e("authentication tag not found");const c=new Uint8Array(o),u=new Uint8Array(t.subarray(a+o,a+s));let h=o;for(;15&h;h++)t[a+h]=0;e.mac(be.MAC.GCM,be.HEAP_DATA+a,h),e.cipher(be.DEC.CTR,be.HEAP_DATA+a,h),o&&c.set(t.subarray(a,a+o));const f=void 0!==n?n.length:0,l=(i-1<<4)+s-r;t[0]=0,t[1]=0,t[2]=0,t[3]=f>>>29,t[4]=f>>>21,t[5]=f>>>13&255,t[6]=f>>>5&255,t[7]=f<<3&255,t[8]=t[9]=t[10]=0,t[11]=l>>>29,t[12]=l>>>21&255,t[13]=l>>>13&255,t[14]=l>>>5&255,t[15]=l<<3&255,e.mac(be.MAC.GCM,be.HEAP_DATA,16),e.get_iv(be.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(be.ENC.CTR,be.HEAP_DATA,16);let d=0;for(let e=0;e<r;++e)d|=u[e]^t[e];if(d)throw new Ae("data integrity check failed");return this.counter=1,this.aes.pos=0,this.aes.len=0,c}AES_GCM_decrypt(e){const t=this.AES_GCM_Decrypt_process(e),r=this.AES_GCM_Decrypt_finish(),n=new Uint8Array(t.length+r.length);return t.length&&n.set(t),r.length&&n.set(r,t.length),n}AES_GCM_encrypt(e){const t=this.AES_GCM_Encrypt_process(e),r=this.AES_GCM_Encrypt_finish(),n=new Uint8Array(t.length+r.length);return t.length&&n.set(t),r.length&&n.set(r,t.length),n}_gcm_mac_process(e){let{asm:t,heap:r}=this.aes.acquire_asm(),n=0,i=e.length||0,a=0;for(;i>0;){for(a=we(r,0,e,n,i),n+=a,i-=a;15&a;)r[a++]=0;t.mac(be.MAC.GCM,be.HEAP_DATA,a)}}}const vn=Y.getWebCrypto(),_n=Y.getNodeCrypto(),kn=Y.getNodeBuffer();async function An(e,t){if("aes"!==e.substr(0,3))throw Error("GCM mode supports only AES cipher");if(Y.getWebCrypto()&&24!==t.length){const e=await vn.importKey("raw",t,{name:"AES-GCM"},!1,["encrypt","decrypt"]);return{encrypt:async function(r,n,i=new Uint8Array){if(!r.length||!i.length&&-1!==navigator.userAgent.indexOf("Edge"))return wn.encrypt(r,t,n,i);const a=await vn.encrypt({name:"AES-GCM",iv:n,additionalData:i,tagLength:128},e,r);return new Uint8Array(a)},decrypt:async function(r,n,i=new Uint8Array){if(16===r.length||!i.length&&-1!==navigator.userAgent.indexOf("Edge"))return wn.decrypt(r,t,n,i);const a=await vn.decrypt({name:"AES-GCM",iv:n,additionalData:i,tagLength:128},e,r);return new Uint8Array(a)}}}return Y.getNodeCrypto()?{encrypt:async function(e,r,n=new Uint8Array){const i=new _n.createCipheriv("aes-"+8*t.length+"-gcm",t,r);i.setAAD(n);const a=kn.concat([i.update(e),i.final(),i.getAuthTag()]);return new Uint8Array(a)},decrypt:async function(e,r,n=new Uint8Array){const i=new _n.createDecipheriv("aes-"+8*t.length+"-gcm",t,r);i.setAAD(n),i.setAuthTag(e.slice(e.length-16,e.length));const a=kn.concat([i.update(e.slice(0,e.length-16)),i.final()]);return new Uint8Array(a)}}:{encrypt:async function(e,r,n){return wn.encrypt(e,t,r,n)},decrypt:async function(e,r,n){return wn.decrypt(e,t,r,n)}}}An.getNonce=function(e,t){const r=e.slice();for(let e=0;e<t.length;e++)r[4+e]^=t[e];return r},An.blockLength=16,An.ivLength=12,An.tagLength=16;var Sn={cfb:Xr,gcm:An,experimentalGCM:An,eax:ln,ocb:mn},En=nt((function(e){!function(e){var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=function(){throw Error("no PRNG")},n=new Uint8Array(32);n[0]=9;var i=t(),a=t([1]),s=t([56129,1]),o=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function l(e,t,r,n){return function(e,t,r,n,i){var a,s=0;for(a=0;a<32;a++)s|=e[t+a]^r[n+a];return(1&s-1>>>8)-1}(e,t,r,n)}function d(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function p(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function y(e,t,r){for(var n,i=~(r-1),a=0;a<16;a++)n=i&(e[a]^t[a]),e[a]^=n,t[a]^=n}function b(e,r){var n,i,a,s=t(),o=t();for(n=0;n<16;n++)o[n]=r[n];for(p(o),p(o),p(o),i=0;i<2;i++){for(s[0]=o[0]-65517,n=1;n<15;n++)s[n]=o[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=o[15]-32767-(s[14]>>16&1),a=s[15]>>16&1,s[14]&=65535,y(o,s,1-a)}for(n=0;n<16;n++)e[2*n]=255&o[n],e[2*n+1]=o[n]>>8}function g(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return b(r,e),b(n,t),l(r,0,n,0)}function m(e){var t=new Uint8Array(32);return b(t,e),1&t[0]}function w(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function v(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function _(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function k(e,t,r){var n,i,a=0,s=0,o=0,c=0,u=0,h=0,f=0,l=0,d=0,p=0,y=0,b=0,g=0,m=0,w=0,v=0,_=0,k=0,A=0,S=0,E=0,x=0,P=0,M=0,R=0,C=0,I=0,B=0,U=0,D=0,T=0,K=r[0],O=r[1],z=r[2],L=r[3],N=r[4],q=r[5],F=r[6],j=r[7],W=r[8],H=r[9],G=r[10],V=r[11],$=r[12],Y=r[13],X=r[14],Z=r[15];a+=(n=t[0])*K,s+=n*O,o+=n*z,c+=n*L,u+=n*N,h+=n*q,f+=n*F,l+=n*j,d+=n*W,p+=n*H,y+=n*G,b+=n*V,g+=n*$,m+=n*Y,w+=n*X,v+=n*Z,s+=(n=t[1])*K,o+=n*O,c+=n*z,u+=n*L,h+=n*N,f+=n*q,l+=n*F,d+=n*j,p+=n*W,y+=n*H,b+=n*G,g+=n*V,m+=n*$,w+=n*Y,v+=n*X,_+=n*Z,o+=(n=t[2])*K,c+=n*O,u+=n*z,h+=n*L,f+=n*N,l+=n*q,d+=n*F,p+=n*j,y+=n*W,b+=n*H,g+=n*G,m+=n*V,w+=n*$,v+=n*Y,_+=n*X,k+=n*Z,c+=(n=t[3])*K,u+=n*O,h+=n*z,f+=n*L,l+=n*N,d+=n*q,p+=n*F,y+=n*j,b+=n*W,g+=n*H,m+=n*G,w+=n*V,v+=n*$,_+=n*Y,k+=n*X,A+=n*Z,u+=(n=t[4])*K,h+=n*O,f+=n*z,l+=n*L,d+=n*N,p+=n*q,y+=n*F,b+=n*j,g+=n*W,m+=n*H,w+=n*G,v+=n*V,_+=n*$,k+=n*Y,A+=n*X,S+=n*Z,h+=(n=t[5])*K,f+=n*O,l+=n*z,d+=n*L,p+=n*N,y+=n*q,b+=n*F,g+=n*j,m+=n*W,w+=n*H,v+=n*G,_+=n*V,k+=n*$,A+=n*Y,S+=n*X,E+=n*Z,f+=(n=t[6])*K,l+=n*O,d+=n*z,p+=n*L,y+=n*N,b+=n*q,g+=n*F,m+=n*j,w+=n*W,v+=n*H,_+=n*G,k+=n*V,A+=n*$,S+=n*Y,E+=n*X,x+=n*Z,l+=(n=t[7])*K,d+=n*O,p+=n*z,y+=n*L,b+=n*N,g+=n*q,m+=n*F,w+=n*j,v+=n*W,_+=n*H,k+=n*G,A+=n*V,S+=n*$,E+=n*Y,x+=n*X,P+=n*Z,d+=(n=t[8])*K,p+=n*O,y+=n*z,b+=n*L,g+=n*N,m+=n*q,w+=n*F,v+=n*j,_+=n*W,k+=n*H,A+=n*G,S+=n*V,E+=n*$,x+=n*Y,P+=n*X,M+=n*Z,p+=(n=t[9])*K,y+=n*O,b+=n*z,g+=n*L,m+=n*N,w+=n*q,v+=n*F,_+=n*j,k+=n*W,A+=n*H,S+=n*G,E+=n*V,x+=n*$,P+=n*Y,M+=n*X,R+=n*Z,y+=(n=t[10])*K,b+=n*O,g+=n*z,m+=n*L,w+=n*N,v+=n*q,_+=n*F,k+=n*j,A+=n*W,S+=n*H,E+=n*G,x+=n*V,P+=n*$,M+=n*Y,R+=n*X,C+=n*Z,b+=(n=t[11])*K,g+=n*O,m+=n*z,w+=n*L,v+=n*N,_+=n*q,k+=n*F,A+=n*j,S+=n*W,E+=n*H,x+=n*G,P+=n*V,M+=n*$,R+=n*Y,C+=n*X,I+=n*Z,g+=(n=t[12])*K,m+=n*O,w+=n*z,v+=n*L,_+=n*N,k+=n*q,A+=n*F,S+=n*j,E+=n*W,x+=n*H,P+=n*G,M+=n*V,R+=n*$,C+=n*Y,I+=n*X,B+=n*Z,m+=(n=t[13])*K,w+=n*O,v+=n*z,_+=n*L,k+=n*N,A+=n*q,S+=n*F,E+=n*j,x+=n*W,P+=n*H,M+=n*G,R+=n*V,C+=n*$,I+=n*Y,B+=n*X,U+=n*Z,w+=(n=t[14])*K,v+=n*O,_+=n*z,k+=n*L,A+=n*N,S+=n*q,E+=n*F,x+=n*j,P+=n*W,M+=n*H,R+=n*G,C+=n*V,I+=n*$,B+=n*Y,U+=n*X,D+=n*Z,v+=(n=t[15])*K,s+=38*(k+=n*z),o+=38*(A+=n*L),c+=38*(S+=n*N),u+=38*(E+=n*q),h+=38*(x+=n*F),f+=38*(P+=n*j),l+=38*(M+=n*W),d+=38*(R+=n*H),p+=38*(C+=n*G),y+=38*(I+=n*V),b+=38*(B+=n*$),g+=38*(U+=n*Y),m+=38*(D+=n*X),w+=38*(T+=n*Z),a=(n=(a+=38*(_+=n*O))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=(a+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),a+=i-1+37*(i-1),e[0]=a,e[1]=s,e[2]=o,e[3]=c,e[4]=u,e[5]=h,e[6]=f,e[7]=l,e[8]=d,e[9]=p,e[10]=y,e[11]=b,e[12]=g,e[13]=m,e[14]=w,e[15]=v}function A(e,t){k(e,t,t)}function S(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)A(i,i),2!==n&&4!==n&&k(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function E(e,r,n){var i,a,o=new Uint8Array(32),c=new Float64Array(80),u=t(),h=t(),f=t(),l=t(),d=t(),p=t();for(a=0;a<31;a++)o[a]=r[a];for(o[31]=127&r[31]|64,o[0]&=248,w(c,n),a=0;a<16;a++)h[a]=c[a],l[a]=u[a]=f[a]=0;for(u[0]=l[0]=1,a=254;a>=0;--a)y(u,h,i=o[a>>>3]>>>(7&a)&1),y(f,l,i),v(d,u,f),_(u,u,f),v(f,h,l),_(h,h,l),A(l,d),A(p,u),k(u,f,u),k(f,h,d),v(d,u,f),_(u,u,f),A(h,u),_(f,l,p),k(u,f,s),v(u,u,l),k(f,f,u),k(u,l,p),k(l,h,c),A(h,d),y(u,h,i),y(f,l,i);for(a=0;a<16;a++)c[a+16]=u[a],c[a+32]=f[a],c[a+48]=h[a],c[a+64]=l[a];var g=c.subarray(32),m=c.subarray(16);return S(g,g),k(m,m,g),b(e,m),0}function x(e,t){return E(e,t,n)}function P(e,r){var n=t(),i=t(),a=t(),s=t(),o=t(),u=t(),h=t(),f=t(),l=t();_(n,e[1],e[0]),_(l,r[1],r[0]),k(n,n,l),v(i,e[0],e[1]),v(l,r[0],r[1]),k(i,i,l),k(a,e[3],r[3]),k(a,a,c),k(s,e[2],r[2]),v(s,s,s),_(o,i,n),_(u,s,a),v(h,s,a),v(f,i,n),k(e[0],o,u),k(e[1],f,h),k(e[2],h,u),k(e[3],o,f)}function M(e,t,r){var n;for(n=0;n<4;n++)y(e[n],t[n],r)}function R(e,r){var n=t(),i=t(),a=t();S(a,r[2]),k(n,r[0],a),k(i,r[1],a),b(e,i),e[31]^=m(n)<<7}function C(e,t,r){var n,s;for(d(e[0],i),d(e[1],a),d(e[2],a),d(e[3],i),s=255;s>=0;--s)M(e,t,n=r[s/8|0]>>(7&s)&1),P(t,e),P(e,e),M(e,t,n)}function I(e,r){var n=[t(),t(),t(),t()];d(n[0],u),d(n[1],h),d(n[2],a),k(n[3],u,h),C(e,n,r)}function B(n,i,a){var s,o,c=[t(),t(),t(),t()];for(a||r(i,32),(s=e.hash(i.subarray(0,32)))[0]&=248,s[31]&=127,s[31]|=64,I(c,s),R(n,c),o=0;o<32;o++)i[o+32]=n[o];return 0}var U=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function D(e,t){var r,n,i,a;for(n=63;n>=32;--n){for(r=0,i=n-32,a=n-12;i<a;++i)t[i]+=r-16*t[n]*U[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*U[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*U[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function T(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;D(e,r)}function K(e,r){var n=t(),s=t(),c=t(),u=t(),h=t(),l=t(),p=t();return d(e[2],a),w(e[1],r),A(c,e[1]),k(u,c,o),_(c,c,e[2]),v(u,e[2],u),A(h,u),A(l,h),k(p,l,h),k(n,p,c),k(n,n,u),function(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)A(i,i),1!==n&&k(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}(n,n),k(n,n,c),k(n,n,u),k(n,n,u),k(e[0],n,u),A(s,e[0]),k(s,s,u),g(s,c)&&k(e[0],e[0],f),A(s,e[0]),k(s,s,u),g(s,c)?-1:(m(e[0])===r[31]>>7&&_(e[0],i,e[0]),k(e[3],e[0],e[1]),0)}function O(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function z(e){for(var t=0;t<e.length;t++)e[t]=0}e.scalarMult=function(e,t){if(O(e,t),32!==e.length)throw Error("bad n size");if(32!==t.length)throw Error("bad p size");var r=new Uint8Array(32);return E(r,e,t),r},e.box={},e.box.keyPair=function(){var e,t,n=new Uint8Array(32),i=new Uint8Array(32);return e=n,r(t=i,32),x(e,t),{publicKey:n,secretKey:i}},e.box.keyPair.fromSecretKey=function(e){if(O(e),32!==e.length)throw Error("bad secret key size");var t=new Uint8Array(32);return x(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.sign=function(r,n){if(O(r,n),64!==n.length)throw Error("bad secret key size");var i=new Uint8Array(64+r.length);return function(r,n,i,a){var s,o,c,u,h,f=new Float64Array(64),l=[t(),t(),t(),t()];(s=e.hash(a.subarray(0,32)))[0]&=248,s[31]&=127,s[31]|=64;var d=i+64;for(u=0;u<i;u++)r[64+u]=n[u];for(u=0;u<32;u++)r[32+u]=s[32+u];for(T(c=e.hash(r.subarray(32,d))),I(l,c),R(r,l),u=32;u<64;u++)r[u]=a[u];for(T(o=e.hash(r.subarray(0,d))),u=0;u<64;u++)f[u]=0;for(u=0;u<32;u++)f[u]=c[u];for(u=0;u<32;u++)for(h=0;h<32;h++)f[u+h]+=o[u]*s[h];D(r.subarray(32),f)}(i,r,r.length,n),i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(64),a=0;a<i.length;a++)i[a]=n[a];return i},e.sign.detached.verify=function(r,n,i){if(O(r,n,i),64!==n.length)throw Error("bad signature size");if(32!==i.length)throw Error("bad public key size");var a,s=new Uint8Array(64+r.length),o=new Uint8Array(64+r.length);for(a=0;a<64;a++)s[a]=n[a];for(a=0;a<r.length;a++)s[a+64]=r[a];return function(r,n,i,a){var s,o,c=new Uint8Array(32),u=[t(),t(),t(),t()],h=[t(),t(),t(),t()];if(i<64)return-1;if(K(h,a))return-1;for(s=0;s<i;s++)r[s]=n[s];for(s=0;s<32;s++)r[s+32]=a[s];if(T(o=e.hash(r.subarray(0,i))),C(u,h,o),I(h,n.subarray(32)),P(u,h),R(c,u),i-=64,l(n,0,c,0)){for(s=0;s<i;s++)r[s]=0;return-1}for(s=0;s<i;s++)r[s]=n[s+64];return i}(o,s,s.length,i)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return B(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(O(e),64!==e.length)throw Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(O(e),32!==e.length)throw Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return B(t,r,!0),{publicKey:t,secretKey:r}},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&t.getRandomValues?e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];z(i)})):(t=void 0)&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];z(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})}));const xn=Y.getNodeCrypto();async function Pn(e){const t=new Uint8Array(e);if("undefined"!=typeof crypto&&crypto.getRandomValues)crypto.getRandomValues(t);else if(void 0!==n&&"object"==typeof n.msCrypto&&"function"==typeof n.msCrypto.getRandomValues)n.msCrypto.getRandomValues(t);else if(xn){const e=xn.randomBytes(t.length);t.set(e)}else{if(!Rn.buffer)throw Error("No secure random number generator available.");await Rn.get(t)}return t}async function Mn(e,t){const r=await Y.getBigInteger();if(t.lt(e))throw Error("Illegal parameter value: max <= min");const n=t.sub(e),i=n.byteLength();return new r(await Pn(i+8)).mod(n).add(e)}const Rn=new class{constructor(){this.buffer=null,this.size=null,this.callback=null}init(e,t){this.buffer=new Uint8Array(e),this.size=0,this.callback=t}set(e){if(!this.buffer)throw Error("RandomBuffer is not initialized");if(!(e instanceof Uint8Array))throw Error("Invalid type: buf not an Uint8Array");const t=this.buffer.length-this.size;e.length>t&&(e=e.subarray(0,t)),this.buffer.set(e,this.size),this.size+=e.length}async get(e){if(!this.buffer)throw Error("RandomBuffer is not initialized");if(!(e instanceof Uint8Array))throw Error("Invalid type: buf not an Uint8Array");if(this.size<e.length){if(!this.callback)throw Error("Random number buffer depleted");return await this.callback(),this.get(e)}for(let t=0;t<e.length;t++)e[t]=this.buffer[--this.size],this.buffer[this.size]=0}};var Cn=Object.freeze({__proto__:null,getRandomBytes:Pn,getRandomBigInteger:Mn,randomBuffer:Rn});async function In(e,t,r){const n=await Y.getBigInteger(),i=new n(1),a=i.leftShift(new n(e-1)),s=new n(30),o=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2],c=await Mn(a,a.leftShift(i));let u=c.mod(s).toNumber();do{c.iadd(new n(o[u])),u=(u+o[u])%o.length,c.bitLength()>e&&(c.imod(a.leftShift(i)).iadd(a),u=c.mod(s).toNumber())}while(!await Bn(c,t,r));return c}async function Bn(e,t,r){return!(t&&!e.dec().gcd(t).isOne()||!await async function(e){const t=await Y.getBigInteger();return Un.every((r=>0!==e.mod(new t(r))))}(e)||!await async function(e,t){const r=await Y.getBigInteger();return(t=t||new r(2)).modExp(e.dec(),e).isOne()}(e)||!await async function(e,t,r){const n=await Y.getBigInteger(),i=e.bitLength();t||(t=Math.max(1,i/48|0));const a=e.dec();let s=0;for(;!a.getBit(s);)s++;const o=e.rightShift(new n(s));for(;t>0;t--){let t,r=(await Mn(new n(2),a)).modExp(o,e);if(!r.isOne()&&!r.equal(a)){for(t=1;t<s;t++){if(r=r.mul(r).mod(e),r.isOne())return!1;if(r.equal(a))break}if(t===s)return!1}}return!0}(e,r))}const Un=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999],Dn=[];async function Tn(e,t){const r=e.length;if(r>t-11)throw Error("Message too long");const n=await async function(e){const t=new Uint8Array(e);let r=0;for(;r<e;){const n=await Pn(e-r);for(let e=0;e<n.length;e++)0!==n[e]&&(t[r++]=n[e])}return t}(t-r-3),i=new Uint8Array(t);return i[1]=2,i.set(n,2),i.set(e,t-r),i}function Kn(e){let t=2;for(;0!==e[t]&&t<e.length;)t++;const r=t-2,n=e[t++];if(0===e[0]&&2===e[1]&&r>=8&&0===n)return e.subarray(t);throw Error("Decryption error")}async function On(e,t,r){let n;if(t.length!==Wr.getHashByteLength(e))throw Error("Invalid hash length");const i=new Uint8Array(Dn[e].length);for(n=0;n<Dn[e].length;n++)i[n]=Dn[e][n];const a=i.length+t.length;if(r<a+11)throw Error("Intended encoded message length too short");const s=new Uint8Array(r-a-3).fill(255),o=new Uint8Array(r);return o[1]=1,o.set(s,2),o.set(i,r-a),o.set(t,r-t.length),o}Dn[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16],Dn[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20],Dn[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20],Dn[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32],Dn[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48],Dn[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64],Dn[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];var zn=Object.freeze({__proto__:null,emeEncode:Tn,emeDecode:Kn,emsaEncode:On});const Ln=Y.getWebCrypto(),Nn=Y.getNodeCrypto(),qn=void 0;function Fn(e,t){return"function"!=typeof e.then?new Promise((function(r,n){e.onerror=function(){n(Error(t))},e.oncomplete=function(e){r(e.target.result)}})):e}const jn=Y.detectNode()?qn.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())})):void 0,Wn=Y.detectNode()?qn.define("RSAPubliceKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())})):void 0;var Hn=Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,a,s,o,c){if(t&&!Y.isStream(t))if(Y.getWebCrypto())try{return await async function(e,t,r,n,i,a,s,o){const c=await async function(e,t,r,n,i,a){const s=await Y.getBigInteger(),o=new s(n),c=new s(i),u=new s(r);let h=u.mod(c.dec()),f=u.mod(o.dec());return f=f.toUint8Array(),h=h.toUint8Array(),{kty:"RSA",n:re(e,!0),e:re(t,!0),d:re(r,!0),p:re(i,!0),q:re(n,!0),dp:re(h,!0),dq:re(f,!0),qi:re(a,!0),ext:!0}}(r,n,i,a,s,o),u={name:"RSASSA-PKCS1-v1_5",hash:{name:e}},h=await Ln.importKey("jwk",c,u,!1,["sign"]);return new Uint8Array(await Ln.sign({name:"RSASSA-PKCS1-v1_5",hash:e},h,t))}(ie.read(ie.webHash,e),t,r,n,i,a,s,o)}catch(e){Y.printDebugError(e)}else if(Y.getNodeCrypto())return async function(e,t,r,n,i,a,s,o){const{default:c}=await Promise.resolve().then((function(){return Jf})),u=new c(a),h=new c(s),f=new c(i),l=f.mod(h.subn(1)),d=f.mod(u.subn(1)),p=Nn.createSign(ie.read(ie.hash,e));p.write(t),p.end();const y={version:0,modulus:new c(r),publicExponent:new c(n),privateExponent:new c(i),prime1:new c(s),prime2:new c(a),exponent1:l,exponent2:d,coefficient:new c(o)};if(void 0!==Nn.createPrivateKey){const e=jn.encode(y,"der");return new Uint8Array(p.sign({key:e,format:"der",type:"pkcs1"}))}const b=jn.encode(y,"pem",{label:"RSA PRIVATE KEY"});return new Uint8Array(p.sign(b))}(e,t,r,n,i,a,s,o);return async function(e,t,r,n){const i=await Y.getBigInteger();t=new i(t);const a=new i(await On(e,n,t.byteLength()));if(r=new i(r),a.gte(t))throw Error("Message size cannot exceed modulus size");return a.modExp(r,t).toUint8Array("be",t.byteLength())}(e,r,i,c)},verify:async function(e,t,r,n,i,a){if(t&&!Y.isStream(t))if(Y.getWebCrypto())try{return await async function(e,t,r,n,i){const a=function(e,t){return{kty:"RSA",n:re(e,!0),e:re(t,!0),ext:!0}}(n,i),s=await Ln.importKey("jwk",a,{name:"RSASSA-PKCS1-v1_5",hash:{name:e}},!1,["verify"]);return Ln.verify({name:"RSASSA-PKCS1-v1_5",hash:e},s,r,t)}(ie.read(ie.webHash,e),t,r,n,i)}catch(e){Y.printDebugError(e)}else if(Y.getNodeCrypto())return async function(e,t,r,n,i){const{default:a}=await Promise.resolve().then((function(){return Jf})),s=Nn.createVerify(ie.read(ie.hash,e));s.write(t),s.end();const o={modulus:new a(n),publicExponent:new a(i)};let c;if(void 0!==Nn.createPrivateKey){c={key:Wn.encode(o,"der"),format:"der",type:"pkcs1"}}else c=Wn.encode(o,"pem",{label:"RSA PUBLIC KEY"});try{return await s.verify(c,r)}catch(e){return!1}}(e,t,r,n,i);return async function(e,t,r,n,i){const a=await Y.getBigInteger();if(r=new a(r),t=new a(t),n=new a(n),t.gte(r))throw Error("Signature size cannot exceed modulus size");const s=t.modExp(n,r).toUint8Array("be",r.byteLength()),o=await On(e,i,r.byteLength());return Y.equalsUint8Array(s,o)}(e,r,n,i,a)},encrypt:async function(e,t,r){return Y.getNodeCrypto()?async function(e,t,r){const{default:n}=await Promise.resolve().then((function(){return Jf})),i={modulus:new n(t),publicExponent:new n(r)};let a;if(void 0!==Nn.createPrivateKey){a={key:Wn.encode(i,"der"),format:"der",type:"pkcs1",padding:Nn.constants.RSA_PKCS1_PADDING}}else{a={key:Wn.encode(i,"pem",{label:"RSA PUBLIC KEY"}),padding:Nn.constants.RSA_PKCS1_PADDING}}return new Uint8Array(Nn.publicEncrypt(a,e))}(e,t,r):async function(e,t,r){const n=await Y.getBigInteger();if(t=new n(t),e=new n(await Tn(e,t.byteLength())),r=new n(r),e.gte(t))throw Error("Message size cannot exceed modulus size");return e.modExp(r,t).toUint8Array("be",t.byteLength())}(e,t,r)},decrypt:async function(e,t,r,n,i,a,s){return Y.getNodeCrypto()?async function(e,t,r,n,i,a,s){const{default:o}=await Promise.resolve().then((function(){return Jf})),c=new o(i),u=new o(a),h=new o(n),f=h.mod(u.subn(1)),l=h.mod(c.subn(1)),d={version:0,modulus:new o(t),publicExponent:new o(r),privateExponent:new o(n),prime1:new o(a),prime2:new o(i),exponent1:f,exponent2:l,coefficient:new o(s)};let p;if(void 0!==Nn.createPrivateKey){p={key:jn.encode(d,"der"),format:"der",type:"pkcs1",padding:Nn.constants.RSA_PKCS1_PADDING}}else{p={key:jn.encode(d,"pem",{label:"RSA PRIVATE KEY"}),padding:Nn.constants.RSA_PKCS1_PADDING}}try{return new Uint8Array(Nn.privateDecrypt(p,e))}catch(e){throw Error("Decryption error")}}(e,t,r,n,i,a,s):async function(e,t,r,n,i,a,s){const o=await Y.getBigInteger();if(e=new o(e),t=new o(t),r=new o(r),n=new o(n),i=new o(i),a=new o(a),s=new o(s),e.gte(t))throw Error("Data too large.");const c=n.mod(a.dec()),u=n.mod(i.dec()),h=(await Mn(new o(2),t)).mod(t),f=h.modInv(t).modExp(r,t),l=(e=e.mul(f).mod(t)).modExp(u,i),d=e.modExp(c,a);let p=s.mul(d.sub(l)).mod(a).mul(i).add(l);return p=p.mul(h).mod(t),Kn(p.toUint8Array("be",t.byteLength()))}(e,t,r,n,i,a,s)},generate:async function(e,t){if(t=new(await Y.getBigInteger())(t),Y.getWebCrypto()){let r,i;if(n.crypto&&n.crypto.subtle||n.msCrypto)i={name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:t.toUint8Array(),hash:{name:"SHA-1"}},r=Ln.generateKey(i,!0,["sign","verify"]),r=await Fn(r,"Error generating RSA key pair.");else{if(!n.crypto||!n.crypto.webkitSubtle)throw Error("Unknown WebCrypto implementation");i={name:"RSA-OAEP",modulusLength:e,publicExponent:t.toUint8Array(),hash:{name:"SHA-1"}},r=await Ln.generateKey(i,!0,["encrypt","decrypt"])}let a=Ln.exportKey("jwk",r.privateKey);return a=await Fn(a,"Error exporting RSA key pair."),a instanceof ArrayBuffer&&(a=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(a)))),{n:te(a.n),e:t.toUint8Array(),d:te(a.d),p:te(a.q),q:te(a.p),u:te(a.qi)}}if(Y.getNodeCrypto()&&Nn.generateKeyPair&&jn){const r={modulusLength:e,publicExponent:t.toNumber(),publicKeyEncoding:{type:"pkcs1",format:"der"},privateKeyEncoding:{type:"pkcs1",format:"der"}},n=await new Promise(((e,t)=>Nn.generateKeyPair("rsa",r,((r,n,i)=>{r?t(r):e(jn.decode(i,"der"))}))));return{n:n.modulus.toArrayLike(Uint8Array),e:n.publicExponent.toArrayLike(Uint8Array),d:n.privateExponent.toArrayLike(Uint8Array),p:n.prime2.toArrayLike(Uint8Array),q:n.prime1.toArrayLike(Uint8Array),u:n.coefficient.toArrayLike(Uint8Array)}}let r=await In(e-(e>>1),t,40),i=await In(e>>1,t,40);r.lt(i)&&([i,r]=[r,i]);const a=i.dec().imul(r.dec());return{n:i.mul(r).toUint8Array(),e:t.toUint8Array(),d:t.modInv(a).toUint8Array(),p:i.toUint8Array(),q:r.toUint8Array(),u:i.modInv(r).toUint8Array()}},validateParams:async function(e,t,r,n,i,a){const s=await Y.getBigInteger();if(e=new s(e),n=new s(n),i=new s(i),!n.mul(i).equal(e))return!1;const o=new s(2);if(a=new s(a),!n.mul(a).mod(i).isOne())return!1;t=new s(t),r=new s(r);const c=new s(Math.floor(e.bitLength()/3)),u=await Mn(o,o.leftShift(c)),h=u.mul(r).mul(t);return!(!h.mod(n.dec()).equal(u)||!h.mod(i.dec()).equal(u))}}),Gn=Object.freeze({__proto__:null,encrypt:async function(e,t,r,n){const i=await Y.getBigInteger();t=new i(t),r=new i(r),n=new i(n);const a=new i(await Tn(e,t.byteLength())),s=await Mn(new i(1),t.dec());return{c1:r.modExp(s,t).toUint8Array(),c2:n.modExp(s,t).imul(a).imod(t).toUint8Array()}},decrypt:async function(e,t,r,n){const i=await Y.getBigInteger();return e=new i(e),t=new i(t),r=new i(r),n=new i(n),Kn(e.modExp(n,r).modInv(r).imul(t).imod(r).toUint8Array("be",r.byteLength()))},validateParams:async function(e,t,r,n){const i=await Y.getBigInteger();e=new i(e),t=new i(t),r=new i(r);const a=new i(1);if(t.lte(a)||t.gte(e))return!1;const s=new i(e.bitLength()),o=new i(1023);if(s.lt(o))return!1;if(!t.modExp(e.dec(),e).isOne())return!1;let c=t;const u=new i(1),h=new i(2).leftShift(new i(17));for(;u.lt(h);){if(c=c.mul(t).imod(e),c.isOne())return!1;u.iinc()}n=new i(n);const f=new i(2),l=await Mn(f.leftShift(s.dec()),f.leftShift(s)),d=e.dec().imul(l).iadd(n);return!!r.equal(t.modExp(d,e))}});class Vn{constructor(e){if(e instanceof Vn)this.oid=e.oid;else if(Y.isArray(e)||Y.isUint8Array(e)){if(6===(e=new Uint8Array(e))[0]){if(e[1]!==e.length-2)throw Error("Length mismatch in DER encoded oid");e=e.subarray(2)}this.oid=e}else this.oid=""}read(e){if(e.length>=1){const t=e[0];if(e.length>=1+t)return this.oid=e.subarray(1,1+t),1+this.oid.length}throw Error("Invalid oid")}write(){return Y.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return Y.uint8ArrayToHex(this.oid)}getName(){const e=this.toHex();if(ie.curve[e])return ie.write(ie.curve,e);throw Error("Unknown curve object identifier.")}}function $n(e,t){return e.keyPair({priv:t})}function Yn(e,t){const r=e.keyPair({pub:t});if(!0!==r.validate().result)throw Error("Invalid elliptic public key");return r}async function Xn(e){if(!ae.useIndutnyElliptic)throw Error("This curve is only supported in the full build of OpenPGP.js");const{default:t}=await Promise.resolve().then((function(){return bd}));return new t.ec(e)}const Zn=Y.getWebCrypto(),Jn=Y.getNodeCrypto(),Qn={p256:"P-256",p384:"P-384",p521:"P-521"},ei=Jn?Jn.getCurves():[],ti=Jn?{secp256k1:ei.includes("secp256k1")?"secp256k1":void 0,p256:ei.includes("prime256v1")?"prime256v1":void 0,p384:ei.includes("secp384r1")?"secp384r1":void 0,p521:ei.includes("secp521r1")?"secp521r1":void 0,ed25519:ei.includes("ED25519")?"ED25519":void 0,curve25519:ei.includes("X25519")?"X25519":void 0,brainpoolP256r1:ei.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,brainpoolP384r1:ei.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,brainpoolP512r1:ei.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},ri={p256:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:ie.publicKey.ecdsa,hash:ie.hash.sha256,cipher:ie.symmetric.aes128,node:ti.p256,web:Qn.p256,payloadSize:32,sharedSize:256},p384:{oid:[6,5,43,129,4,0,34],keyType:ie.publicKey.ecdsa,hash:ie.hash.sha384,cipher:ie.symmetric.aes192,node:ti.p384,web:Qn.p384,payloadSize:48,sharedSize:384},p521:{oid:[6,5,43,129,4,0,35],keyType:ie.publicKey.ecdsa,hash:ie.hash.sha512,cipher:ie.symmetric.aes256,node:ti.p521,web:Qn.p521,payloadSize:66,sharedSize:528},secp256k1:{oid:[6,5,43,129,4,0,10],keyType:ie.publicKey.ecdsa,hash:ie.hash.sha256,cipher:ie.symmetric.aes128,node:ti.secp256k1,payloadSize:32},ed25519:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:ie.publicKey.eddsa,hash:ie.hash.sha512,node:!1,payloadSize:32},curve25519:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:ie.publicKey.ecdh,hash:ie.hash.sha256,cipher:ie.symmetric.aes128,node:!1,payloadSize:32},brainpoolP256r1:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:ie.publicKey.ecdsa,hash:ie.hash.sha256,cipher:ie.symmetric.aes128,node:ti.brainpoolP256r1,payloadSize:32},brainpoolP384r1:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:ie.publicKey.ecdsa,hash:ie.hash.sha384,cipher:ie.symmetric.aes192,node:ti.brainpoolP384r1,payloadSize:48},brainpoolP512r1:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:ie.publicKey.ecdsa,hash:ie.hash.sha512,cipher:ie.symmetric.aes256,node:ti.brainpoolP512r1,payloadSize:64}};class ni{constructor(e,t){try{(Y.isArray(e)||Y.isUint8Array(e))&&(e=new Vn(e)),e instanceof Vn&&(e=e.getName()),this.name=ie.write(ie.curve,e)}catch(e){throw Error("Not valid curve")}t=t||ri[this.name],this.keyType=t.keyType,this.oid=t.oid,this.hash=t.hash,this.cipher=t.cipher,this.node=t.node&&ri[this.name],this.web=t.web&&ri[this.name],this.payloadSize=t.payloadSize,this.web&&Y.getWebCrypto()?this.type="web":this.node&&Y.getNodeCrypto()?this.type="node":"curve25519"===this.name?this.type="curve25519":"ed25519"===this.name&&(this.type="ed25519")}async genKeyPair(){let e;switch(this.type){case"web":try{return await async function(e){const t=await Zn.generateKey({name:"ECDSA",namedCurve:Qn[e]},!0,["sign","verify"]),r=await Zn.exportKey("jwk",t.privateKey);return{publicKey:ai(await Zn.exportKey("jwk",t.publicKey)),privateKey:te(r.d)}}(this.name)}catch(e){Y.printDebugError("Browser did not support generating ec key "+e.message);break}case"node":return async function(e){const t=Jn.createECDH(ti[e]);return await t.generateKeys(),{publicKey:new Uint8Array(t.getPublicKey()),privateKey:new Uint8Array(t.getPrivateKey())}}(this.name);case"curve25519":{const t=await Pn(32);t[0]=127&t[0]|64,t[31]&=248;const r=t.slice().reverse();return e=En.box.keyPair.fromSecretKey(r),{publicKey:Y.concatUint8Array([new Uint8Array([64]),e.publicKey]),privateKey:t}}case"ed25519":{const e=await Pn(32),t=En.sign.keyPair.fromSeed(e);return{publicKey:Y.concatUint8Array([new Uint8Array([64]),t.publicKey]),privateKey:e}}}const t=await Xn(this.name);return e=await t.genKeyPair({entropy:Y.uint8ArrayToString(await Pn(32))}),{publicKey:new Uint8Array(e.getPublic("array",!1)),privateKey:e.getPrivate().toArrayLike(Uint8Array)}}}async function ii(e,t,r,n){const i={p256:!0,p384:!0,p521:!0,secp256k1:!0,curve25519:e===ie.publicKey.ecdh,brainpoolP256r1:!0,brainpoolP384r1:!0,brainpoolP512r1:!0},a=t.getName();if(!i[a])return!1;if("curve25519"===a){n=n.slice().reverse();const{publicKey:e}=En.box.keyPair.fromSecretKey(n);r=new Uint8Array(r);const t=new Uint8Array([64,...e]);return!!Y.equalsUint8Array(t,r)}const s=await Xn(a);try{r=Yn(s,r).getPublic()}catch(e){return!1}return!!$n(s,n).getPublic().eq(r)}function ai(e){const t=te(e.x),r=te(e.y),n=new Uint8Array(t.length+r.length+1);return n[0]=4,n.set(t,1),n.set(r,t.length+1),n}function si(e,t,r){const n=e,i=r.slice(1,n+1),a=r.slice(n+1,2*n+1);return{kty:"EC",crv:t,x:re(i,!0),y:re(a,!0),ext:!0}}function oi(e,t,r,n){const i=si(e,t,r);return i.d=re(n,!0),i}const ci=Y.getWebCrypto(),ui=Y.getNodeCrypto();async function hi(e,t,r,n,i,a){const s=new ni(e);if(r&&!Y.isStream(r)){const a={publicKey:n,privateKey:i};switch(s.type){case"web":try{return await async function(e,t,r,n){const i=e.payloadSize,a=oi(e.payloadSize,Qn[e.name],n.publicKey,n.privateKey),s=await ci.importKey("jwk",a,{name:"ECDSA",namedCurve:Qn[e.name],hash:{name:ie.read(ie.webHash,e.hash)}},!1,["sign"]),o=new Uint8Array(await ci.sign({name:"ECDSA",namedCurve:Qn[e.name],hash:{name:ie.read(ie.webHash,t)}},s,r));return{r:o.slice(0,i),s:o.slice(i,i<<1)}}(s,t,r,a)}catch(e){if("p521"!==s.name&&("DataError"===e.name||"OperationError"===e.name))throw e;Y.printDebugError("Browser did not support signing: "+e.message)}break;case"node":{const e=await async function(e,t,r,n){const i=ui.createSign(ie.read(ie.hash,t));i.write(r),i.end();const a=pi.encode({version:1,parameters:e.oid,privateKey:Array.from(n.privateKey),publicKey:{unused:0,data:Array.from(n.publicKey)}},"pem",{label:"EC PRIVATE KEY"});return di.decode(i.sign(a),"der")}(s,t,r,a);return{r:e.r.toArrayLike(Uint8Array),s:e.s.toArrayLike(Uint8Array)}}}}return async function(e,t,r){const n=$n(await Xn(e.name),r).sign(t);return{r:n.r.toArrayLike(Uint8Array),s:n.s.toArrayLike(Uint8Array)}}(s,a,i)}async function fi(e,t,r,n,i,a){const s=new ni(e);if(n&&!Y.isStream(n))switch(s.type){case"web":try{return await async function(e,t,{r,s:n},i,a){const s=si(e.payloadSize,Qn[e.name],a),o=await ci.importKey("jwk",s,{name:"ECDSA",namedCurve:Qn[e.name],hash:{name:ie.read(ie.webHash,e.hash)}},!1,["verify"]),c=Y.concatUint8Array([r,n]).buffer;return ci.verify({name:"ECDSA",namedCurve:Qn[e.name],hash:{name:ie.read(ie.webHash,t)}},o,c,i)}(s,t,r,n,i)}catch(e){if("p521"!==s.name&&("DataError"===e.name||"OperationError"===e.name))throw e;Y.printDebugError("Browser did not support verifying: "+e.message)}break;case"node":return async function(e,t,{r,s:n},i,a){const{default:s}=await Promise.resolve().then((function(){return Jf})),o=ui.createVerify(ie.read(ie.hash,t));o.write(i),o.end();const c=bi.encode({algorithm:{algorithm:[1,2,840,10045,2,1],parameters:e.oid},subjectPublicKey:{unused:0,data:Array.from(a)}},"pem",{label:"PUBLIC KEY"}),u=di.encode({r:new s(r),s:new s(n)},"der");try{return o.verify(c,u)}catch(e){return!1}}(s,t,r,n,i)}return async function(e,t,r,n){return Yn(await Xn(e.name),n).verify(r,t)}(s,r,void 0===t?n:a,i)}const li=void 0,di=ui?li.define("ECDSASignature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())})):void 0,pi=ui?li.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())})):void 0,yi=ui?li.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())})):void 0,bi=ui?li.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(yi),this.key("subjectPublicKey").bitstr())})):void 0;var gi=Object.freeze({__proto__:null,sign:hi,verify:fi,validateParams:async function(e,t,r){const n=new ni(e);if(n.keyType!==ie.publicKey.ecdsa)return!1;switch(n.type){case"web":case"node":{const n=await Pn(8),i=ie.hash.sha256,a=await Wr.digest(i,n);try{const s=await hi(e,i,n,t,r,a);return await fi(e,i,s,n,t,a)}catch(e){return!1}}default:return ii(ie.publicKey.ecdsa,e,t,r)}}});En.hash=e=>new Uint8Array(Jt().update(e).digest());var mi=Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,a){if(Wr.getHashByteLength(t)<Wr.getHashByteLength(ie.hash.sha256))throw Error("Hash algorithm too weak: sha256 or stronger is required for EdDSA.");const s=Y.concatUint8Array([i,n.subarray(1)]),o=En.sign.detached(a,s);return{r:o.subarray(0,32),s:o.subarray(32)}},verify:async function(e,t,{r,s:n},i,a,s){const o=Y.concatUint8Array([r,n]);return En.sign.detached.verify(s,o,a.subarray(1))},validateParams:async function(e,t,r){if("ed25519"!==e.getName())return!1;const{publicKey:n}=En.sign.keyPair.fromSeed(r),i=new Uint8Array([64,...n]);return Y.equalsUint8Array(t,i)}});function wi(e,t){const r=new He["aes"+8*e.length](e),n=new Uint32Array([2795939494,2795939494]),i=_i(t);let a=n;const s=i,o=i.length/2,c=new Uint32Array([0,0]);let u=new Uint32Array(4);for(let e=0;e<=5;++e)for(let t=0;t<o;++t)c[1]=o*e+(1+t),u[0]=a[0],u[1]=a[1],u[2]=s[2*t],u[3]=s[2*t+1],u=_i(r.encrypt(ki(u))),a=u.subarray(0,2),a[0]^=c[0],a[1]^=c[1],s[2*t]=u[2],s[2*t+1]=u[3];return ki(a,s)}function vi(e,t){const r=new He["aes"+8*e.length](e),n=new Uint32Array([2795939494,2795939494]),i=_i(t);let a=i.subarray(0,2);const s=i.subarray(2),o=i.length/2-1,c=new Uint32Array([0,0]);let u=new Uint32Array(4);for(let e=5;e>=0;--e)for(let t=o-1;t>=0;--t)c[1]=o*e+(t+1),u[0]=a[0]^c[0],u[1]=a[1]^c[1],u[2]=s[2*t],u[3]=s[2*t+1],u=_i(r.decrypt(ki(u))),a=u.subarray(0,2),s[2*t]=u[2],s[2*t+1]=u[3];if(a[0]===n[0]&&a[1]===n[1])return ki(s);throw Error("Key Data Integrity failed")}function _i(e){const{length:t}=e,r=function(e){if(Y.isString(e)){const{length:t}=e,r=new ArrayBuffer(t),n=new Uint8Array(r);for(let r=0;r<t;++r)n[r]=e.charCodeAt(r);return r}return new Uint8Array(e).buffer}(e),n=new DataView(r),i=new Uint32Array(t/4);for(let e=0;e<t/4;++e)i[e]=n.getUint32(4*e);return i}function ki(){let e=0;for(let t=0;t<arguments.length;++t)e+=4*arguments[t].length;const t=new ArrayBuffer(e),r=new DataView(t);let n=0;for(let e=0;e<arguments.length;++e){for(let t=0;t<arguments[e].length;++t)r.setUint32(n+4*t,arguments[e][t]);n+=4*arguments[e].length}return new Uint8Array(t)}var Ai=Object.freeze({__proto__:null,wrap:wi,unwrap:vi});function Si(e){const t=8-e.length%8,r=new Uint8Array(e.length+t).fill(t);return r.set(e),r}function Ei(e){const t=e.length;if(t>0){const r=e[t-1];if(r>=1){const n=e.subarray(t-r),i=new Uint8Array(r).fill(r);if(Y.equalsUint8Array(n,i))return e.subarray(0,t-r)}}throw Error("Invalid padding")}var xi=Object.freeze({__proto__:null,encode:Si,decode:Ei});const Pi=Y.getWebCrypto(),Mi=Y.getNodeCrypto();function Ri(e,t,r,n){return Y.concatUint8Array([t.write(),new Uint8Array([e]),r.write(),Y.stringToUint8Array("Anonymous Sender    "),n.subarray(0,20)])}async function Ci(e,t,r,n,i=!1,a=!1){let s;if(i){for(s=0;s<t.length&&0===t[s];s++);t=t.subarray(s)}if(a){for(s=t.length-1;s>=0&&0===t[s];s--);t=t.subarray(0,s+1)}return(await Wr.digest(e,Y.concatUint8Array([new Uint8Array([0,0,0,1]),t,n]))).subarray(0,r)}async function Ii(e,t,r,n){if(n.length!==e.payloadSize){const t=new Uint8Array(e.payloadSize);t.set(n,e.payloadSize-n.length),n=t}switch(e.type){case"curve25519":{const e=n.slice().reverse();return{secretKey:e,sharedKey:En.scalarMult(e,t.subarray(1))}}case"web":if(e.web&&Y.getWebCrypto())try{return await async function(e,t,r,n){const i=oi(e.payloadSize,e.web.web,r,n);let a=Pi.importKey("jwk",i,{name:"ECDH",namedCurve:e.web.web},!0,["deriveKey","deriveBits"]);const s=si(e.payloadSize,e.web.web,t);let o=Pi.importKey("jwk",s,{name:"ECDH",namedCurve:e.web.web},!0,[]);[a,o]=await Promise.all([a,o]);let c=Pi.deriveBits({name:"ECDH",namedCurve:e.web.web,public:o},a,e.web.sharedSize),u=Pi.exportKey("jwk",a);[c,u]=await Promise.all([c,u]);const h=new Uint8Array(c);return{secretKey:te(u.d),sharedKey:h}}(e,t,r,n)}catch(e){Y.printDebugError(e)}break;case"node":return async function(e,t,r){const n=Mi.createECDH(e.node.node);n.setPrivateKey(r);const i=new Uint8Array(n.computeSecret(t));return{secretKey:new Uint8Array(n.getPrivateKey()),sharedKey:i}}(e,t,n)}return async function(e,t,r){const n=await Xn(e.name);t=Yn(n,t),r=$n(n,r);const i=new Uint8Array(r.getPrivate()),a=r.derive(t.getPublic()),s=n.curve.p.byteLength();return{secretKey:i,sharedKey:a.toArrayLike(Uint8Array,"be",s)}}(e,t,n)}var Bi=Object.freeze({__proto__:null,validateParams:async function(e,t,r){return ii(ie.publicKey.ecdh,e,t,r)},encrypt:async function(e,t,r,n,i){const a=Si(r),s=new ni(e),{publicKey:o,sharedKey:c}=await async function(e,t){switch(e.type){case"curve25519":{const r=await Pn(32),{secretKey:n,sharedKey:i}=await Ii(e,t,null,r);let{publicKey:a}=En.box.keyPair.fromSecretKey(n);return a=Y.concatUint8Array([new Uint8Array([64]),a]),{publicKey:a,sharedKey:i}}case"web":if(e.web&&Y.getWebCrypto())try{return await async function(e,t){const r=si(e.payloadSize,e.web.web,t);let n=Pi.generateKey({name:"ECDH",namedCurve:e.web.web},!0,["deriveKey","deriveBits"]),i=Pi.importKey("jwk",r,{name:"ECDH",namedCurve:e.web.web},!1,[]);[n,i]=await Promise.all([n,i]);let a=Pi.deriveBits({name:"ECDH",namedCurve:e.web.web,public:i},n.privateKey,e.web.sharedSize),s=Pi.exportKey("jwk",n.publicKey);[a,s]=await Promise.all([a,s]);const o=new Uint8Array(a);return{publicKey:new Uint8Array(ai(s)),sharedKey:o}}(e,t)}catch(e){Y.printDebugError(e)}break;case"node":return async function(e,t){const r=Mi.createECDH(e.node.node);r.generateKeys();const n=new Uint8Array(r.computeSecret(t));return{publicKey:new Uint8Array(r.getPublicKey()),sharedKey:n}}(e,t)}return async function(e,t){const r=await Xn(e.name),n=await e.genKeyPair();t=Yn(r,t);const i=$n(r,n.privateKey),a=n.publicKey,s=i.derive(t.getPublic()),o=r.curve.p.byteLength();return{publicKey:a,sharedKey:s.toArrayLike(Uint8Array,"be",o)}}(e,t)}(s,n),u=Ri(ie.publicKey.ecdh,e,t,i),h=ie.read(ie.symmetric,t.cipher);return{publicKey:o,wrappedKey:wi(await Ci(t.hash,c,He[h].keySize,u),a)}},decrypt:async function(e,t,r,n,i,a,s){const o=new ni(e),{sharedKey:c}=await Ii(o,r,i,a),u=Ri(ie.publicKey.ecdh,e,t,s),h=ie.read(ie.symmetric,t.cipher);let f;for(let r=0;r<3;r++)try{return Ei(vi(await Ci(t.hash,c,He[h].keySize,u,1===r,2===r),n))}catch(e){f=e}throw f}}),Ui={rsa:Hn,elgamal:Gn,elliptic:Object.freeze({__proto__:null,Curve:ni,ecdh:Bi,ecdsa:gi,eddsa:mi,generate:async function(e){const t=await Y.getBigInteger();e=new ni(e);const r=await e.genKeyPair(),n=new t(r.publicKey).toUint8Array(),i=new t(r.privateKey).toUint8Array("be",e.payloadSize);return{oid:e.oid,Q:n,secret:i,hash:e.hash,cipher:e.cipher}},getPreferredHashAlgo:function(e){return ri[ie.write(ie.curve,e.toHex())].hash}}),dsa:Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,a){const s=await Y.getBigInteger(),o=new s(1);let c,u,h,f;n=new s(n),i=new s(i),r=new s(r),a=new s(a),r=r.mod(n),a=a.mod(i);const l=new s(t.subarray(0,i.byteLength())).mod(i);for(;;){if(c=await Mn(o,i),u=r.modExp(c,n).imod(i),u.isZero())continue;const e=a.mul(u).imod(i);if(f=l.add(e).imod(i),h=c.modInv(i).imul(f).imod(i),!h.isZero())break}return{r:u.toUint8Array("be",i.byteLength()),s:h.toUint8Array("be",i.byteLength())}},verify:async function(e,t,r,n,i,a,s,o){const c=await Y.getBigInteger(),u=new c(0);if(t=new c(t),r=new c(r),a=new c(a),s=new c(s),i=new c(i),o=new c(o),t.lte(u)||t.gte(s)||r.lte(u)||r.gte(s))return Y.printDebug("invalid DSA Signature"),!1;const h=new c(n.subarray(0,s.byteLength())).imod(s),f=r.modInv(s);if(f.isZero())return Y.printDebug("invalid DSA Signature"),!1;i=i.mod(a),o=o.mod(a);const l=h.mul(f).imod(s),d=t.mul(f).imod(s),p=i.modExp(l,a),y=o.modExp(d,a);return p.mul(y).imod(a).imod(s).equal(t)},validateParams:async function(e,t,r,n,i){const a=await Y.getBigInteger();e=new a(e),t=new a(t),r=new a(r),n=new a(n);const s=new a(1);if(r.lte(s)||r.gte(e))return!1;if(!e.dec().mod(t).isZero())return!1;if(!r.modExp(t,e).isOne())return!1;const o=new a(t.bitLength()),c=new a(150);if(o.lt(c)||!await Bn(t,null,32))return!1;i=new a(i);const u=new a(2),h=await Mn(u.leftShift(o.dec()),u.leftShift(o)),f=t.mul(h).add(i);return!!n.equal(r.modExp(f,e))}}),nacl:En},Di=Object.freeze({__proto__:null,parseSignatureParams:function(e,t){let r=0;switch(e){case ie.publicKey.rsaEncryptSign:case ie.publicKey.rsaEncrypt:case ie.publicKey.rsaSign:return{s:Y.readMPI(t.subarray(r))};case ie.publicKey.dsa:case ie.publicKey.ecdsa:{const e=Y.readMPI(t.subarray(r));return r+=e.length+2,{r:e,s:Y.readMPI(t.subarray(r))}}case ie.publicKey.eddsa:{let e=Y.readMPI(t.subarray(r));r+=e.length+2,e=Y.leftPad(e,32);let n=Y.readMPI(t.subarray(r));return n=Y.leftPad(n,32),{r:e,s:n}}default:throw Error("Invalid signature algorithm.")}},verify:async function(e,t,r,n,i,a){switch(e){case ie.publicKey.rsaEncryptSign:case ie.publicKey.rsaEncrypt:case ie.publicKey.rsaSign:{const{n:e,e:s}=n,o=Y.leftPad(r.s,e.length);return Ui.rsa.verify(t,i,o,e,s,a)}case ie.publicKey.dsa:{const{g:e,p:i,q:s,y:o}=n,{r:c,s:u}=r;return Ui.dsa.verify(t,c,u,a,e,i,s,o)}case ie.publicKey.ecdsa:{const{oid:e,Q:s}=n,o=new Ui.elliptic.Curve(e).payloadSize,c=Y.leftPad(r.r,o),u=Y.leftPad(r.s,o);return Ui.elliptic.ecdsa.verify(e,t,{r:c,s:u},i,s,a)}case ie.publicKey.eddsa:{const{oid:e,Q:s}=n;return Ui.elliptic.eddsa.verify(e,t,r,i,s,a)}default:throw Error("Invalid signature algorithm.")}},sign:async function(e,t,r,n,i,a){if(!r||!n)throw Error("Missing key parameters");switch(e){case ie.publicKey.rsaEncryptSign:case ie.publicKey.rsaEncrypt:case ie.publicKey.rsaSign:{const{n:e,e:s}=r,{d:o,p:c,q:u,u:h}=n;return{s:await Ui.rsa.sign(t,i,e,s,o,c,u,h,a)}}case ie.publicKey.dsa:{const{g:e,p:i,q:s}=r,{x:o}=n;return Ui.dsa.sign(t,a,e,i,s,o)}case ie.publicKey.elgamal:throw Error("Signing with Elgamal is not defined in the OpenPGP standard.");case ie.publicKey.ecdsa:{const{oid:e,Q:s}=r,{d:o}=n;return Ui.elliptic.ecdsa.sign(e,t,i,s,o,a)}case ie.publicKey.eddsa:{const{oid:e,Q:s}=r,{seed:o}=n;return Ui.elliptic.eddsa.sign(e,t,i,s,o,a)}default:throw Error("Invalid signature algorithm.")}}});class Ti{constructor(e){e=void 0===e?new Uint8Array([]):Y.isString(e)?Y.stringToUint8Array(e):new Uint8Array(e),this.data=e}read(e){if(e.length>=1){const t=e[0];if(e.length>=1+t)return this.data=e.subarray(1,1+t),1+this.data.length}throw Error("Invalid symmetric key")}write(){return Y.concatUint8Array([new Uint8Array([this.data.length]),this.data])}}class Ki{constructor(e){if(e){const{hash:t,cipher:r}=e;this.hash=t,this.cipher=r}else this.hash=null,this.cipher=null}read(e){if(e.length<4||3!==e[0]||1!==e[1])throw Error("Cannot read KDFParams");return this.hash=e[2],this.cipher=e[3],4}write(){return new Uint8Array([3,1,this.hash,this.cipher])}}var Oi=Object.freeze({__proto__:null,publicKeyEncrypt:async function(e,t,r,n){switch(e){case ie.publicKey.rsaEncrypt:case ie.publicKey.rsaEncryptSign:{const{n:e,e:n}=t;return{c:await Ui.rsa.encrypt(r,e,n)}}case ie.publicKey.elgamal:{const{p:e,g:n,y:i}=t;return Ui.elgamal.encrypt(r,e,n,i)}case ie.publicKey.ecdh:{const{oid:e,Q:i,kdfParams:a}=t,{publicKey:s,wrappedKey:o}=await Ui.elliptic.ecdh.encrypt(e,a,r,i,n);return{V:s,C:new Ti(o)}}default:return[]}},publicKeyDecrypt:async function(e,t,r,n,i){switch(e){case ie.publicKey.rsaEncryptSign:case ie.publicKey.rsaEncrypt:{const{c:e}=n,{n:i,e:a}=t,{d:s,p:o,q:c,u}=r;return Ui.rsa.decrypt(e,i,a,s,o,c,u)}case ie.publicKey.elgamal:{const{c1:e,c2:i}=n,a=t.p,s=r.x;return Ui.elgamal.decrypt(e,i,a,s)}case ie.publicKey.ecdh:{const{oid:e,Q:a,kdfParams:s}=t,{d:o}=r,{V:c,C:u}=n;return Ui.elliptic.ecdh.decrypt(e,s,c,u.data,a,o,i)}default:throw Error("Invalid public key encryption algorithm.")}},parsePublicKeyParams:function(e,t){let r=0;switch(e){case ie.publicKey.rsaEncrypt:case ie.publicKey.rsaEncryptSign:case ie.publicKey.rsaSign:{const e=Y.readMPI(t.subarray(r));r+=e.length+2;const n=Y.readMPI(t.subarray(r));return r+=n.length+2,{read:r,publicParams:{n:e,e:n}}}case ie.publicKey.dsa:{const e=Y.readMPI(t.subarray(r));r+=e.length+2;const n=Y.readMPI(t.subarray(r));r+=n.length+2;const i=Y.readMPI(t.subarray(r));r+=i.length+2;const a=Y.readMPI(t.subarray(r));return r+=a.length+2,{read:r,publicParams:{p:e,q:n,g:i,y:a}}}case ie.publicKey.elgamal:{const e=Y.readMPI(t.subarray(r));r+=e.length+2;const n=Y.readMPI(t.subarray(r));r+=n.length+2;const i=Y.readMPI(t.subarray(r));return r+=i.length+2,{read:r,publicParams:{p:e,g:n,y:i}}}case ie.publicKey.ecdsa:{const e=new Vn;r+=e.read(t);const n=Y.readMPI(t.subarray(r));return r+=n.length+2,{read:r,publicParams:{oid:e,Q:n}}}case ie.publicKey.eddsa:{const e=new Vn;r+=e.read(t);let n=Y.readMPI(t.subarray(r));return r+=n.length+2,n=Y.leftPad(n,33),{read:r,publicParams:{oid:e,Q:n}}}case ie.publicKey.ecdh:{const e=new Vn;r+=e.read(t);const n=Y.readMPI(t.subarray(r));r+=n.length+2;const i=new Ki;return r+=i.read(t.subarray(r)),{read:r,publicParams:{oid:e,Q:n,kdfParams:i}}}default:throw Error("Invalid public key encryption algorithm.")}},parsePrivateKeyParams:function(e,t,r){let n=0;switch(e){case ie.publicKey.rsaEncrypt:case ie.publicKey.rsaEncryptSign:case ie.publicKey.rsaSign:{const e=Y.readMPI(t.subarray(n));n+=e.length+2;const r=Y.readMPI(t.subarray(n));n+=r.length+2;const i=Y.readMPI(t.subarray(n));n+=i.length+2;const a=Y.readMPI(t.subarray(n));return n+=a.length+2,{read:n,privateParams:{d:e,p:r,q:i,u:a}}}case ie.publicKey.dsa:case ie.publicKey.elgamal:{const e=Y.readMPI(t.subarray(n));return n+=e.length+2,{read:n,privateParams:{x:e}}}case ie.publicKey.ecdsa:case ie.publicKey.ecdh:{const e=new ni(r.oid);let i=Y.readMPI(t.subarray(n));return n+=i.length+2,i=Y.leftPad(i,e.payloadSize),{read:n,privateParams:{d:i}}}case ie.publicKey.eddsa:{let e=Y.readMPI(t.subarray(n));return n+=e.length+2,e=Y.leftPad(e,32),{read:n,privateParams:{seed:e}}}default:throw Error("Invalid public key encryption algorithm.")}},parseEncSessionKeyParams:function(e,t){let r=0;switch(e){case ie.publicKey.rsaEncrypt:case ie.publicKey.rsaEncryptSign:return{c:Y.readMPI(t.subarray(r))};case ie.publicKey.elgamal:{const e=Y.readMPI(t.subarray(r));return r+=e.length+2,{c1:e,c2:Y.readMPI(t.subarray(r))}}case ie.publicKey.ecdh:{const e=Y.readMPI(t.subarray(r));r+=e.length+2;const n=new Ti;return n.read(t.subarray(r)),{V:e,C:n}}default:throw Error("Invalid public key encryption algorithm.")}},serializeParams:function(e,t){const r=Object.keys(t).map((e=>{const r=t[e];return Y.isUint8Array(r)?Y.uint8ArrayToMPI(r):r.write()}));return Y.concatUint8Array(r)},generateParams:function(e,t,r){switch(e){case ie.publicKey.rsaEncrypt:case ie.publicKey.rsaEncryptSign:case ie.publicKey.rsaSign:return Ui.rsa.generate(t,65537).then((({n:e,e:t,d:r,p:n,q:i,u:a})=>({privateParams:{d:r,p:n,q:i,u:a},publicParams:{n:e,e:t}})));case ie.publicKey.ecdsa:return Ui.elliptic.generate(r).then((({oid:e,Q:t,secret:r})=>({privateParams:{d:r},publicParams:{oid:new Vn(e),Q:t}})));case ie.publicKey.eddsa:return Ui.elliptic.generate(r).then((({oid:e,Q:t,secret:r})=>({privateParams:{seed:r},publicParams:{oid:new Vn(e),Q:t}})));case ie.publicKey.ecdh:return Ui.elliptic.generate(r).then((({oid:e,Q:t,secret:r,hash:n,cipher:i})=>({privateParams:{d:r},publicParams:{oid:new Vn(e),Q:t,kdfParams:new Ki({hash:n,cipher:i})}})));case ie.publicKey.dsa:case ie.publicKey.elgamal:throw Error("Unsupported algorithm for key generation.");default:throw Error("Invalid public key algorithm.")}},validateParams:async function(e,t,r){if(!t||!r)throw Error("Missing key parameters");switch(e){case ie.publicKey.rsaEncrypt:case ie.publicKey.rsaEncryptSign:case ie.publicKey.rsaSign:{const{n:e,e:n}=t,{d:i,p:a,q:s,u:o}=r;return Ui.rsa.validateParams(e,n,i,a,s,o)}case ie.publicKey.dsa:{const{p:e,q:n,g:i,y:a}=t,{x:s}=r;return Ui.dsa.validateParams(e,n,i,a,s)}case ie.publicKey.elgamal:{const{p:e,g:n,y:i}=t,{x:a}=r;return Ui.elgamal.validateParams(e,n,i,a)}case ie.publicKey.ecdsa:case ie.publicKey.ecdh:{const n=Ui.elliptic[ie.read(ie.publicKey,e)],{oid:i,Q:a}=t,{d:s}=r;return n.validateParams(i,a,s)}case ie.publicKey.eddsa:{const{oid:e,Q:n}=t,{seed:i}=r;return Ui.elliptic.eddsa.validateParams(e,n,i)}default:throw Error("Invalid public key algorithm.")}},getPrefixRandom:async function(e){const t=await Pn(He[e].blockSize),r=new Uint8Array([t[t.length-2],t[t.length-1]]);return Y.concat([t,r])},generateSessionKey:function(e){return Pn(He[e].keySize)}});const zi={cipher:He,hash:Wr,mode:Sn,publicKey:Ui,signature:Di,random:Cn,pkcs1:zn,pkcs5:xi,aesKW:Ai};Object.assign(zi,Oi);var Li="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function Ni(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)}const qi={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(let a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){let t,r,n,i,a;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;const s=new Uint8Array(n);for(i=0,t=0,r=e.length;t<r;t++)a=e[t],s.set(a,i),i+=a.length;return s}},Fi={arraySet:function(e,t,r,n,i){for(let a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};let ji=Li?Uint8Array:Array,Wi=Li?Uint16Array:Array,Hi=Li?Int32Array:Array,Gi=Li?qi.flattenChunks:Fi.flattenChunks,Vi=Li?qi.arraySet:Fi.arraySet;function $i(e){let t=e.length;for(;--t>=0;)e[t]=0}const Yi=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Xi=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Zi=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ji=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Qi=Array(576);$i(Qi);const ea=Array(60);$i(ea);const ta=Array(512);$i(ta);const ra=Array(256);$i(ra);const na=Array(29);$i(na);const ia=Array(30);function aa(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let sa,oa,ca;function ua(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function ha(e){return e<256?ta[e]:ta[256+(e>>>7)]}function fa(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function la(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,fa(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function da(e,t,r){la(e,r[2*t],r[2*t+1])}function pa(e,t){let r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function ya(e,t,r){const n=Array(16);let i,a,s=0;for(i=1;i<=15;i++)n[i]=s=s+r[i-1]<<1;for(a=0;a<=t;a++){const t=e[2*a+1];0!==t&&(e[2*a]=pa(n[t]++,t))}}function ba(e){let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function ga(e){e.bi_valid>8?fa(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ma(e,t,r,n){const i=2*t,a=2*r;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]}function wa(e,t,r){const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&ma(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!ma(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function va(e,t,r){let n,i,a,s,o=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===n?da(e,i,t):(a=ra[i],da(e,a+256+1,t),s=Yi[a],0!==s&&(i-=na[a],la(e,i,s)),n--,a=ha(n),da(e,a,r),s=Xi[a],0!==s&&(n-=ia[a],la(e,n,s)))}while(o<e.last_lit);da(e,256,t)}function _a(e,t){const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let s,o,c,u=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<a;s++)0!==r[2*s]?(e.heap[++e.heap_len]=u=s,e.depth[s]=0):r[2*s+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=u<2?++u:0,r[2*c]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=n[2*c+1]);for(t.max_code=u,s=e.heap_len>>1;s>=1;s--)wa(e,r,s);c=a;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],wa(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,r[2*c]=r[2*s]+r[2*o],e.depth[c]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,r[2*s+1]=r[2*o+1]=c,e.heap[1]=c++,wa(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,h,f,l,d,p,y=0;for(l=0;l<=15;l++)e.bl_count[l]=0;for(r[2*e.heap[e.heap_max]+1]=0,u=e.heap_max+1;u<573;u++)h=e.heap[u],l=r[2*r[2*h+1]+1]+1,l>c&&(l=c,y++),r[2*h+1]=l,h>n||(e.bl_count[l]++,d=0,h>=o&&(d=s[h-o]),p=r[2*h],e.opt_len+=p*(l+d),a&&(e.static_len+=p*(i[2*h+1]+d)));if(0!==y){do{for(l=c-1;0===e.bl_count[l];)l--;e.bl_count[l]--,e.bl_count[l+1]+=2,e.bl_count[c]--,y-=2}while(y>0);for(l=c;0!==l;l--)for(h=e.bl_count[l];0!==h;)f=e.heap[--u],f>n||(r[2*f+1]!==l&&(e.opt_len+=(l-r[2*f+1])*r[2*f],r[2*f+1]=l),h--)}}(e,t),ya(r,u,e.bl_count)}function ka(e,t,r){let n,i,a=-1,s=t[1],o=0,c=7,u=4;for(0===s&&(c=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=t[2*(n+1)+1],++o<c&&i===s||(o<u?e.bl_tree[2*i]+=o:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,a=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))}function Aa(e,t,r){let n,i,a=-1,s=t[1],o=0,c=7,u=4;for(0===s&&(c=138,u=3),n=0;n<=r;n++)if(i=s,s=t[2*(n+1)+1],!(++o<c&&i===s)){if(o<u)do{da(e,i,e.bl_tree)}while(0!=--o);else 0!==i?(i!==a&&(da(e,i,e.bl_tree),o--),da(e,16,e.bl_tree),la(e,o-3,2)):o<=10?(da(e,17,e.bl_tree),la(e,o-3,3)):(da(e,18,e.bl_tree),la(e,o-11,7));o=0,a=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}}$i(ia);let Sa=!1;function Ea(e,t,r,n){la(e,0+(n?1:0),3),function(e,t,r,n){ga(e),fa(e,r),fa(e,~r),Vi(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r)}function xa(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(ra[r]+256+1)]++,e.dyn_dtree[2*ha(t)]++),e.last_lit===e.lit_bufsize-1}function Pa(e,t,r,n){let i=65535&e|0,a=e>>>16&65535|0,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do{i=i+t[n++]|0,a=a+i|0}while(--s);i%=65521,a%=65521}return i|a<<16|0}const Ma=function(){let e;const t=[];for(let r=0;r<256;r++){e=r;for(let t=0;t<8;t++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();function Ra(e,t,r,n){const i=Ma,a=n+r;e^=-1;for(let r=n;r<a;r++)e=e>>>8^i[255&(e^t[r])];return-1^e}var Ca={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function Ia(e,t){return e.msg=Ca[t],t}function Ba(e){return(e<<1)-(e>4?9:0)}function Ua(e){let t=e.length;for(;--t>=0;)e[t]=0}function Da(e){const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(Vi(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function Ta(e,t){(function(e,t,r,n){let i,a,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){let t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),_a(e,e.l_desc),_a(e,e.d_desc),s=function(e){let t;for(ka(e,e.dyn_ltree,e.l_desc.max_code),ka(e,e.dyn_dtree,e.d_desc.max_code),_a(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*Ji[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&-1!==t?Ea(e,t,r,n):4===e.strategy||a===i?(la(e,2+(n?1:0),3),va(e,Qi,ea)):(la(e,4+(n?1:0),3),function(e,t,r,n){let i;for(la(e,t-257,5),la(e,r-1,5),la(e,n-4,4),i=0;i<n;i++)la(e,e.bl_tree[2*Ji[i]+1],3);Aa(e,e.dyn_ltree,t-1),Aa(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),va(e,e.dyn_ltree,e.dyn_dtree)),ba(e),n&&ga(e)})(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Da(e.strm)}function Ka(e,t){e.pending_buf[e.pending++]=t}function Oa(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function za(e,t,r,n){let i=e.avail_in;return i>n&&(i=n),0===i?0:(e.avail_in-=i,Vi(t,e.input,e.next_in,i,r),1===e.state.wrap?e.adler=Pa(e.adler,t,i,r):2===e.state.wrap&&(e.adler=Ra(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)}function La(e,t){let r,n,i=e.max_chain_length,a=e.strstart,s=e.prev_length,o=e.nice_match;const c=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,h=e.w_mask,f=e.prev,l=e.strstart+258;let d=u[a+s-1],p=u[a+s];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(r=t,u[r+s]===p&&u[r+s-1]===d&&u[r]===u[a]&&u[++r]===u[a+1]){a+=2,r++;do{}while(u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&a<l);if(n=258-(l-a),a=l-258,n>s){if(e.match_start=t,s=n,n>=o)break;d=u[a+s-1],p=u[a+s]}}}while((t=f[t&h])>c&&0!=--i);return s<=e.lookahead?s:e.lookahead}function Na(e){const t=e.w_size;let r,n,i,a,s;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-262)){Vi(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do{i=e.head[--r],e.head[r]=i>=t?i-t:0}while(--n);n=t,r=n;do{i=e.prev[--r],e.prev[r]=i>=t?i-t:0}while(--n);a+=t}if(0===e.strm.avail_in)break;if(n=za(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=n,e.lookahead+e.insert>=3)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+3-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function qa(e,t){let r,n;for(;;){if(e.lookahead<262){if(Na(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-262&&(e.match_length=La(e,r)),e.match_length>=3)if(n=xa(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=xa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Ta(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(Ta(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ta(e,!1),0===e.strm.avail_out)?1:2}function Fa(e,t){let r,n,i;for(;;){if(e.lookahead<262){if(Na(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=La(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=xa(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(Ta(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=xa(e,0,e.window[e.strstart-1]),n&&Ta(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=xa(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(Ta(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ta(e,!1),0===e.strm.avail_out)?1:2}class ja{constructor(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}}const Wa=[new ja(0,0,0,0,(function(e,t){let r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Na(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,Ta(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(Ta(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(Ta(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Ta(e,!1),e.strm.avail_out),1)})),new ja(4,4,8,4,qa),new ja(4,5,16,8,qa),new ja(4,6,32,32,qa),new ja(4,4,16,16,Fa),new ja(8,16,32,32,Fa),new ja(8,16,128,128,Fa),new ja(8,32,128,256,Fa),new ja(32,128,258,1024,Fa),new ja(32,258,258,4096,Fa)];class Ha{constructor(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Wi(1146),this.dyn_dtree=new Wi(122),this.bl_tree=new Wi(78),Ua(this.dyn_ltree),Ua(this.dyn_dtree),Ua(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Wi(16),this.heap=new Wi(573),Ua(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Wi(573),Ua(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}}function Ga(e){const t=function(e){let t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,function(e){Sa||(function(){let e,t,r,n,i;const a=Array(16);for(r=0,n=0;n<28;n++)for(na[n]=r,e=0;e<1<<Yi[n];e++)ra[r++]=n;for(ra[r-1]=n,i=0,n=0;n<16;n++)for(ia[n]=i,e=0;e<1<<Xi[n];e++)ta[i++]=n;for(i>>=7;n<30;n++)for(ia[n]=i<<7,e=0;e<1<<Xi[n]-7;e++)ta[256+i++]=n;for(t=0;t<=15;t++)a[t]=0;for(e=0;e<=143;)Qi[2*e+1]=8,e++,a[8]++;for(;e<=255;)Qi[2*e+1]=9,e++,a[9]++;for(;e<=279;)Qi[2*e+1]=7,e++,a[7]++;for(;e<=287;)Qi[2*e+1]=8,e++,a[8]++;for(ya(Qi,287,a),e=0;e<30;e++)ea[2*e+1]=5,ea[2*e]=pa(e,5);sa=new aa(Qi,Yi,257,286,15),oa=new aa(ea,Xi,0,30,15),ca=new aa([],Zi,0,19,7)}(),Sa=!0),e.l_desc=new ua(e.dyn_ltree,sa),e.d_desc=new ua(e.dyn_dtree,oa),e.bl_desc=new ua(e.bl_tree,ca),e.bi_buf=0,e.bi_valid=0,ba(e)}(t),0):Ia(e,-2)}(e);return 0===t&&function(e){e.window_size=2*e.w_size,Ua(e.head),e.max_lazy_match=Wa[e.level].max_lazy,e.good_match=Wa[e.level].good_length,e.nice_match=Wa[e.level].nice_length,e.max_chain_length=Wa[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}function Va(e,t){let r,n,i,a;if(!e||!e.state||t>5||t<0)return e?Ia(e,-2):-2;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||666===n.status&&4!==t)return Ia(e,0===e.avail_out?-5:-2);if(n.strm=e,r=n.last_flush,n.last_flush=t,42===n.status)if(2===n.wrap)e.adler=0,Ka(n,31),Ka(n,139),Ka(n,8),n.gzhead?(Ka(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Ka(n,255&n.gzhead.time),Ka(n,n.gzhead.time>>8&255),Ka(n,n.gzhead.time>>16&255),Ka(n,n.gzhead.time>>24&255),Ka(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),Ka(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Ka(n,255&n.gzhead.extra.length),Ka(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Ra(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(Ka(n,0),Ka(n,0),Ka(n,0),Ka(n,0),Ka(n,0),Ka(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),Ka(n,3),n.status=113);else{let t=8+(n.w_bits-8<<4)<<8,r=-1;r=n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,n.status=113,Oa(n,t),0!==n.strstart&&(Oa(n,e.adler>>>16),Oa(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=Ra(e.adler,n.pending_buf,n.pending-i,i)),Da(e),i=n.pending,n.pending!==n.pending_buf_size));)Ka(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=Ra(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Ra(e.adler,n.pending_buf,n.pending-i,i)),Da(e),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}a=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Ka(n,a)}while(0!==a);n.gzhead.hcrc&&n.pending>i&&(e.adler=Ra(e.adler,n.pending_buf,n.pending-i,i)),0===a&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Ra(e.adler,n.pending_buf,n.pending-i,i)),Da(e),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}a=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Ka(n,a)}while(0!==a);n.gzhead.hcrc&&n.pending>i&&(e.adler=Ra(e.adler,n.pending_buf,n.pending-i,i)),0===a&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&Da(e),n.pending+2<=n.pending_buf_size&&(Ka(n,255&e.adler),Ka(n,e.adler>>8&255),e.adler=0,n.status=113)):n.status=113),0!==n.pending){if(Da(e),0===e.avail_out)return n.last_flush=-1,0}else if(0===e.avail_in&&Ba(t)<=Ba(r)&&4!==t)return Ia(e,-5);if(666===n.status&&0!==e.avail_in)return Ia(e,-5);if(0!==e.avail_in||0!==n.lookahead||0!==t&&666!==n.status){var s=2===n.strategy?function(e,t){let r;for(;;){if(0===e.lookahead&&(Na(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=xa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Ta(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(Ta(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ta(e,!1),0===e.strm.avail_out)?1:2}(n,t):3===n.strategy?function(e,t){let r,n,i,a;const s=e.window;for(;;){if(e.lookahead<=258){if(Na(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){a=e.strstart+258;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);e.match_length=258-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=xa(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=xa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Ta(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(Ta(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ta(e,!1),0===e.strm.avail_out)?1:2}(n,t):Wa[n.level].func(n,t);if(3!==s&&4!==s||(n.status=666),1===s||3===s)return 0===e.avail_out&&(n.last_flush=-1),0;if(2===s&&(1===t?function(e){la(e,2,3),da(e,256,Qi),function(e){16===e.bi_valid?(fa(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}(n):5!==t&&(Ea(n,0,0,!1),3===t&&(Ua(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Da(e),0===e.avail_out))return n.last_flush=-1,0}return 4!==t?0:n.wrap<=0?1:(2===n.wrap?(Ka(n,255&e.adler),Ka(n,e.adler>>8&255),Ka(n,e.adler>>16&255),Ka(n,e.adler>>24&255),Ka(n,255&e.total_in),Ka(n,e.total_in>>8&255),Ka(n,e.total_in>>16&255),Ka(n,e.total_in>>24&255)):(Oa(n,e.adler>>>16),Oa(n,65535&e.adler)),Da(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?0:1)}try{String.fromCharCode.call(null,0)}catch(n){}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(n){}const $a=new ji(256);for(let e=0;e<256;e++)$a[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;function Ya(e){let t,r,n,i,a=0;const s=e.length;for(n=0;n<s;n++)t=e.charCodeAt(n),55296==(64512&t)&&n+1<s&&(r=e.charCodeAt(n+1),56320==(64512&r)&&(t=65536+(t-55296<<10)+(r-56320),n++)),a+=t<128?1:t<2048?2:t<65536?3:4;const o=new ji(a);for(i=0,n=0;i<a;n++)t=e.charCodeAt(n),55296==(64512&t)&&n+1<s&&(r=e.charCodeAt(n+1),56320==(64512&r)&&(t=65536+(t-55296<<10)+(r-56320),n++)),t<128?o[i++]=t:t<2048?(o[i++]=192|t>>>6,o[i++]=128|63&t):t<65536?(o[i++]=224|t>>>12,o[i++]=128|t>>>6&63,o[i++]=128|63&t):(o[i++]=240|t>>>18,o[i++]=128|t>>>12&63,o[i++]=128|t>>>6&63,o[i++]=128|63&t);return o}$a[254]=$a[254]=1;class Xa{constructor(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}}class Za{constructor(e){this.options={level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,...e||{}};const t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xa,this.strm.avail_out=0;var r,n,i=function(e,t,r,n,i,a){if(!e)return-2;let s=1;if(-1===t&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>9||8!==r||n<8||n>15||t<0||t>9||a<0||a>4)return Ia(e,-2);8===n&&(n=9);const o=new Ha;return e.state=o,o.strm=e,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new ji(2*o.w_size),o.head=new Wi(o.hash_size),o.prev=new Wi(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new ji(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=a,o.method=r,Ga(e)}(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==i)throw Error(Ca[i]);if(t.header&&(r=this.strm,n=t.header,r&&r.state&&(2!==r.state.wrap||(r.state.gzhead=n))),t.dictionary){let e;if(e="string"==typeof t.dictionary?Ya(t.dictionary):t.dictionary instanceof ArrayBuffer?new Uint8Array(t.dictionary):t.dictionary,0!==(i=function(e,t){let r,n,i,a,s,o,c,u,h=t.length;if(!e||!e.state)return-2;if(r=e.state,a=r.wrap,2===a||1===a&&42!==r.status||r.lookahead)return-2;for(1===a&&(e.adler=Pa(e.adler,t,h,0)),r.wrap=0,h>=r.w_size&&(0===a&&(Ua(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new ji(r.w_size),Vi(u,t,h-r.w_size,r.w_size,0),t=u,h=r.w_size),s=e.avail_in,o=e.next_in,c=e.input,e.avail_in=h,e.next_in=0,e.input=t,Na(r);r.lookahead>=3;){n=r.strstart,i=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--i);r.strstart=n,r.lookahead=2,Na(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=o,e.input=c,e.avail_in=s,r.wrap=a,0}(this.strm,e)))throw Error(Ca[i]);this._dict_set=!0}}push(e,t){const{strm:r,options:{chunkSize:n}}=this;var i,a;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?r.input=Ya(e):e instanceof ArrayBuffer?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new ji(n),r.next_out=0,r.avail_out=n),1!==(i=Va(r,a))&&0!==i)return this.onEnd(i),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==a&&2!==a)||this.onData(Ni(r.output,r.next_out))}while((r.avail_in>0||0===r.avail_out)&&1!==i);return 4===a?(i=function(e){let t;return e&&e.state?(t=e.state.status,42!==t&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?Ia(e,-2):(e.state=null,113===t?Ia(e,-3):0)):-2}(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==a||(this.onEnd(0),r.avail_out=0,!0)}onData(e){this.chunks.push(e)}onEnd(e){0===e&&(this.result=Gi(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}}function Ja(e,t){let r,n,i,a,s,o,c,u,h,f;const l=e.state;r=e.next_in;const d=e.input,p=r+(e.avail_in-5);n=e.next_out;const y=e.output,b=n-(t-e.avail_out),g=n+(e.avail_out-257),m=l.dmax,w=l.wsize,v=l.whave,_=l.wnext,k=l.window;i=l.hold,a=l.bits;const A=l.lencode,S=l.distcode,E=(1<<l.lenbits)-1,x=(1<<l.distbits)-1;e:do{a<15&&(i+=d[r++]<<a,a+=8,i+=d[r++]<<a,a+=8),s=A[i&E];t:for(;;){if(o=s>>>24,i>>>=o,a-=o,o=s>>>16&255,0===o)y[n++]=65535&s;else{if(!(16&o)){if(0==(64&o)){s=A[(65535&s)+(i&(1<<o)-1)];continue t}if(32&o){l.mode=12;break e}e.msg="invalid literal/length code",l.mode=30;break e}c=65535&s,o&=15,o&&(a<o&&(i+=d[r++]<<a,a+=8),c+=i&(1<<o)-1,i>>>=o,a-=o),a<15&&(i+=d[r++]<<a,a+=8,i+=d[r++]<<a,a+=8),s=S[i&x];r:for(;;){if(o=s>>>24,i>>>=o,a-=o,o=s>>>16&255,!(16&o)){if(0==(64&o)){s=S[(65535&s)+(i&(1<<o)-1)];continue r}e.msg="invalid distance code",l.mode=30;break e}if(u=65535&s,o&=15,a<o&&(i+=d[r++]<<a,a+=8,a<o&&(i+=d[r++]<<a,a+=8)),u+=i&(1<<o)-1,u>m){e.msg="invalid distance too far back",l.mode=30;break e}if(i>>>=o,a-=o,o=n-b,u>o){if(o=u-o,o>v&&l.sane){e.msg="invalid distance too far back",l.mode=30;break e}if(h=0,f=k,0===_){if(h+=w-o,o<c){c-=o;do{y[n++]=k[h++]}while(--o);h=n-u,f=y}}else if(_<o){if(h+=w+_-o,o-=_,o<c){c-=o;do{y[n++]=k[h++]}while(--o);if(h=0,_<c){o=_,c-=o;do{y[n++]=k[h++]}while(--o);h=n-u,f=y}}}else if(h+=_-o,o<c){c-=o;do{y[n++]=k[h++]}while(--o);h=n-u,f=y}for(;c>2;)y[n++]=f[h++],y[n++]=f[h++],y[n++]=f[h++],c-=3;c&&(y[n++]=f[h++],c>1&&(y[n++]=f[h++]))}else{h=n-u;do{y[n++]=y[h++],y[n++]=y[h++],y[n++]=y[h++],c-=3}while(c>2);c&&(y[n++]=y[h++],c>1&&(y[n++]=y[h++]))}break}}break}}while(r<p&&n<g);c=a>>3,r-=c,a-=c<<3,i&=(1<<a)-1,e.next_in=r,e.next_out=n,e.avail_in=r<p?p-r+5:5-(r-p),e.avail_out=n<g?g-n+257:257-(n-g),l.hold=i,l.bits=a}const Qa=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],es=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],ts=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],rs=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function ns(e,t,r,n,i,a,s,o){const c=o.bits;let u,h,f,l,d,p=0,y=0,b=0,g=0,m=0,w=0,v=0,_=0,k=0,A=0,S=null,E=0;const x=new Wi(16),P=new Wi(16);let M,R,C,I=null,B=0;for(p=0;p<=15;p++)x[p]=0;for(y=0;y<n;y++)x[t[r+y]]++;for(m=c,g=15;g>=1&&0===x[g];g--);if(m>g&&(m=g),0===g)return i[a++]=20971520,i[a++]=20971520,o.bits=1,0;for(b=1;b<g&&0===x[b];b++);for(m<b&&(m=b),_=1,p=1;p<=15;p++)if(_<<=1,_-=x[p],_<0)return-1;if(_>0&&(0===e||1!==g))return-1;for(P[1]=0,p=1;p<15;p++)P[p+1]=P[p]+x[p];for(y=0;y<n;y++)0!==t[r+y]&&(s[P[t[r+y]]++]=y);0===e?(S=I=s,d=19):1===e?(S=Qa,E-=257,I=es,B-=257,d=256):(S=ts,I=rs,d=-1),A=0,y=0,p=b,l=a,w=m,v=0,f=-1,k=1<<m;const U=k-1;if(1===e&&k>852||2===e&&k>592)return 1;for(;;){M=p-v,s[y]<d?(R=0,C=s[y]):s[y]>d?(R=I[B+s[y]],C=S[E+s[y]]):(R=96,C=0),u=1<<p-v,h=1<<w,b=h;do{h-=u,i[l+(A>>v)+h]=M<<24|R<<16|C|0}while(0!==h);for(u=1<<p-1;A&u;)u>>=1;if(0!==u?(A&=u-1,A+=u):A=0,y++,0==--x[p]){if(p===g)break;p=t[r+s[y]]}if(p>m&&(A&U)!==f){for(0===v&&(v=m),l+=b,w=p-v,_=1<<w;w+v<g&&(_-=x[w+v],!(_<=0));)w++,_<<=1;if(k+=1<<w,1===e&&k>852||2===e&&k>592)return 1;f=A&U,i[f]=m<<24|w<<16|l-a|0}}return 0!==A&&(i[l+A]=p-v<<24|64<<16|0),o.bits=m,0}function is(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}class as{constructor(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Wi(320),this.work=new Wi(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}}function ss(e,t){let r,n;return e?(n=new as,e.state=n,n.window=null,r=function(e,t){let r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,function(e){let t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,function(e){let t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Hi(852),t.distcode=t.distdyn=new Hi(592),t.sane=1,t.back=-1,0):-2}(e)):-2}(e))):-2}(e,t),0!==r&&(e.state=null),r):-2}let os,cs,us=!0;function hs(e){if(us){let t;for(os=new Hi(512),cs=new Hi(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ns(1,e.lens,0,288,os,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ns(2,e.lens,0,32,cs,0,e.work,{bits:5}),us=!1}e.lencode=os,e.lenbits=9,e.distcode=cs,e.distbits=5}function fs(e,t,r,n){let i;const a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new ji(a.wsize)),n>=a.wsize?(Vi(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),Vi(a.window,t,r-n,i,a.wnext),(n-=i)?(Vi(a.window,t,r-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function ls(e,t){let r,n,i,a,s,o,c,u,h,f,l,d,p,y,b,g,m,w,v,_,k,A,S,E,x=0,P=new ji(4);const M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;r=e.state,12===r.mode&&(r.mode=13),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,u=r.hold,h=r.bits,f=o,l=c,A=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;h<16;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if(2&r.wrap&&35615===u){r.check=0,P[0]=255&u,P[1]=u>>>8&255,r.check=Ra(r.check,P,2,0),u=0,h=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&u)){e.msg="unknown compression method",r.mode=30;break}if(u>>>=4,h-=4,k=8+(15&u),0===r.wbits)r.wbits=k;else if(k>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<k,e.adler=r.check=1,r.mode=512&u?10:12,u=0,h=0;break;case 2:for(;h<16;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if(r.flags=u,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(P[0]=255&u,P[1]=u>>>8&255,r.check=Ra(r.check,P,2,0)),u=0,h=0,r.mode=3;case 3:for(;h<32;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}r.head&&(r.head.time=u),512&r.flags&&(P[0]=255&u,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,r.check=Ra(r.check,P,4,0)),u=0,h=0,r.mode=4;case 4:for(;h<16;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(P[0]=255&u,P[1]=u>>>8&255,r.check=Ra(r.check,P,2,0)),u=0,h=0,r.mode=5;case 5:if(1024&r.flags){for(;h<16;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(P[0]=255&u,P[1]=u>>>8&255,r.check=Ra(r.check,P,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(d=r.length,d>o&&(d=o),d&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=Array(r.head.extra_len)),Vi(r.head.extra,n,a,d,k)),512&r.flags&&(r.check=Ra(r.check,n,d,a)),o-=d,a+=d,r.length-=d),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break e;d=0;do{k=n[a+d++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k))}while(k&&d<o);if(512&r.flags&&(r.check=Ra(r.check,n,d,a)),o-=d,a+=d,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break e;d=0;do{k=n[a+d++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k))}while(k&&d<o);if(512&r.flags&&(r.check=Ra(r.check,n,d,a)),o-=d,a+=d,k)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;h<16;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if(u!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;h<32;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}e.adler=r.check=is(u),u=0,h=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=h,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){u>>>=7&h,h-=7&h,r.mode=27;break}for(;h<3;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}switch(r.last=1&u,u>>>=1,h-=1,3&u){case 0:r.mode=14;break;case 1:if(hs(r),r.mode=20,6===t){u>>>=2,h-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}u>>>=2,h-=2;break;case 14:for(u>>>=7&h,h-=7&h;h<32;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&u,u=0,h=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(d=r.length,d){if(d>o&&(d=o),d>c&&(d=c),0===d)break e;Vi(i,n,a,d,s),o-=d,a+=d,c-=d,s+=d,r.length-=d;break}r.mode=12;break;case 17:for(;h<14;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if(r.nlen=257+(31&u),u>>>=5,h-=5,r.ndist=1+(31&u),u>>>=5,h-=5,r.ncode=4+(15&u),u>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;h<3;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}r.lens[M[r.have++]]=7&u,u>>>=3,h-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},A=ns(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,A){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[u&(1<<r.lenbits)-1],b=x>>>24,g=x>>>16&255,m=65535&x,!(b<=h);){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if(m<16)u>>>=b,h-=b,r.lens[r.have++]=m;else{if(16===m){for(E=b+2;h<E;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if(u>>>=b,h-=b,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}k=r.lens[r.have-1],d=3+(3&u),u>>>=2,h-=2}else if(17===m){for(E=b+3;h<E;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}u>>>=b,h-=b,k=0,d=3+(7&u),u>>>=3,h-=3}else{for(E=b+7;h<E;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}u>>>=b,h-=b,k=0,d=11+(127&u),u>>>=7,h-=7}if(r.have+d>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;d--;)r.lens[r.have++]=k}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,S={bits:r.lenbits},A=ns(1,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,A){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},A=ns(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,A){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(o>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=h,Ja(e,l),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,u=r.hold,h=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;x=r.lencode[u&(1<<r.lenbits)-1],b=x>>>24,g=x>>>16&255,m=65535&x,!(b<=h);){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if(g&&0==(240&g)){for(w=b,v=g,_=m;x=r.lencode[_+((u&(1<<w+v)-1)>>w)],b=x>>>24,g=x>>>16&255,m=65535&x,!(w+b<=h);){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}u>>>=w,h-=w,r.back+=w}if(u>>>=b,h-=b,r.back+=b,r.length=m,0===g){r.mode=26;break}if(32&g){r.back=-1,r.mode=12;break}if(64&g){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&g,r.mode=22;case 22:if(r.extra){for(E=r.extra;h<E;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;x=r.distcode[u&(1<<r.distbits)-1],b=x>>>24,g=x>>>16&255,m=65535&x,!(b<=h);){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if(0==(240&g)){for(w=b,v=g,_=m;x=r.distcode[_+((u&(1<<w+v)-1)>>w)],b=x>>>24,g=x>>>16&255,m=65535&x,!(w+b<=h);){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}u>>>=w,h-=w,r.back+=w}if(u>>>=b,h-=b,r.back+=b,64&g){e.msg="invalid distance code",r.mode=30;break}r.offset=m,r.extra=15&g,r.mode=24;case 24:if(r.extra){for(E=r.extra;h<E;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===c)break e;if(d=l-c,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),y=r.window}else y=i,p=s-r.offset,d=r.length;d>c&&(d=c),c-=d,r.length-=d;do{i[s++]=y[p++]}while(--d);0===r.length&&(r.mode=21);break;case 26:if(0===c)break e;i[s++]=r.length,c--,r.mode=21;break;case 27:if(r.wrap){for(;h<32;){if(0===o)break e;o--,u|=n[a++]<<h,h+=8}if(l-=c,e.total_out+=l,r.total+=l,l&&(e.adler=r.check=r.flags?Ra(r.check,i,l,s-l):Pa(r.check,i,l,s-l)),l=c,(r.flags?u:is(u))!==r.check){e.msg="incorrect data check",r.mode=30;break}u=0,h=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;h<32;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if(u!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}u=0,h=0}r.mode=29;case 29:A=1;break e;case 30:A=-3;break e;case 32:default:return-2}return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=h,(r.wsize||l!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&fs(e,e.output,e.next_out,l-e.avail_out),f-=e.avail_in,l-=e.avail_out,e.total_in+=f,e.total_out+=l,r.total+=l,r.wrap&&l&&(e.adler=r.check=r.flags?Ra(r.check,i,l,e.next_out-l):Pa(r.check,i,l,e.next_out-l)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===f&&0===l||4===t)&&0===A&&(A=-5),A}function ds(e,t){const r=t.length;let n,i;return e&&e.state?(n=e.state,0!==n.wrap&&11!==n.mode?-2:11===n.mode&&(i=1,i=Pa(i,t,r,0),i!==n.check)?-3:(fs(e,t,r,r),n.havedict=1,0)):-2}class ps{constructor(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}class ys{constructor(e){this.options={chunkSize:16384,windowBits:0,...e||{}};const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xa,this.strm.avail_out=0;let r=ss(this.strm,t.windowBits);if(0!==r)throw Error(Ca[r]);if(this.header=new ps,function(e,t){let r;e&&e.state&&(r=e.state,0==(2&r.wrap)||(r.head=t,t.done=!1))}(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Ya(t.dictionary):t.dictionary instanceof ArrayBuffer&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=ds(this.strm,t.dictionary),0!==r)))throw Error(Ca[r])}push(e,t){const{strm:r,options:{chunkSize:n,dictionary:i}}=this;let a,s,o=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?r.input=function(e){const t=new ji(e.length);for(let r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t}(e):e instanceof ArrayBuffer?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new ji(n),r.next_out=0,r.avail_out=n),a=ls(r,0),2===a&&i&&(a=ds(this.strm,i)),-5===a&&!0===o&&(a=0,o=!1),1!==a&&0!==a)return this.onEnd(a),this.ended=!0,!1;r.next_out&&(0!==r.avail_out&&1!==a&&(0!==r.avail_in||4!==s&&2!==s)||this.onData(Ni(r.output,r.next_out))),0===r.avail_in&&0===r.avail_out&&(o=!0)}while((r.avail_in>0||0===r.avail_out)&&1!==a);return 1===a&&(s=4),4===s?(a=function(e){if(!e||!e.state)return-2;const t=e.state;return t.window&&(t.window=null),e.state=null,0}(this.strm),this.onEnd(a),this.ended=!0,0===a):2!==s||(this.onEnd(0),r.avail_out=0,!0)}onData(e){this.chunks.push(e)}onEnd(e){0===e&&(this.result=Gi(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}}var bs=[0,1,3,7,15,31,63,127,255],gs=function(e){this.stream=e,this.bitOffset=0,this.curByte=0,this.hasByte=!1};gs.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)},gs.prototype.read=function(e){for(var t=0;e>0;){this._ensureByte();var r=8-this.bitOffset;if(e>=r)t<<=r,t|=bs[r]&this.curByte,this.hasByte=!1,this.bitOffset=0,e-=r;else{t<<=e;var n=r-e;t|=(this.curByte&bs[e]<<n)>>n,this.bitOffset+=e,e=0}}return t},gs.prototype.seek=function(e){var t=e%8,r=(e-t)/8;this.bitOffset=t,this.stream.seek(r),this.hasByte=!1},gs.prototype.pi=function(){var e,t=new Uint8Array(6);for(e=0;e<t.length;e++)t[e]=this.read(8);return function(e){return Array.prototype.map.call(e,(e=>("00"+e.toString(16)).slice(-2))).join("")}(t)};var ms=gs,ws=function(){};ws.prototype.readByte=function(){throw Error("abstract method readByte() not implemented")},ws.prototype.read=function(e,t,r){for(var n=0;n<r;){var i=this.readByte();if(i<0)return 0===n?-1:n;e[t++]=i,n++}return n},ws.prototype.seek=function(e){throw Error("abstract method seek() not implemented")},ws.prototype.writeByte=function(e){throw Error("abstract method readByte() not implemented")},ws.prototype.write=function(e,t,r){var n;for(n=0;n<r;n++)this.writeByte(e[t++]);return r},ws.prototype.flush=function(){};var vs,_s=ws,ks=(vs=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),function(){var e=4294967295;this.getCRC=function(){return~e>>>0},this.updateCRC=function(t){e=e<<8^vs[255&(e>>>24^t)]},this.updateCRCRun=function(t,r){for(;r-- >0;)e=e<<8^vs[255&(e>>>24^t)]}}),As=function(e,t){var r,n=e[t];for(r=t;r>0;r--)e[r]=e[r-1];return e[0]=n,n},Ss=-2,Es=-3,xs=-4,Ps=-5,Ms=-6,Rs=-7,Cs={"-1":"Bad file checksum"};Cs[Ss]="Not bzip data",Cs[Es]="Unexpected input EOF",Cs[xs]="Unexpected output EOF",Cs[Ps]="Data error",Cs[Ms]="Out of memory",Cs[Rs]="Obsolete (pre 0.9.5) bzip format not supported.";var Is=function(e,t){var r=Cs[e]||"unknown error";t&&(r+=": "+t);var n=new TypeError(r);throw n.errorCode=e,n},Bs=function(e,t){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(e,t)};Bs.prototype._init_block=function(){return this._get_next_block()?(this.blockCRC=new ks,!0):(this.writeCount=-1,!1)},Bs.prototype._start_bunzip=function(e,t){var r=new Uint8Array(4);4===e.read(r,0,4)&&"BZh"===String.fromCharCode(r[0],r[1],r[2])||Is(Ss,"bad magic");var n=r[3]-48;(n<1||n>9)&&Is(Ss,"level out of range"),this.reader=new ms(e),this.dbufSize=1e5*n,this.nextoutput=0,this.outputStream=t,this.streamCRC=0},Bs.prototype._get_next_block=function(){var e,t,r,n=this.reader,i=n.pi();if("177245385090"===i)return!1;"314159265359"!==i&&Is(Ss),this.targetBlockCRC=n.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,n.read(1)&&Is(Rs);var a=n.read(24);a>this.dbufSize&&Is(Ps,"initial position out of bounds");var s=n.read(16),o=new Uint8Array(256),c=0;for(e=0;e<16;e++)if(s&1<<15-e){var u=16*e;for(r=n.read(16),t=0;t<16;t++)r&1<<15-t&&(o[c++]=u+t)}var h=n.read(3);(h<2||h>6)&&Is(Ps);var f=n.read(15);0===f&&Is(Ps);var l=new Uint8Array(256);for(e=0;e<h;e++)l[e]=e;var d=new Uint8Array(f);for(e=0;e<f;e++){for(t=0;n.read(1);t++)t>=h&&Is(Ps);d[e]=As(l,t)}var p,y=c+2,b=[];for(t=0;t<h;t++){var g,m,w=new Uint8Array(y),v=new Uint16Array(21);for(s=n.read(5),e=0;e<y;e++){for(;(s<1||s>20)&&Is(Ps),n.read(1);)n.read(1)?s--:s++;w[e]=s}for(g=m=w[0],e=1;e<y;e++)w[e]>m?m=w[e]:w[e]<g&&(g=w[e]);p={},b.push(p),p.permute=new Uint16Array(258),p.limit=new Uint32Array(22),p.base=new Uint32Array(21),p.minLen=g,p.maxLen=m;var _=0;for(e=g;e<=m;e++)for(v[e]=p.limit[e]=0,s=0;s<y;s++)w[s]===e&&(p.permute[_++]=s);for(e=0;e<y;e++)v[w[e]]++;for(_=s=0,e=g;e<m;e++)_+=v[e],p.limit[e]=_-1,_<<=1,s+=v[e],p.base[e+1]=_-s;p.limit[m+1]=Number.MAX_VALUE,p.limit[m]=_+v[m]-1,p.base[g]=0}var k=new Uint32Array(256);for(e=0;e<256;e++)l[e]=e;var A,S=0,E=0,x=0,P=this.dbuf=new Uint32Array(this.dbufSize);for(y=0;;){for(y--||(y=49,x>=f&&Is(Ps),p=b[d[x++]]),e=p.minLen,t=n.read(e);e>p.maxLen&&Is(Ps),!(t<=p.limit[e]);e++)t=t<<1|n.read(1);((t-=p.base[e])<0||t>=258)&&Is(Ps);var M=p.permute[t];if(0!==M&&1!==M){if(S)for(S=0,E+s>this.dbufSize&&Is(Ps),k[A=o[l[0]]]+=s;s--;)P[E++]=A;if(M>c)break;E>=this.dbufSize&&Is(Ps),k[A=o[A=As(l,e=M-1)]]++,P[E++]=A}else S||(S=1,s=0),s+=0===M?S:2*S,S<<=1}for((a<0||a>=E)&&Is(Ps),t=0,e=0;e<256;e++)r=t+k[e],k[e]=t,t=r;for(e=0;e<E;e++)P[k[A=255&P[e]]]|=e<<8,k[A]++;var R=0,C=0,I=0;return E&&(C=255&(R=P[a]),R>>=8,I=-1),this.writePos=R,this.writeCurrent=C,this.writeCount=E,this.writeRun=I,!0},Bs.prototype._read_bunzip=function(e,t){var r,n,i;if(this.writeCount<0)return 0;var a=this.dbuf,s=this.writePos,o=this.writeCurrent,c=this.writeCount;this.outputsize;for(var u=this.writeRun;c;){for(c--,n=o,o=255&(s=a[s]),s>>=8,3==u++?(r=o,i=n,o=-1):(r=1,i=o),this.blockCRC.updateCRCRun(i,r);r--;)this.outputStream.writeByte(i),this.nextoutput++;o!=n&&(u=0)}return this.writeCount=c,this.blockCRC.getCRC()!==this.targetBlockCRC&&Is(Ps,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var Us=function(e,t,r){for(var n=function(e){if("readByte"in e)return e;var t=new _s;return t.pos=0,t.readByte=function(){return e[this.pos++]},t.seek=function(e){this.pos=e},t.eof=function(){return this.pos>=e.length},t}(e),i=function(e){var t=new _s,r=!0;if(e)if("number"==typeof e)t.buffer=new Uint8Array(e),r=!1;else{if("writeByte"in e)return e;t.buffer=e,r=!1}else t.buffer=new Uint8Array(16384);return t.pos=0,t.writeByte=function(e){if(r&&this.pos>=this.buffer.length){var t=new Uint8Array(2*this.buffer.length);t.set(this.buffer),this.buffer=t}this.buffer[this.pos++]=e},t.getBuffer=function(){if(this.pos!==this.buffer.length){if(!r)throw new TypeError("outputsize does not match decoded input");var e=new Uint8Array(this.pos);e.set(this.buffer.subarray(0,this.pos)),this.buffer=e}return this.buffer},t._coerced=!0,t}(t),a=new Bs(n,i);!("eof"in n)||!n.eof();)if(a._init_block())a._read_bunzip();else{var s=a.reader.read(32)>>>0;if(s!==a.streamCRC&&Is(Ps,"Bad stream CRC (got "+a.streamCRC.toString(16)+" expected "+s.toString(16)+")"),!r||!("eof"in n)||n.eof())break;a._start_bunzip(n,i)}if("getBuffer"in i)return i.getBuffer()};class Ds{static get tag(){return ie.packet.literalData}constructor(e=new Date){this.format="utf8",this.date=Y.normalizeDate(e),this.text=null,this.data=null,this.filename=""}setText(e,t="utf8"){this.format=t,this.text=e,this.data=null}getText(e=!1){return(null===this.text||Y.isStream(this.text))&&(this.text=Y.decodeUTF8(Y.nativeEOL(this.getBytes(e)))),this.text}setBytes(e,t){this.format=t,this.data=e,this.text=null}getBytes(e=!1){return null===this.data&&(this.data=Y.canonicalizeEOL(Y.encodeUTF8(this.text))),e?q(this.data):this.data}setFilename(e){this.filename=e}getFilename(){return this.filename}async read(e){await L(e,(async e=>{const t=ie.read(ie.literal,await e.readByte()),r=await e.readByte();this.filename=Y.decodeUTF8(await e.readBytes(r)),this.date=Y.readDate(await e.readBytes(4));const n=e.remainder();this.setBytes(n,t)}))}writeHeader(){const e=Y.encodeUTF8(this.filename),t=new Uint8Array([e.length]),r=new Uint8Array([ie.write(ie.literal,this.format)]),n=Y.writeDate(this.date);return Y.concatUint8Array([r,t,e,n])}write(){const e=this.writeHeader(),t=this.getBytes();return Y.concat([e,t])}}function Ts(e){let t,r=0;const n=e[0];return n<192?([r]=e,t=1):n<255?(r=(e[0]-192<<8)+e[1]+192,t=2):255===n&&(r=Y.readNumber(e.subarray(1,5)),t=5),{len:r,offset:t}}function Ks(e){return e<192?new Uint8Array([e]):e>191&&e<8384?new Uint8Array([192+(e-192>>8),e-192&255]):Y.concatUint8Array([new Uint8Array([255]),Y.writeNumber(e,4)])}function Os(e){if(e<0||e>30)throw Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+e])}function zs(e){return new Uint8Array([192|e])}function Ls(e,t){return Y.concatUint8Array([zs(e),Ks(t)])}function Ns(e){return[ie.packet.literalData,ie.packet.compressedData,ie.packet.symmetricallyEncryptedData,ie.packet.symEncryptedIntegrityProtectedData,ie.packet.aeadEncryptedData].includes(e)}async function qs(e,t){const r=B(e);let n,i;try{const a=await r.peekBytes(2);if(!a||a.length<2||0==(128&a[0]))throw Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");const s=await r.readByte();let c,u,h=-1,f=-1;f=0,0!=(64&s)&&(f=1),f?h=63&s:(h=(63&s)>>2,u=3&s);const l=Ns(h);let d,p=null;if(l){if("array"===Y.isStream(e)){const e=new o;n=U(e),p=e}else{const e=new x;n=U(e.writable),p=e.readable}i=t({tag:h,packet:p})}else p=[];do{if(f){const e=await r.readByte();if(d=!1,e<192)c=e;else if(e>=192&&e<224)c=(e-192<<8)+await r.readByte()+192;else if(e>223&&e<255){if(c=1<<(31&e),d=!0,!l)throw new TypeError("This packet type does not support partial lengths.")}else c=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte()}else switch(u){case 0:c=await r.readByte();break;case 1:c=await r.readByte()<<8|await r.readByte();break;case 2:c=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte();break;default:c=1/0}if(c>0){let e=0;for(;;){n&&await n.ready;const{done:t,value:i}=await r.read();if(t){if(c===1/0)break;throw Error("Unexpected end of packet")}const a=c===1/0?i:i.subarray(0,c-e);if(n?await n.write(a):p.push(a),e+=i.length,e>=c){r.unshift(i.subarray(c-e+i.length));break}}}}while(d);const y=await r.peekBytes(l?1/0:2);return n?(await n.ready,await n.close()):(p=Y.concatUint8Array(p),await t({tag:h,packet:p})),!y||!y.length}catch(e){if(n)return await n.abort(e),!0;throw e}finally{n&&await i,r.releaseLock()}}class Fs extends Error{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,Fs),this.name="UnsupportedError"}}class js{static get tag(){return ie.packet.signature}constructor(e=new Date){this.version=4,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.signedHashValue=null,this.created=Y.normalizeDate(e),this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyID=new ye,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserID=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAEADAlgorithms=null,this.verified=null,this.revoked=null}read(e){let t=0;if(this.version=e[t++],4!==this.version&&5!==this.version)throw new Fs(`Version ${this.version} of the signature packet is unsupported.`);this.signatureType=e[t++],this.publicKeyAlgorithm=e[t++],this.hashAlgorithm=e[t++],t+=this.readSubPackets(e.subarray(t,e.length),!0),this.signatureData=e.subarray(0,t),t+=this.readSubPackets(e.subarray(t,e.length),!1),this.signedHashValue=e.subarray(t,t+2),t+=2,this.params=zi.signature.parseSignatureParams(this.publicKeyAlgorithm,e.subarray(t,e.length))}writeParams(){return this.params instanceof Promise?G((async()=>zi.serializeParams(this.publicKeyAlgorithm,await this.params))):zi.serializeParams(this.publicKeyAlgorithm,this.params)}write(){const e=[];return e.push(this.signatureData),e.push(this.writeUnhashedSubPackets()),e.push(this.signedHashValue),e.push(this.writeParams()),Y.concat(e)}async sign(e,t,r=!1){const n=ie.write(ie.signature,this.signatureType),i=ie.write(ie.publicKey,this.publicKeyAlgorithm),a=ie.write(ie.hash,this.hashAlgorithm);5===e.version&&(this.version=5);const s=[new Uint8Array([this.version,n,i,a])];this.issuerKeyVersion=e.version,this.issuerFingerprint=e.getFingerprintBytes(),this.issuerKeyID=e.getKeyID(),s.push(this.writeHashedSubPackets()),this.signatureData=Y.concat(s);const o=this.toHash(n,t,r),c=await this.hash(n,t,o,r);this.signedHashValue=j(N(c),0,2);const u=async()=>zi.signature.sign(i,a,e.publicParams,e.privateParams,o,await W(c));Y.isStream(c)?this.params=u():(this.params=await u(),this.verified=!0)}writeHashedSubPackets(){const e=ie.signatureSubpacket,t=[];let r;null!==this.created&&t.push(Ws(e.signatureCreationTime,Y.writeDate(this.created))),null!==this.signatureExpirationTime&&t.push(Ws(e.signatureExpirationTime,Y.writeNumber(this.signatureExpirationTime,4))),null!==this.exportable&&t.push(Ws(e.exportableCertification,new Uint8Array([this.exportable?1:0]))),null!==this.trustLevel&&(r=new Uint8Array([this.trustLevel,this.trustAmount]),t.push(Ws(e.trustSignature,r))),null!==this.regularExpression&&t.push(Ws(e.regularExpression,this.regularExpression)),null!==this.revocable&&t.push(Ws(e.revocable,new Uint8Array([this.revocable?1:0]))),null!==this.keyExpirationTime&&t.push(Ws(e.keyExpirationTime,Y.writeNumber(this.keyExpirationTime,4))),null!==this.preferredSymmetricAlgorithms&&(r=Y.stringToUint8Array(Y.uint8ArrayToString(this.preferredSymmetricAlgorithms)),t.push(Ws(e.preferredSymmetricAlgorithms,r))),null!==this.revocationKeyClass&&(r=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),r=Y.concat([r,this.revocationKeyFingerprint]),t.push(Ws(e.revocationKey,r))),this.rawNotations.forEach((([{name:n,value:i,humanReadable:a}])=>{r=[new Uint8Array([a?128:0,0,0,0])],r.push(Y.writeNumber(n.length,2)),r.push(Y.writeNumber(i.length,2)),r.push(Y.stringToUint8Array(n)),r.push(i),r=Y.concat(r),t.push(Ws(e.notationData,r))})),null!==this.preferredHashAlgorithms&&(r=Y.stringToUint8Array(Y.uint8ArrayToString(this.preferredHashAlgorithms)),t.push(Ws(e.preferredHashAlgorithms,r))),null!==this.preferredCompressionAlgorithms&&(r=Y.stringToUint8Array(Y.uint8ArrayToString(this.preferredCompressionAlgorithms)),t.push(Ws(e.preferredCompressionAlgorithms,r))),null!==this.keyServerPreferences&&(r=Y.stringToUint8Array(Y.uint8ArrayToString(this.keyServerPreferences)),t.push(Ws(e.keyServerPreferences,r))),null!==this.preferredKeyServer&&t.push(Ws(e.preferredKeyServer,Y.stringToUint8Array(this.preferredKeyServer))),null!==this.isPrimaryUserID&&t.push(Ws(e.primaryUserID,new Uint8Array([this.isPrimaryUserID?1:0]))),null!==this.policyURI&&t.push(Ws(e.policyURI,Y.stringToUint8Array(this.policyURI))),null!==this.keyFlags&&(r=Y.stringToUint8Array(Y.uint8ArrayToString(this.keyFlags)),t.push(Ws(e.keyFlags,r))),null!==this.signersUserID&&t.push(Ws(e.signersUserID,Y.stringToUint8Array(this.signersUserID))),null!==this.reasonForRevocationFlag&&(r=Y.stringToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),t.push(Ws(e.reasonForRevocation,r))),null!==this.features&&(r=Y.stringToUint8Array(Y.uint8ArrayToString(this.features)),t.push(Ws(e.features,r))),null!==this.signatureTargetPublicKeyAlgorithm&&(r=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])],r.push(Y.stringToUint8Array(this.signatureTargetHash)),r=Y.concat(r),t.push(Ws(e.signatureTarget,r))),null!==this.preferredAEADAlgorithms&&(r=Y.stringToUint8Array(Y.uint8ArrayToString(this.preferredAEADAlgorithms)),t.push(Ws(e.preferredAEADAlgorithms,r)));const n=Y.concat(t),i=Y.writeNumber(n.length,2);return Y.concat([i,n])}writeUnhashedSubPackets(){const e=ie.signatureSubpacket,t=[];let r;this.issuerKeyID.isNull()||5===this.issuerKeyVersion||t.push(Ws(e.issuer,this.issuerKeyID.write())),null!==this.embeddedSignature&&t.push(Ws(e.embeddedSignature,this.embeddedSignature.write())),null!==this.issuerFingerprint&&(r=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],r=Y.concat(r),t.push(Ws(e.issuerFingerprint,r))),this.unhashedSubpackets.forEach((e=>{t.push(Ks(e.length)),t.push(e)}));const n=Y.concat(t),i=Y.writeNumber(n.length,2);return Y.concat([i,n])}readSubPacket(e,t=!0){let r=0;const n=(e,t)=>{this[e]=[];for(let r=0;r<t.length;r++)this[e].push(t[r])},i=128&e[r],a=127&e[r];if(t||[ie.signatureSubpacket.issuer,ie.signatureSubpacket.issuerFingerprint,ie.signatureSubpacket.embeddedSignature].includes(a))switch(r++,a){case 2:this.created=Y.readDate(e.subarray(r,e.length));break;case 3:{const t=Y.readNumber(e.subarray(r,e.length));this.signatureNeverExpires=0===t,this.signatureExpirationTime=t;break}case 4:this.exportable=1===e[r++];break;case 5:this.trustLevel=e[r++],this.trustAmount=e[r++];break;case 6:this.regularExpression=e[r];break;case 7:this.revocable=1===e[r++];break;case 9:{const t=Y.readNumber(e.subarray(r,e.length));this.keyExpirationTime=t,this.keyNeverExpires=0===t;break}case 11:n("preferredSymmetricAlgorithms",e.subarray(r,e.length));break;case 12:this.revocationKeyClass=e[r++],this.revocationKeyAlgorithm=e[r++],this.revocationKeyFingerprint=e.subarray(r,r+20);break;case 16:this.issuerKeyID.read(e.subarray(r,e.length));break;case 20:{const t=!!(128&e[r]);r+=4;const n=Y.readNumber(e.subarray(r,r+2));r+=2;const a=Y.readNumber(e.subarray(r,r+2));r+=2;const s=Y.uint8ArrayToString(e.subarray(r,r+n)),o=e.subarray(r+n,r+n+a);this.rawNotations.push({name:s,humanReadable:t,value:o,critical:i}),t&&(this.notations[s]=Y.uint8ArrayToString(o));break}case 21:n("preferredHashAlgorithms",e.subarray(r,e.length));break;case 22:n("preferredCompressionAlgorithms",e.subarray(r,e.length));break;case 23:n("keyServerPreferences",e.subarray(r,e.length));break;case 24:this.preferredKeyServer=Y.uint8ArrayToString(e.subarray(r,e.length));break;case 25:this.isPrimaryUserID=0!==e[r++];break;case 26:this.policyURI=Y.uint8ArrayToString(e.subarray(r,e.length));break;case 27:n("keyFlags",e.subarray(r,e.length));break;case 28:this.signersUserID=Y.uint8ArrayToString(e.subarray(r,e.length));break;case 29:this.reasonForRevocationFlag=e[r++],this.reasonForRevocationString=Y.uint8ArrayToString(e.subarray(r,e.length));break;case 30:n("features",e.subarray(r,e.length));break;case 31:{this.signatureTargetPublicKeyAlgorithm=e[r++],this.signatureTargetHashAlgorithm=e[r++];const t=zi.getHashByteLength(this.signatureTargetHashAlgorithm);this.signatureTargetHash=Y.uint8ArrayToString(e.subarray(r,r+t));break}case 32:this.embeddedSignature=new js,this.embeddedSignature.read(e.subarray(r,e.length));break;case 33:this.issuerKeyVersion=e[r++],this.issuerFingerprint=e.subarray(r,e.length),5===this.issuerKeyVersion?this.issuerKeyID.read(this.issuerFingerprint):this.issuerKeyID.read(this.issuerFingerprint.subarray(-8));break;case 34:n.call(this,"preferredAEADAlgorithms",e.subarray(r,e.length));break;default:{const e=Error("Unknown signature subpacket type "+a+" @:"+r);if(i)throw e;Y.printDebug(e)}}else this.unhashedSubpackets.push(e.subarray(r,e.length))}readSubPackets(e,t=!0,r){const n=Y.readNumber(e.subarray(0,2));let i=2;for(;i<2+n;){const n=Ts(e.subarray(i,e.length));i+=n.offset,this.readSubPacket(e.subarray(i,i+n.len),t,r),i+=n.len}return i}toSign(e,t){const r=ie.signature;switch(e){case r.binary:return null!==t.text?Y.encodeUTF8(t.getText(!0)):t.getBytes(!0);case r.text:{const e=t.getBytes(!0);return Y.canonicalizeEOL(e)}case r.standalone:return new Uint8Array(0);case r.certGeneric:case r.certPersona:case r.certCasual:case r.certPositive:case r.certRevocation:{let e,n;if(t.userID)n=180,e=t.userID;else{if(!t.userAttribute)throw Error("Either a userID or userAttribute packet needs to be supplied for certification.");n=209,e=t.userAttribute}const i=e.write();return Y.concat([this.toSign(r.key,t),new Uint8Array([n]),Y.writeNumber(i.length,4),i])}case r.subkeyBinding:case r.subkeyRevocation:case r.keyBinding:return Y.concat([this.toSign(r.key,t),this.toSign(r.key,{key:t.bind})]);case r.key:if(void 0===t.key)throw Error("Key packet is required for this signature.");return t.key.writeForHash(this.version);case r.keyRevocation:return this.toSign(r.key,t);case r.timestamp:return new Uint8Array(0);case r.thirdParty:throw Error("Not implemented");default:throw Error("Unknown signature type.")}}calculateTrailer(e,t){let r=0;return O(N(this.signatureData),(e=>{r+=e.length}),(()=>{const n=[];return 5!==this.version||this.signatureType!==ie.signature.binary&&this.signatureType!==ie.signature.text||(t?n.push(new Uint8Array(6)):n.push(e.writeHeader())),n.push(new Uint8Array([this.version,255])),5===this.version&&n.push(new Uint8Array(4)),n.push(Y.writeNumber(r,4)),Y.concat(n)}))}toHash(e,t,r=!1){const n=this.toSign(e,t);return Y.concat([n,this.signatureData,this.calculateTrailer(t,r)])}async hash(e,t,r,n=!1){const i=ie.write(ie.hash,this.hashAlgorithm);return r||(r=this.toHash(e,t,n)),zi.hash.digest(i,r)}async verify(e,t,r,n=!1,i=ae){const a=ie.write(ie.publicKey,this.publicKeyAlgorithm),s=ie.write(ie.hash,this.hashAlgorithm);if(a!==ie.write(ie.publicKey,e.algorithm))throw Error("Public key algorithm used to sign signature does not match issuer key algorithm.");let o,c;if(this.hashed?c=await this.hashed:(o=this.toHash(t,r,n),c=await this.hash(t,r,o)),c=await W(c),this.signedHashValue[0]!==c[0]||this.signedHashValue[1]!==c[1])throw Error("Message digest did not match");if(this.params=await this.params,!await zi.signature.verify(a,s,this.params,e.publicParams,o,c))throw Error("Signature verification failed");if(i.rejectHashAlgorithms.has(s))throw Error("Insecure hash algorithm: "+ie.read(ie.hash,s).toUpperCase());if(i.rejectMessageHashAlgorithms.has(s)&&[ie.signature.binary,ie.signature.text].includes(this.signatureType))throw Error("Insecure message hash algorithm: "+ie.read(ie.hash,s).toUpperCase());if(this.rawNotations.forEach((({name:e,critical:t})=>{if(t&&i.knownNotations.indexOf(e)<0)throw Error("Unknown critical notation: "+e)})),null!==this.revocationKeyClass)throw Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.");this.verified=!0}isExpired(e=new Date){const t=Y.normalizeDate(e);if(null!==t){const e=this.getExpirationTime();return!(this.created<=t&&t<=e)}return!1}getExpirationTime(){return this.signatureNeverExpires?1/0:new Date(this.created.getTime()+1e3*this.signatureExpirationTime)}}function Ws(e,t){const r=[];return r.push(Ks(t.length+1)),r.push(new Uint8Array([e])),r.push(t),Y.concat(r)}class Hs{static get tag(){return ie.packet.onePassSignature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.issuerKeyID=null,this.flags=null}read(e){let t=0;if(this.version=e[t++],3!==this.version)throw new Fs(`Version ${this.version} of the one-pass signature packet is unsupported.`);return this.signatureType=e[t++],this.hashAlgorithm=e[t++],this.publicKeyAlgorithm=e[t++],this.issuerKeyID=new ye,this.issuerKeyID.read(e.subarray(t,t+8)),t+=8,this.flags=e[t++],this}write(){const e=new Uint8Array([3,ie.write(ie.signature,this.signatureType),ie.write(ie.hash,this.hashAlgorithm),ie.write(ie.publicKey,this.publicKeyAlgorithm)]),t=new Uint8Array([this.flags]);return Y.concatUint8Array([e,this.issuerKeyID.write(),t])}calculateTrailer(...e){return G((async()=>js.prototype.calculateTrailer.apply(await this.correspondingSig,e)))}async verify(){const e=await this.correspondingSig;if(!e||e.constructor.tag!==ie.packet.signature)throw Error("Corresponding signature packet missing");if(e.signatureType!==this.signatureType||e.hashAlgorithm!==this.hashAlgorithm||e.publicKeyAlgorithm!==this.publicKeyAlgorithm||!e.issuerKeyID.equals(this.issuerKeyID))throw Error("Corresponding signature packet does not match one-pass signature packet");return e.hashed=this.hashed,e.verify.apply(e,arguments)}}function Gs(e,t){if(!t[e]){let r;try{r=ie.read(ie.packet,e)}catch(t){throw new Fs("Unknown packet type with tag: "+e)}throw new Fs("Packet not allowed in this context: "+r)}return new t[e]}Hs.prototype.hash=js.prototype.hash,Hs.prototype.toHash=js.prototype.toHash,Hs.prototype.toSign=js.prototype.toSign;class Vs extends Array{static async fromBinary(e,t,r=ae){const n=new Vs;return await n.read(e,t,r),n}async read(e,t,r=ae){this.stream=z(e,(async(e,n)=>{const i=U(n);try{for(;;)if(await i.ready,await qs(e,(async e=>{try{const n=Gs(e.tag,t);n.packets=new Vs,n.fromStream=Y.isStream(e.packet),await n.read(e.packet,r),await i.write(n)}catch(t){r.tolerant&&t instanceof Fs&&!Ns(e.tag)||await i.abort(t),Y.printDebugError(t)}})))return await i.ready,void await i.close()}catch(e){await i.abort(e)}}));const n=B(this.stream);for(;;){const{done:e,value:t}=await n.read();if(e?this.stream=null:this.push(t),e||Ns(t.constructor.tag))break}n.releaseLock()}write(){const e=[];for(let t=0;t<this.length;t++){const r=this[t].write();if(Y.isStream(r)&&Ns(this[t].constructor.tag)){let n=[],i=0;const a=512;e.push(zs(this[t].constructor.tag)),e.push(O(r,(e=>{if(n.push(e),i+=e.length,i>=a){const e=Math.min(Math.log(i)/Math.LN2|0,30),t=2**e,r=Y.concat([Os(e)].concat(n));return n=[r.subarray(1+t)],i=n[0].length,r.subarray(0,1+t)}}),(()=>Y.concat([Ks(i)].concat(n)))))}else{if(Y.isStream(r)){let n=0;e.push(O(N(r),(e=>{n+=e.length}),(()=>Ls(this[t].constructor.tag,n))))}else e.push(Ls(this[t].constructor.tag,r.length));e.push(r)}}return Y.concat(e)}filterByTag(...e){const t=new Vs,r=e=>t=>e===t;for(let n=0;n<this.length;n++)e.some(r(this[n].constructor.tag))&&t.push(this[n]);return t}findPacket(e){return this.find((t=>t.constructor.tag===e))}indexOfTag(...e){const t=[],r=this,n=e=>t=>e===t;for(let i=0;i<this.length;i++)e.some(n(r[i].constructor.tag))&&t.push(i);return t}}const $s=Y.constructAllowedPackets([Ds,Hs,js]);class Ys{static get tag(){return ie.packet.compressedData}constructor(e=ae){this.packets=null,this.algorithm=ie.read(ie.compression,e.preferredCompressionAlgorithm),this.compressed=null,this.deflateLevel=e.deflateLevel}async read(e,t=ae){await L(e,(async e=>{this.algorithm=ie.read(ie.compression,await e.readByte()),this.compressed=e.remainder(),await this.decompress(t)}))}write(){return null===this.compressed&&this.compress(),Y.concat([new Uint8Array([ie.write(ie.compression,this.algorithm)]),this.compressed])}async decompress(e=ae){if(!ro[this.algorithm])throw Error(this.algorithm+" decompression not supported");this.packets=await Vs.fromBinary(ro[this.algorithm](this.compressed),$s,e)}compress(){if(!to[this.algorithm])throw Error(this.algorithm+" compression not supported");this.compressed=to[this.algorithm](this.packets.write(),this.deflateLevel)}}const Xs=Y.getNodeZlib();function Zs(e){return e}function Js(e,t,r={}){return function(n){return!Y.isStream(n)||c(n)?G((()=>W(n).then((t=>new Promise(((n,i)=>{e(t,r,((e,t)=>{if(e)return i(e);n(t)}))})))))):g(m(n).pipe(t(r)))}}function Qs(e,t={}){return function(r){const n=new e(t);return O(r,(e=>{if(e.length)return n.push(e,2),n.result}),(()=>{if(e===Za)return n.push([],4),n.result}))}}function eo(e){return function(t){return G((async()=>e(await W(t))))}}const to=Xs?{zip:(e,t)=>Js(Xs.deflateRaw,Xs.createDeflateRaw,{level:t})(e),zlib:(e,t)=>Js(Xs.deflate,Xs.createDeflate,{level:t})(e)}:{zip:(e,t)=>Qs(Za,{raw:!0,level:t})(e),zlib:(e,t)=>Qs(Za,{level:t})(e)},ro=Xs?{uncompressed:Zs,zip:Js(Xs.inflateRaw,Xs.createInflateRaw),zlib:Js(Xs.inflate,Xs.createInflate),bzip2:eo(Us)}:{uncompressed:Zs,zip:Qs(ys,{raw:!0}),zlib:Qs(ys),bzip2:eo(Us)},no=Y.constructAllowedPackets([Ds,Ys,Hs,js]);class io{static get tag(){return ie.packet.symEncryptedIntegrityProtectedData}constructor(){this.version=1,this.encrypted=null,this.packets=null}async read(e){await L(e,(async e=>{const t=await e.readByte();if(1!==t)throw new Fs(`Version ${t} of the SEIP packet is unsupported.`);this.encrypted=e.remainder()}))}write(){return Y.concat([new Uint8Array([1]),this.encrypted])}async encrypt(e,t,r=ae){let n=this.packets.write();c(n)&&(n=await W(n));const i=await zi.getPrefixRandom(e),a=new Uint8Array([211,20]),s=Y.concat([i,n,a]),o=await zi.hash.sha1(q(s)),u=Y.concat([s,o]);return this.encrypted=await zi.mode.cfb.encrypt(e,t,u,new Uint8Array(zi.cipher[e].blockSize),r),!0}async decrypt(e,t,r=ae){let n=N(this.encrypted);c(n)&&(n=await W(n));const i=await zi.mode.cfb.decrypt(e,t,n,new Uint8Array(zi.cipher[e].blockSize)),a=j(q(i),-20),s=j(i,0,-20),o=Promise.all([W(await zi.hash.sha1(q(s))),W(a)]).then((([e,t])=>{if(!Y.equalsUint8Array(e,t))throw Error("Modification detected.");return new Uint8Array})),u=j(s,zi.cipher[e].blockSize+2);let h=j(u,0,-2);return h=I([h,G((()=>o))]),Y.isStream(n)&&r.allowUnauthenticatedStream||(h=await W(h)),this.packets=await Vs.fromBinary(h,no,r),!0}}const ao=Y.constructAllowedPackets([Ds,Ys,Hs,js]);class so{static get tag(){return ie.packet.aeadEncryptedData}constructor(){this.version=1,this.cipherAlgo=null,this.aeadAlgorithm="eax",this.aeadAlgo=null,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}async read(e){await L(e,(async e=>{const t=await e.readByte();if(1!==t)throw new Fs(`Version ${t} of the AEAD-encrypted data packet is not supported.`);this.cipherAlgo=await e.readByte(),this.aeadAlgo=await e.readByte(),this.chunkSizeByte=await e.readByte();const r=zi.mode[ie.read(ie.aead,this.aeadAlgo)];this.iv=await e.readBytes(r.ivLength),this.encrypted=e.remainder()}))}write(){return Y.concat([new Uint8Array([this.version,this.cipherAlgo,this.aeadAlgo,this.chunkSizeByte]),this.iv,this.encrypted])}async decrypt(e,t,r=ae){this.packets=await Vs.fromBinary(await this.crypt("decrypt",t,N(this.encrypted)),ao,r)}async encrypt(e,t,r=ae){this.cipherAlgo=ie.write(ie.symmetric,e),this.aeadAlgo=ie.write(ie.aead,this.aeadAlgorithm);const n=zi.mode[ie.read(ie.aead,this.aeadAlgo)];this.iv=await zi.random.getRandomBytes(n.ivLength),this.chunkSizeByte=r.aeadChunkSizeByte;const i=this.packets.write();this.encrypted=await this.crypt("encrypt",t,i)}async crypt(e,t,r){const n=ie.read(ie.symmetric,this.cipherAlgo),i=zi.mode[ie.read(ie.aead,this.aeadAlgo)],a=await i(n,t),s="decrypt"===e?i.tagLength:0,o="encrypt"===e?i.tagLength:0,c=2**(this.chunkSizeByte+6)+s,u=new ArrayBuffer(21),h=new Uint8Array(u,0,13),f=new Uint8Array(u),l=new DataView(u),d=new Uint8Array(u,5,8);h.set([192|so.tag,this.version,this.cipherAlgo,this.aeadAlgo,this.chunkSizeByte],0);let p=0,y=Promise.resolve(),b=0,g=0;const m=this.iv;return z(r,(async(t,r)=>{if("array"!==Y.isStream(t)){const e=new x({},{highWaterMark:Y.getHardwareConcurrency()*2**(this.chunkSizeByte+6),size:e=>e.length});D(e.readable,r),r=e.writable}const n=B(t),u=U(r);try{for(;;){let t=await n.readBytes(c+s)||new Uint8Array;const r=t.subarray(t.length-s);let w,v;if(t=t.subarray(0,t.length-s),!p||t.length?(n.unshift(r),w=a[e](t,i.getNonce(m,d),h),g+=t.length-s+o):(l.setInt32(17,b),w=a[e](r,i.getNonce(m,d),f),g+=o,v=!0),b+=t.length-s,y=y.then((()=>w)).then((async e=>{await u.ready,await u.write(e),g-=e.length})).catch((e=>u.abort(e))),(v||g>u.desiredSize)&&await y,v){await u.close();break}l.setInt32(9,++p)}}catch(e){await u.abort(e)}}))}}class oo{static get tag(){return ie.packet.publicKeyEncryptedSessionKey}constructor(){this.version=3,this.publicKeyID=new ye,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted={}}read(e){if(this.version=e[0],3!==this.version)throw new Fs(`Version ${this.version} of the PKESK packet is unsupported.`);this.publicKeyID.read(e.subarray(1,e.length)),this.publicKeyAlgorithm=ie.read(ie.publicKey,e[9]);const t=ie.write(ie.publicKey,this.publicKeyAlgorithm);this.encrypted=zi.parseEncSessionKeyParams(t,e.subarray(10))}write(){const e=ie.write(ie.publicKey,this.publicKeyAlgorithm),t=[new Uint8Array([this.version]),this.publicKeyID.write(),new Uint8Array([ie.write(ie.publicKey,this.publicKeyAlgorithm)]),zi.serializeParams(e,this.encrypted)];return Y.concatUint8Array(t)}async encrypt(e){const t=Y.concatUint8Array([new Uint8Array([ie.write(ie.symmetric,this.sessionKeyAlgorithm)]),this.sessionKey,Y.writeChecksum(this.sessionKey)]),r=ie.write(ie.publicKey,this.publicKeyAlgorithm);this.encrypted=await zi.publicKeyEncrypt(r,e.publicParams,t,e.getFingerprintBytes())}async decrypt(e){const t=ie.write(ie.publicKey,this.publicKeyAlgorithm);if(t!==ie.write(ie.publicKey,e.algorithm))throw Error("Decryption error");const r=await zi.publicKeyDecrypt(t,e.publicParams,e.privateParams,this.encrypted,e.getFingerprintBytes()),n=r.subarray(r.length-2),i=r.subarray(1,r.length-2);if(!Y.equalsUint8Array(n,Y.writeChecksum(i)))throw Error("Decryption error");this.sessionKey=i,this.sessionKeyAlgorithm=ie.read(ie.symmetric,r[0])}}class co{constructor(e=ae){this.algorithm="sha256",this.type="iterated",this.c=e.s2kIterationCountByte,this.salt=null}getCount(){return 16+(15&this.c)<<6+(this.c>>4)}read(e){let t=0;switch(this.type=ie.read(ie.s2k,e[t++]),this.algorithm=e[t++],"gnu"!==this.type&&(this.algorithm=ie.read(ie.hash,this.algorithm)),this.type){case"simple":break;case"salted":this.salt=e.subarray(t,t+8),t+=8;break;case"iterated":this.salt=e.subarray(t,t+8),t+=8,this.c=e[t++];break;case"gnu":if("GNU"!==Y.uint8ArrayToString(e.subarray(t,t+3)))throw Error("Unknown s2k type.");if(t+=3,1001!==1e3+e[t++])throw Error("Unknown s2k gnu protection mode.");this.type="gnu-dummy";break;default:throw Error("Unknown s2k type.")}return t}write(){if("gnu-dummy"===this.type)return new Uint8Array([101,0,...Y.stringToUint8Array("GNU"),1]);const e=[new Uint8Array([ie.write(ie.s2k,this.type),ie.write(ie.hash,this.algorithm)])];switch(this.type){case"simple":break;case"salted":e.push(this.salt);break;case"iterated":e.push(this.salt),e.push(new Uint8Array([this.c]));break;case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}return Y.concatUint8Array(e)}async produceKey(e,t){e=Y.encodeUTF8(e);const r=ie.write(ie.hash,this.algorithm),n=[];let i=0,a=0;for(;i<t;){let t;switch(this.type){case"simple":t=Y.concatUint8Array([new Uint8Array(a),e]);break;case"salted":t=Y.concatUint8Array([new Uint8Array(a),this.salt,e]);break;case"iterated":{const r=Y.concatUint8Array([this.salt,e]);let n=r.length;const i=Math.max(this.getCount(),n);t=new Uint8Array(a+i),t.set(r,a);for(let e=a+n;e<i;e+=n,n*=2)t.copyWithin(e,a,e);break}case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}const s=await zi.hash.digest(r,t);n.push(s),i+=s.length,a++}return Y.concatUint8Array(n).subarray(0,t)}}class uo{static get tag(){return ie.packet.symEncryptedSessionKey}constructor(e=ae){this.version=e.aeadProtect?5:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm="aes256",this.aeadAlgorithm=ie.read(ie.aead,e.preferredAEADAlgorithm),this.encrypted=null,this.s2k=null,this.iv=null}read(e){let t=0;if(this.version=e[t++],4!==this.version&&5!==this.version)throw new Fs(`Version ${this.version} of the SKESK packet is unsupported.`);const r=ie.read(ie.symmetric,e[t++]);if(5===this.version&&(this.aeadAlgorithm=ie.read(ie.aead,e[t++])),this.s2k=new co,t+=this.s2k.read(e.subarray(t,e.length)),5===this.version){const r=zi.mode[this.aeadAlgorithm];this.iv=e.subarray(t,t+=r.ivLength)}5===this.version||t<e.length?(this.encrypted=e.subarray(t,e.length),this.sessionKeyEncryptionAlgorithm=r):this.sessionKeyAlgorithm=r}write(){const e=null===this.encrypted?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm;let t;return 5===this.version?t=Y.concatUint8Array([new Uint8Array([this.version,ie.write(ie.symmetric,e),ie.write(ie.aead,this.aeadAlgorithm)]),this.s2k.write(),this.iv,this.encrypted]):(t=Y.concatUint8Array([new Uint8Array([this.version,ie.write(ie.symmetric,e)]),this.s2k.write()]),null!==this.encrypted&&(t=Y.concatUint8Array([t,this.encrypted]))),t}async decrypt(e){const t=null!==this.sessionKeyEncryptionAlgorithm?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm,r=zi.cipher[t].keySize,n=await this.s2k.produceKey(e,r);if(5===this.version){const e=zi.mode[this.aeadAlgorithm],r=new Uint8Array([192|uo.tag,this.version,ie.write(ie.symmetric,this.sessionKeyEncryptionAlgorithm),ie.write(ie.aead,this.aeadAlgorithm)]),i=await e(t,n);this.sessionKey=await i.decrypt(this.encrypted,this.iv,r)}else if(null!==this.encrypted){const e=await zi.mode.cfb.decrypt(t,n,this.encrypted,new Uint8Array(zi.cipher[t].blockSize));this.sessionKeyAlgorithm=ie.read(ie.symmetric,e[0]),this.sessionKey=e.subarray(1,e.length)}else this.sessionKey=n}async encrypt(e,t=ae){const r=null!==this.sessionKeyEncryptionAlgorithm?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;this.sessionKeyEncryptionAlgorithm=r,this.s2k=new co(t),this.s2k.salt=await zi.random.getRandomBytes(8);const n=zi.cipher[r].keySize,i=await this.s2k.produceKey(e,n);if(null===this.sessionKey&&(this.sessionKey=await zi.generateSessionKey(this.sessionKeyAlgorithm)),5===this.version){const e=zi.mode[this.aeadAlgorithm];this.iv=await zi.random.getRandomBytes(e.ivLength);const t=new Uint8Array([192|uo.tag,this.version,ie.write(ie.symmetric,this.sessionKeyEncryptionAlgorithm),ie.write(ie.aead,this.aeadAlgorithm)]),n=await e(r,i);this.encrypted=await n.encrypt(this.sessionKey,this.iv,t)}else{const e=new Uint8Array([ie.write(ie.symmetric,this.sessionKeyAlgorithm)]),n=Y.concatUint8Array([e,this.sessionKey]);this.encrypted=await zi.mode.cfb.encrypt(r,i,n,new Uint8Array(zi.cipher[r].blockSize),t)}}}class ho{static get tag(){return ie.packet.publicKey}constructor(e=new Date,t=ae){this.version=t.v5Keys?5:4,this.created=Y.normalizeDate(e),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyID=null}static fromSecretKeyPacket(e){const t=new ho,{version:r,created:n,algorithm:i,publicParams:a,keyID:s,fingerprint:o}=e;return t.version=r,t.created=n,t.algorithm=i,t.publicParams=a,t.keyID=s,t.fingerprint=o,t}async read(e){let t=0;if(this.version=e[t++],4===this.version||5===this.version){this.created=Y.readDate(e.subarray(t,t+4)),t+=4,this.algorithm=ie.read(ie.publicKey,e[t++]);const r=ie.write(ie.publicKey,this.algorithm);5===this.version&&(t+=4);try{const{read:n,publicParams:i}=zi.parsePublicKeyParams(r,e.subarray(t));this.publicParams=i,t+=n}catch(e){throw Error("Error reading MPIs")}return await this.computeFingerprintAndKeyID(),t}throw new Fs(`Version ${this.version} of the key packet is unsupported.`)}write(){const e=[];e.push(new Uint8Array([this.version])),e.push(Y.writeDate(this.created));const t=ie.write(ie.publicKey,this.algorithm);e.push(new Uint8Array([t]));const r=zi.serializeParams(t,this.publicParams);return 5===this.version&&e.push(Y.writeNumber(r.length,4)),e.push(r),Y.concatUint8Array(e)}writeForHash(e){const t=this.writePublicKey();return 5===e?Y.concatUint8Array([new Uint8Array([154]),Y.writeNumber(t.length,4),t]):Y.concatUint8Array([new Uint8Array([153]),Y.writeNumber(t.length,2),t])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyID(){return this.keyID}async computeFingerprintAndKeyID(){if(await this.computeFingerprint(),this.keyID=new ye,5===this.version)this.keyID.read(this.fingerprint.subarray(0,8));else{if(4!==this.version)throw Error("Unsupported key version");this.keyID.read(this.fingerprint.subarray(12,20))}}async computeFingerprint(){const e=this.writeForHash(this.version);if(5===this.version)this.fingerprint=await zi.hash.sha256(e);else{if(4!==this.version)throw Error("Unsupported key version");this.fingerprint=await zi.hash.sha1(e)}}getFingerprintBytes(){return this.fingerprint}getFingerprint(){return Y.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(e){return this.version===e.version&&Y.equalsUint8Array(this.writePublicKey(),e.writePublicKey())}getAlgorithmInfo(){const e={};e.algorithm=this.algorithm;const t=this.publicParams.n||this.publicParams.p;return t?e.bits=Y.uint8ArrayBitLength(t):e.curve=this.publicParams.oid.getName(),e}}ho.prototype.readPublicKey=ho.prototype.read,ho.prototype.writePublicKey=ho.prototype.write;const fo=Y.constructAllowedPackets([Ds,Ys,Hs,js]);class lo{static get tag(){return ie.packet.symmetricallyEncryptedData}constructor(){this.encrypted=null,this.packets=null}read(e){this.encrypted=e}write(){return this.encrypted}async decrypt(e,t,r=ae){if(!r.allowUnauthenticatedMessages)throw Error("Message is not authenticated.");const n=await W(N(this.encrypted)),i=await zi.mode.cfb.decrypt(e,t,n.subarray(zi.cipher[e].blockSize+2),n.subarray(2,zi.cipher[e].blockSize+2));this.packets=await Vs.fromBinary(i,fo,r)}async encrypt(e,t,r=ae){const n=this.packets.write(),i=await zi.getPrefixRandom(e),a=await zi.mode.cfb.encrypt(e,t,i,new Uint8Array(zi.cipher[e].blockSize),r),s=await zi.mode.cfb.encrypt(e,t,n,a.subarray(2),r);this.encrypted=Y.concat([a,s])}}class po{static get tag(){return ie.packet.marker}read(e){return 80===e[0]&&71===e[1]&&80===e[2]}write(){return new Uint8Array([80,71,80])}}class yo extends ho{static get tag(){return ie.packet.publicSubkey}constructor(e,t){super(e,t)}static fromSecretSubkeyPacket(e){const t=new yo,{version:r,created:n,algorithm:i,publicParams:a,keyID:s,fingerprint:o}=e;return t.version=r,t.created=n,t.algorithm=i,t.publicParams=a,t.keyID=s,t.fingerprint=o,t}}class bo{static get tag(){return ie.packet.userAttribute}constructor(){this.attributes=[]}read(e){let t=0;for(;t<e.length;){const r=Ts(e.subarray(t,e.length));t+=r.offset,this.attributes.push(Y.uint8ArrayToString(e.subarray(t,t+r.len))),t+=r.len}}write(){const e=[];for(let t=0;t<this.attributes.length;t++)e.push(Ks(this.attributes[t].length)),e.push(Y.stringToUint8Array(this.attributes[t]));return Y.concatUint8Array(e)}equals(e){return!!(e&&e instanceof bo)&&this.attributes.every((function(t,r){return t===e.attributes[r]}))}}class go extends ho{static get tag(){return ie.packet.secretKey}constructor(e=new Date,t=ae){super(e,t),this.keyMaterial=null,this.isEncrypted=null,this.s2kUsage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.privateParams=null}async read(e){let t=await this.readPublicKey(e);if(this.s2kUsage=e[t++],5===this.version&&t++,255===this.s2kUsage||254===this.s2kUsage||253===this.s2kUsage){if(this.symmetric=e[t++],this.symmetric=ie.read(ie.symmetric,this.symmetric),253===this.s2kUsage&&(this.aead=e[t++],this.aead=ie.read(ie.aead,this.aead)),this.s2k=new co,t+=this.s2k.read(e.subarray(t,e.length)),"gnu-dummy"===this.s2k.type)return}else this.s2kUsage&&(this.symmetric=this.s2kUsage,this.symmetric=ie.read(ie.symmetric,this.symmetric));if(this.s2kUsage&&(this.iv=e.subarray(t,t+zi.cipher[this.symmetric].blockSize),t+=this.iv.length),5===this.version&&(t+=4),this.keyMaterial=e.subarray(t),this.isEncrypted=!!this.s2kUsage,!this.isEncrypted){const t=this.keyMaterial.subarray(0,-2);if(!Y.equalsUint8Array(Y.writeChecksum(t),this.keyMaterial.subarray(-2)))throw Error("Key checksum mismatch");try{const e=ie.write(ie.publicKey,this.algorithm),{privateParams:r}=zi.parsePrivateKeyParams(e,t,this.publicParams);this.privateParams=r}catch(e){throw Error("Error reading MPIs")}}}write(){const e=[this.writePublicKey()];e.push(new Uint8Array([this.s2kUsage]));const t=[];if(255!==this.s2kUsage&&254!==this.s2kUsage&&253!==this.s2kUsage||(t.push(ie.write(ie.symmetric,this.symmetric)),253===this.s2kUsage&&t.push(ie.write(ie.aead,this.aead)),t.push(...this.s2k.write())),this.s2kUsage&&"gnu-dummy"!==this.s2k.type&&t.push(...this.iv),5===this.version&&e.push(new Uint8Array([t.length])),e.push(new Uint8Array(t)),!this.isDummy()){if(!this.s2kUsage){const e=ie.write(ie.publicKey,this.algorithm);this.keyMaterial=zi.serializeParams(e,this.privateParams)}5===this.version&&e.push(Y.writeNumber(this.keyMaterial.length,4)),e.push(this.keyMaterial),this.s2kUsage||e.push(Y.writeChecksum(this.keyMaterial))}return Y.concatUint8Array(e)}isDecrypted(){return!1===this.isEncrypted}isDummy(){return!(!this.s2k||"gnu-dummy"!==this.s2k.type)}makeDummy(e=ae){this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),this.isEncrypted=null,this.keyMaterial=null,this.s2k=new co(e),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2kUsage=254,this.symmetric="aes256")}async encrypt(e,t=ae){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key packet is already encrypted");if(this.isDecrypted()&&!e)return void(this.s2kUsage=0);if(!e)throw Error("The key must be decrypted before removing passphrase protection.");this.s2k=new co(t),this.s2k.salt=await zi.random.getRandomBytes(8);const r=ie.write(ie.publicKey,this.algorithm),n=zi.serializeParams(r,this.privateParams);this.symmetric="aes256";const i=await mo(this.s2k,e,this.symmetric),a=zi.cipher[this.symmetric].blockSize;if(this.iv=await zi.random.getRandomBytes(a),t.aeadProtect){this.s2kUsage=253,this.aead="eax";const e=zi.mode[this.aead],t=await e(this.symmetric,i);this.keyMaterial=await t.encrypt(n,this.iv.subarray(0,e.ivLength),new Uint8Array)}else this.s2kUsage=254,this.keyMaterial=await zi.mode.cfb.encrypt(this.symmetric,i,Y.concatUint8Array([n,await zi.hash.sha1(n,t)]),this.iv,t)}async decrypt(e){if(this.isDummy())return!1;if(this.isDecrypted())throw Error("Key packet is already decrypted.");let t,r;if(254!==this.s2kUsage&&253!==this.s2kUsage)throw 255===this.s2kUsage?Error("Encrypted private key is authenticated using an insecure two-byte hash"):Error("Private key is encrypted using an insecure S2K function: unsalted MD5");if(t=await mo(this.s2k,e,this.symmetric),253===this.s2kUsage){const n=zi.mode[this.aead];try{const e=await n(this.symmetric,t);r=await e.decrypt(this.keyMaterial,this.iv.subarray(0,n.ivLength),new Uint8Array)}catch(e){if("Authentication tag mismatch"===e.message)throw Error("Incorrect key passphrase: "+e.message);throw e}}else{const e=await zi.mode.cfb.decrypt(this.symmetric,t,this.keyMaterial,this.iv);r=e.subarray(0,-20);const n=await zi.hash.sha1(r);if(!Y.equalsUint8Array(n,e.subarray(-20)))throw Error("Incorrect key passphrase")}try{const e=ie.write(ie.publicKey,this.algorithm),{privateParams:t}=zi.parsePrivateKeyParams(e,r,this.publicParams);this.privateParams=t}catch(e){throw Error("Error reading MPIs")}this.isEncrypted=!1,this.keyMaterial=null,this.s2kUsage=0}async validate(){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key is not decrypted");const e=ie.write(ie.publicKey,this.algorithm);let t;try{t=await zi.validateParams(e,this.publicParams,this.privateParams)}catch(e){t=!1}if(!t)throw Error("Key is invalid")}async generate(e,t){const r=ie.write(ie.publicKey,this.algorithm),{privateParams:n,publicParams:i}=await zi.generateParams(r,e,t);this.privateParams=n,this.publicParams=i,this.isEncrypted=!1}clearPrivateParams(){this.isDummy()||(Object.keys(this.privateParams).forEach((e=>{this.privateParams[e].fill(0),delete this.privateParams[e]})),this.privateParams=null,this.isEncrypted=!0)}}async function mo(e,t,r){return e.produceKey(t,zi.cipher[r].keySize)}var wo=nt((function(e){!function(t){function r(e){function t(){return Ae<Se}function r(){return Ae}function i(e){Ae=e}function a(){Ae=0,Se=ke.length}function s(e,t){return{name:e,tokens:t||"",semantic:t||"",children:[]}}function o(e,t){var r;return null===t?null:((r=s(e)).tokens=t.tokens,r.semantic=t.semantic,r.children.push(t),r)}function c(e,t){return null!==t&&(e.tokens+=t.tokens,e.semantic+=t.semantic),e.children.push(t),e}function u(e){var r;return t()&&e(r=ke[Ae])?(Ae+=1,s("token",r)):null}function h(e){return function(){return o("literal",u((function(t){return t===e})))}}function f(){var e=arguments;return function(){var t,n,a,o;for(o=r(),n=s("and"),t=0;t<e.length;t+=1){if(null===(a=e[t]()))return i(o),null;c(n,a)}return n}}function l(){var e=arguments;return function(){var t,n,a;for(a=r(),t=0;t<e.length;t+=1){if(null!==(n=e[t]()))return n;i(a)}return null}}function d(e){return function(){var t,n;return n=r(),null!==(t=e())?t:(i(n),s("opt"))}}function p(e){return function(){var t=e();return null!==t&&(t.semantic=""),t}}function y(e){return function(){var t=e();return null!==t&&t.semantic.length>0&&(t.semantic=" "),t}}function b(e,t){return function(){var n,a,o,u,h;for(u=r(),n=s("star"),o=0,h=void 0===t?0:t;null!==(a=e());)o+=1,c(n,a);return o>=h?n:(i(u),null)}}function g(e){return e.charCodeAt(0)>=128}function m(){return o("cr",h("\r")())}function w(){return o("crlf",f(m,k)())}function v(){return o("dquote",h('"')())}function _(){return o("htab",h("\t")())}function k(){return o("lf",h("\n")())}function A(){return o("sp",h(" ")())}function S(){return o("vchar",u((function(t){var r=t.charCodeAt(0),n=33<=r&&r<=126;return e.rfc6532&&(n=n||g(t)),n})))}function E(){return o("wsp",l(A,_)())}function x(){var e=o("quoted-pair",l(f(h("\\"),l(S,E)),ne)());return null===e?null:(e.semantic=e.semantic[1],e)}function P(){return o("fws",l(ae,f(d(f(b(E),p(w))),b(E,1)))())}function M(){return o("ctext",l((function(){return u((function(t){var r=t.charCodeAt(0),n=33<=r&&r<=39||42<=r&&r<=91||93<=r&&r<=126;return e.rfc6532&&(n=n||g(t)),n}))}),te)())}function R(){return o("ccontent",l(M,x,C)())}function C(){return o("comment",f(h("("),b(f(d(P),R)),d(P),h(")"))())}function I(){return o("cfws",l(f(b(f(d(P),C),1),d(P)),P)())}function B(){return o("atext",u((function(t){var r="a"<=t&&t<="z"||"A"<=t&&t<="Z"||"0"<=t&&t<="9"||["!","#","$","%","&","'","*","+","-","/","=","?","^","_","`","{","|","}","~"].indexOf(t)>=0;return e.rfc6532&&(r=r||g(t)),r})))}function U(){return o("atom",f(y(d(I)),b(B,1),y(d(I)))())}function D(){var e,t;return null===(e=o("dot-atom-text",b(B,1)()))||null!==(t=b(f(h("."),b(B,1)))())&&c(e,t),e}function T(){return o("dot-atom",f(p(d(I)),D,p(d(I)))())}function K(){return o("qtext",l((function(){return u((function(t){var r=t.charCodeAt(0),n=33===r||35<=r&&r<=91||93<=r&&r<=126;return e.rfc6532&&(n=n||g(t)),n}))}),re)())}function O(){return o("qcontent",l(K,x)())}function z(){return o("quoted-string",f(p(d(I)),p(v),b(f(d(y(P)),O)),d(p(P)),p(v),p(d(I)))())}function L(){return o("word",l(U,z)())}function N(){return o("address",l(q,W)())}function q(){return o("mailbox",l(F,Q)())}function F(){return o("name-addr",f(d(H),j)())}function j(){return o("angle-addr",l(f(p(d(I)),h("<"),Q,h(">"),p(d(I))),se)())}function W(){return o("group",f(H,h(":"),d($),h(";"),p(d(I)))())}function H(){return o("display-name",(null!==(e=o("phrase",l(ie,b(L,1))()))&&(e.semantic=function(e){return e.replace(/([ \t]|\r\n)+/g," ").replace(/^\s*/,"").replace(/\s*$/,"")}(e.semantic)),e));var e}function G(){return o("mailbox-list",l(f(q,b(f(h(","),q))),ue)())}function V(){return o("address-list",l(f(N,b(f(h(","),N))),he)())}function $(){return o("group-list",l(G,p(I),fe)())}function Y(){return o("local-part",l(le,T,z)())}function X(){return o("dtext",l((function(){return u((function(t){var r=t.charCodeAt(0),n=33<=r&&r<=90||94<=r&&r<=126;return e.rfc6532&&(n=n||g(t)),n}))}),pe)())}function Z(){return o("domain-literal",f(p(d(I)),h("["),b(f(d(P),X)),d(P),h("]"),p(d(I)))())}function J(){return o("domain",(t=l(de,T,Z)(),e.rejectTLD&&t&&t.semantic&&t.semantic.indexOf(".")<0?null:(t&&(t.semantic=t.semantic.replace(/\s+/g,"")),t)));var t}function Q(){return o("addr-spec",f(Y,h("@"),J)())}function ee(){return e.strict?null:o("obs-NO-WS-CTL",u((function(e){var t=e.charCodeAt(0);return 1<=t&&t<=8||11===t||12===t||14<=t&&t<=31||127===t})))}function te(){return e.strict?null:o("obs-ctext",ee())}function re(){return e.strict?null:o("obs-qtext",ee())}function ne(){return e.strict?null:o("obs-qp",f(h("\\"),l(h("\0"),ee,k,m))())}function ie(){return e.strict?null:e.atInDisplayName?o("obs-phrase",f(L,b(l(L,h("."),h("@"),y(I))))()):o("obs-phrase",f(L,b(l(L,h("."),y(I))))())}function ae(){return e.strict?null:o("obs-FWS",b(f(p(d(w)),E),1)())}function se(){return e.strict?null:o("obs-angle-addr",f(p(d(I)),h("<"),oe,Q,h(">"),p(d(I)))())}function oe(){return e.strict?null:o("obs-route",f(ce,h(":"))())}function ce(){return e.strict?null:o("obs-domain-list",f(b(l(p(I),h(","))),h("@"),J,b(f(h(","),p(d(I)),d(f(h("@"),J)))))())}function ue(){return e.strict?null:o("obs-mbox-list",f(b(f(p(d(I)),h(","))),q,b(f(h(","),d(f(q,p(I))))))())}function he(){return e.strict?null:o("obs-addr-list",f(b(f(p(d(I)),h(","))),N,b(f(h(","),d(f(N,p(I))))))())}function fe(){return e.strict?null:o("obs-group-list",f(b(f(p(d(I)),h(",")),1),p(d(I)))())}function le(){return e.strict?null:o("obs-local-part",f(L,b(f(h("."),L)))())}function de(){return e.strict?null:o("obs-domain",f(U,b(f(h("."),U)))())}function pe(){return e.strict?null:o("obs-dtext",l(ee,x)())}function ye(e,t){var r,n,i;if(null==t)return null;for(n=[t];n.length>0;){if((i=n.pop()).name===e)return i;for(r=i.children.length-1;r>=0;r-=1)n.push(i.children[r])}return null}function be(e,t){var r,n,i,a,s;if(null==t)return null;for(n=[t],a=[],s={},r=0;r<e.length;r+=1)s[e[r]]=!0;for(;n.length>0;)if((i=n.pop()).name in s)a.push(i);else for(r=i.children.length-1;r>=0;r-=1)n.push(i.children[r]);return a}function ge(t){var r,n,i,a,s;if(null===t)return null;for(r=[],n=be(["group","mailbox"],t),i=0;i<n.length;i+=1)"group"===(a=n[i]).name?r.push(me(a)):"mailbox"===a.name&&r.push(we(a));return s={ast:t,addresses:r},e.simple&&(s=function(e){var t;if(e&&e.addresses)for(t=0;t<e.addresses.length;t+=1)delete e.addresses[t].node;return e}(s)),e.oneResult?function(t){return t?!e.partial&&t.addresses.length>1?null:t.addresses&&t.addresses[0]:null}(s):e.simple?s&&s.addresses:s}function me(e){var t,r=ye("display-name",e),n=[],i=be(["mailbox"],e);for(t=0;t<i.length;t+=1)n.push(we(i[t]));return{node:e,parts:{name:r},type:e.name,name:ve(r),addresses:n}}function we(e){var t=ye("display-name",e),r=ye("addr-spec",e),n=function(e,t){var r,n,i,a;if(null==t)return null;for(n=[t],a=[];n.length>0;)for("cfws"===(i=n.pop()).name&&a.push(i),r=i.children.length-1;r>=0;r-=1)n.push(i.children[r]);return a}(0,e),i=be(["comment"],e),a=ye("local-part",r),s=ye("domain",r);return{node:e,parts:{name:t,address:r,local:a,domain:s,comments:n},type:e.name,name:ve(t),address:ve(r),local:ve(a),domain:ve(s),comments:_e(i),groupName:ve(e.groupName)}}function ve(e){return null!=e?e.semantic:null}function _e(e){var t="";if(e)for(var r=0;r<e.length;r+=1)t+=ve(e[r]);return t}var ke,Ae,Se,Ee,xe;if(null===(e=n(e,{})))return null;if(ke=e.input,xe={address:N,"address-list":V,"angle-addr":j,from:function(){return o("from",l(G,V)())},group:W,mailbox:q,"mailbox-list":G,"reply-to":function(){return o("reply-to",V())},sender:function(){return o("sender",l(q,N)())}}[e.startAt]||V,!e.strict){if(a(),e.strict=!0,Ee=xe(ke),e.partial||!t())return ge(Ee);e.strict=!1}return a(),Ee=xe(ke),!e.partial&&t()?null:ge(Ee)}function n(e,t){function r(e){return"[object String]"===Object.prototype.toString.call(e)}function n(e){return null==e}var i,a;if(r(e))e={input:e};else if(!function(e){return e===Object(e)}(e))return null;if(!r(e.input))return null;if(!t)return null;for(a in i={oneResult:!1,partial:!1,rejectTLD:!1,rfc6532:!1,simple:!1,startAt:"address-list",strict:!1,atInDisplayName:!1})n(e[a])&&(e[a]=n(t[a])?i[a]:t[a]);return e}r.parseOneAddress=function(e){return r(n(e,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"address-list"}))},r.parseAddressList=function(e){return r(n(e,{rfc6532:!0,simple:!0,startAt:"address-list"}))},r.parseFrom=function(e){return r(n(e,{rfc6532:!0,simple:!0,startAt:"from"}))},r.parseSender=function(e){return r(n(e,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"sender"}))},r.parseReplyTo=function(e){return r(n(e,{rfc6532:!0,simple:!0,startAt:"reply-to"}))},e.exports=r}()}));class vo{static get tag(){return ie.packet.userID}constructor(){this.userID="",this.name="",this.email="",this.comment=""}static fromObject(e){if(Y.isString(e)||e.name&&!Y.isString(e.name)||e.email&&!Y.isEmailAddress(e.email)||e.comment&&!Y.isString(e.comment))throw Error("Invalid user ID format");const t=new vo;Object.assign(t,e);const r=[];return t.name&&r.push(t.name),t.comment&&r.push(`(${t.comment})`),t.email&&r.push(`<${t.email}>`),t.userID=r.join(" "),t}read(e,t=ae){const r=Y.decodeUTF8(e);if(r.length>t.maxUserIDLength)throw Error("User ID string is too long");try{const{name:e,address:t,comments:n}=wo.parseOneAddress({input:r,atInDisplayName:!0});this.comment=n.replace(/^\(|\)$/g,""),this.name=e,this.email=t}catch(e){}this.userID=r}write(){return Y.encodeUTF8(this.userID)}equals(e){return e&&e.userID===this.userID}}class _o extends go{static get tag(){return ie.packet.secretSubkey}constructor(e=new Date,t=ae){super(e,t)}}class ko{static get tag(){return ie.packet.trust}read(){throw new Fs("Trust packets are not supported")}write(){throw new Fs("Trust packets are not supported")}}const Ao=Y.constructAllowedPackets([js]);class So{constructor(e){this.packets=e||new Vs}write(){return this.packets.write()}armor(e=ae){return pe(ie.armor.signature,this.write(),void 0,void 0,void 0,e)}}async function Eo({armoredSignature:e,binarySignature:t,config:r}){r={...ae,...r};let n=e||t;if(!n)throw Error("readSignature: must pass options object containing `armoredSignature` or `binarySignature`");if(e&&!Y.isString(e))throw Error("readSignature: options.armoredSignature must be a string");if(t&&!Y.isUint8Array(t))throw Error("readSignature: options.binarySignature must be a Uint8Array");if(e){const{type:e,data:t}=await de(n,r);if(e!==ie.armor.signature)throw Error("Armored text not of type signature");n=t}const i=await Vs.fromBinary(n,Ao,r);return new So(i)}async function xo(e,t){const r=new _o(e.date,t);return r.packets=null,r.algorithm=ie.read(ie.publicKey,e.algorithm),await r.generate(e.rsaBits,e.curve),await r.computeFingerprintAndKeyID(),r}async function Po(e,t){const r=new go(e.date,t);return r.packets=null,r.algorithm=ie.read(ie.publicKey,e.algorithm),await r.generate(e.rsaBits,e.curve,e.config),await r.computeFingerprintAndKeyID(),r}async function Mo(e,t,r,n,i=new Date,a){let s,o;for(let c=e.length-1;c>=0;c--)try{s&&!(e[c].created>=s.created)||e[c].isExpired(i)||(e[c].verified||await e[c].verify(t,r,n,void 0,a),s=e[c])}catch(e){o=e}if(!s)throw Y.wrapError(`Could not find valid ${ie.read(ie.signature,r)} signature in key ${t.getKeyID().toHex()}`.replace("certGeneric ","self-").replace(/([a-z])([A-Z])/g,((e,t,r)=>t+" "+r.toLowerCase())),o);return s}function Ro(e,t,r=new Date){const n=Y.normalizeDate(r);if(null!==n){const i=Ko(e,t);return!(e.created<=n&&n<=i)||t&&t.isExpired(r)}return!1}async function Co(e,t,r,n){const i={};i.key=t,i.bind=e;const a=new js(r.date);return a.signatureType=ie.signature.subkeyBinding,a.publicKeyAlgorithm=t.algorithm,a.hashAlgorithm=await Io(null,e,void 0,void 0,n),r.sign?(a.keyFlags=[ie.keyFlags.signData],a.embeddedSignature=await Uo(i,null,e,{signatureType:ie.signature.keyBinding},r.date,void 0,void 0,n)):a.keyFlags=[ie.keyFlags.encryptCommunication|ie.keyFlags.encryptStorage],r.keyExpirationTime>0&&(a.keyExpirationTime=r.keyExpirationTime,a.keyNeverExpires=!1),await a.sign(t,i),a}async function Io(e,t,r=new Date,n={},i){let a=i.preferredHashAlgorithm,s=a;if(e){const t=await e.getPrimaryUser(r,n,i);t.selfCertification.preferredHashAlgorithms&&([s]=t.selfCertification.preferredHashAlgorithms,a=zi.hash.getHashByteLength(a)<=zi.hash.getHashByteLength(s)?s:a)}switch(Object.getPrototypeOf(t)){case go.prototype:case ho.prototype:case _o.prototype:case yo.prototype:switch(t.algorithm){case"ecdh":case"ecdsa":case"eddsa":s=zi.publicKey.elliptic.getPreferredHashAlgo(t.publicParams.oid)}}return zi.hash.getHashByteLength(a)<=zi.hash.getHashByteLength(s)?s:a}async function Bo(e,t=[],r=new Date,n=[],i=ae){const a={symmetric:ie.symmetric.aes128,aead:ie.aead.eax,compression:ie.compression.uncompressed}[e],s={symmetric:i.preferredSymmetricAlgorithm,aead:i.preferredAEADAlgorithm,compression:i.preferredCompressionAlgorithm}[e],o={symmetric:"preferredSymmetricAlgorithms",aead:"preferredAEADAlgorithms",compression:"preferredCompressionAlgorithms"}[e];return(await Promise.all(t.map((async function(e,t){const a=(await e.getPrimaryUser(r,n[t],i)).selfCertification[o];return!!a&&a.indexOf(s)>=0})))).every(Boolean)?s:a}async function Uo(e,t,r,n,i,a,s=!1,o){if(r.isDummy())throw Error("Cannot sign with a gnu-dummy key.");if(!r.isDecrypted())throw Error("Private key is not decrypted.");const c=new js(i);return Object.assign(c,n),c.publicKeyAlgorithm=r.algorithm,c.hashAlgorithm=await Io(t,r,i,a,o),await c.sign(r,e,s),c}async function Do(e,t,r,n){(e=e[r])&&(t[r].length?await Promise.all(e.map((async function(e){e.isExpired()||n&&!await n(e)||t[r].some((function(t){return Y.equalsUint8Array(t.writeParams(),e.writeParams())}))||t[r].push(e)}))):t[r]=e)}async function To(e,t,r,n,i,a,s=new Date,o){a=a||e;const c=Y.normalizeDate(s),u=[];return await Promise.all(n.map((async function(e){try{i&&!e.issuerKeyID.equals(i.issuerKeyID)||o.revocationsExpire&&e.isExpired(c)||(e.verified||await e.verify(a,t,r,void 0,o),u.push(e.issuerKeyID))}catch(e){}}))),i?(i.revoked=!!u.some((e=>e.equals(i.issuerKeyID)))||i.revoked||!1,i.revoked):u.length>0}function Ko(e,t){let r;return!1===t.keyNeverExpires&&(r=e.created.getTime()+1e3*t.keyExpirationTime),r?new Date(r):1/0}function Oo(e,t={}){switch(e.type=e.type||t.type,e.curve=e.curve||t.curve,e.rsaBits=e.rsaBits||t.rsaBits,e.keyExpirationTime=void 0!==e.keyExpirationTime?e.keyExpirationTime:t.keyExpirationTime,e.passphrase=Y.isString(e.passphrase)?e.passphrase:t.passphrase,e.date=e.date||t.date,e.sign=e.sign||!1,e.type){case"ecc":try{e.curve=ie.write(ie.curve,e.curve)}catch(e){throw Error("Invalid curve")}e.curve!==ie.curve.ed25519&&e.curve!==ie.curve.curve25519||(e.curve=e.sign?ie.curve.ed25519:ie.curve.curve25519),e.sign?e.algorithm=e.curve===ie.curve.ed25519?ie.publicKey.eddsa:ie.publicKey.ecdsa:e.algorithm=ie.publicKey.ecdh;break;case"rsa":e.algorithm=ie.publicKey.rsaEncryptSign;break;default:throw Error("Unsupported key type "+e.type)}return e}function zo(e,t){if(!t.verified||!1!==t.revoked)throw Error("Signature not verified");const r=ie.write(ie.publicKey,e.algorithm);return r!==ie.publicKey.rsaEncrypt&&r!==ie.publicKey.elgamal&&r!==ie.publicKey.ecdh&&(!t.keyFlags||0!=(t.keyFlags[0]&ie.keyFlags.signData))}function Lo(e,t){if(!t.verified||!1!==t.revoked)throw Error("Signature not verified");const r=ie.write(ie.publicKey,e.algorithm);return r!==ie.publicKey.dsa&&r!==ie.publicKey.rsaSign&&r!==ie.publicKey.ecdsa&&r!==ie.publicKey.eddsa&&(!t.keyFlags||0!=(t.keyFlags[0]&ie.keyFlags.encryptCommunication)||0!=(t.keyFlags[0]&ie.keyFlags.encryptStorage))}function No(e,t){if(!e.verified)throw Error("Signature not verified");return!!t.allowInsecureDecryptionWithSigningKeys||!e.keyFlags||0!=(e.keyFlags[0]&ie.keyFlags.encryptCommunication)||0!=(e.keyFlags[0]&ie.keyFlags.encryptStorage)}function qo(e,t){const r=ie.write(ie.publicKey,e.algorithm);if(t.rejectPublicKeyAlgorithms.has(r))throw Error(e.algorithm+" keys are considered too weak.");if(new Set([ie.publicKey.rsaEncryptSign,ie.publicKey.rsaSign,ie.publicKey.rsaEncrypt]).has(r)&&Y.uint8ArrayBitLength(e.publicParams.n)<t.minRSABits)throw Error(`RSA keys shorter than ${t.minRSABits} bits are considered too weak.`)}class Fo{constructor(e){this.userID=e.constructor.tag===ie.packet.userID?e:null,this.userAttribute=e.constructor.tag===ie.packet.userAttribute?e:null,this.selfCertifications=[],this.otherCertifications=[],this.revocationSignatures=[]}toPacketList(){const e=new Vs;return e.push(this.userID||this.userAttribute),e.push(...this.revocationSignatures),e.push(...this.selfCertifications),e.push(...this.otherCertifications),e}async sign(e,t,r){const n={userID:this.userID,userAttribute:this.userAttribute,key:e},i=new Fo(n.userID||n.userAttribute);return i.otherCertifications=await Promise.all(t.map((async function(t){if(t.isPublic())throw Error("Need private key for signing");if(t.hasSameFingerprintAs(e))throw Error("Not implemented for self signing");const i=await t.getSigningKey(void 0,void 0,void 0,r);return Uo(n,t,i.keyPacket,{signatureType:ie.signature.certGeneric,keyFlags:[ie.keyFlags.certifyKeys|ie.keyFlags.signData]},void 0,void 0,void 0,r)}))),await i.update(this,e),i}async isRevoked(e,t,r,n=new Date,i){return To(e,ie.signature.certRevocation,{key:e,userID:this.userID,userAttribute:this.userAttribute},this.revocationSignatures,t,r,n,i)}async verifyCertificate(e,t,r,n=new Date,i){const a=this,s=t.issuerKeyID,o={userID:this.userID,userAttribute:this.userAttribute,key:e};return(await Promise.all(r.map((async function(r){if(!r.getKeyIDs().some((e=>e.equals(s))))return null;const c=await r.getSigningKey(s,n,void 0,i);if(t.revoked||await a.isRevoked(e,t,c.keyPacket,n,i))throw Error("User certificate is revoked");try{t.verified||await t.verify(c.keyPacket,ie.signature.certGeneric,o,void 0,i)}catch(e){throw Y.wrapError("User certificate is invalid",e)}if(t.isExpired(n))throw Error("User certificate is expired");return!0})))).find((e=>null!==e))||null}async verifyAllCertifications(e,t,r=new Date,n){const i=this,a=this.selfCertifications.concat(this.otherCertifications);return Promise.all(a.map((async function(a){return{keyID:a.issuerKeyID,valid:await i.verifyCertificate(e,a,t,r,n).catch((()=>!1))}})))}async verify(e,t=new Date,r){if(!this.selfCertifications.length)throw Error("No self-certifications");const n=this,i={userID:this.userID,userAttribute:this.userAttribute,key:e};let a;for(let s=this.selfCertifications.length-1;s>=0;s--)try{const a=this.selfCertifications[s];if(a.revoked||await n.isRevoked(e,a,void 0,t,r))throw Error("Self-certification is revoked");try{a.verified||await a.verify(e,ie.signature.certGeneric,i,void 0,r)}catch(e){throw Y.wrapError("Self-certification is invalid",e)}if(a.isExpired(t))throw Error("Self-certification is expired");return!0}catch(e){a=e}throw a}async update(e,t,r){const n={userID:this.userID,userAttribute:this.userAttribute,key:t};await Do(e,this,"selfCertifications",(async function(e){try{return e.verified||await e.verify(t,ie.signature.certGeneric,n,void 0,r),!0}catch(e){return!1}})),await Do(e,this,"otherCertifications"),await Do(e,this,"revocationSignatures",(function(e){return To(t,ie.signature.certRevocation,n,[e],void 0,void 0,void 0,r)}))}}class jo{constructor(e){this.keyPacket=e,this.bindingSignatures=[],this.revocationSignatures=[]}toPacketList(){const e=new Vs;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.bindingSignatures),e}async isRevoked(e,t,r,n=new Date,i=ae){return To(e,ie.signature.subkeyRevocation,{key:e,bind:this.keyPacket},this.revocationSignatures,t,r,n,i)}async verify(e,t=new Date,r=ae){const n={key:e,bind:this.keyPacket},i=await Mo(this.bindingSignatures,e,ie.signature.subkeyBinding,n,t,r);if(i.revoked||await this.isRevoked(e,i,null,t,r))throw Error("Subkey is revoked");if(Ro(this.keyPacket,i,t))throw Error("Subkey is expired");return i}async getExpirationTime(e,t=new Date,r=ae){const n={key:e,bind:this.keyPacket};let i;try{i=await Mo(this.bindingSignatures,e,ie.signature.subkeyBinding,n,t,r)}catch(e){return null}const a=Ko(this.keyPacket,i),s=i.getExpirationTime();return a<s?a:s}async update(e,t,r=ae){if(!this.hasSameFingerprintAs(e))throw Error("SubKey update method: fingerprints of subkeys not equal");this.keyPacket.constructor.tag===ie.packet.publicSubkey&&e.keyPacket.constructor.tag===ie.packet.secretSubkey&&(this.keyPacket=e.keyPacket);const n=this,i={key:t,bind:n.keyPacket};await Do(e,this,"bindingSignatures",(async function(e){for(let t=0;t<n.bindingSignatures.length;t++)if(n.bindingSignatures[t].issuerKeyID.equals(e.issuerKeyID))return e.created>n.bindingSignatures[t].created&&(n.bindingSignatures[t]=e),!1;try{return e.verified||await e.verify(t,ie.signature.subkeyBinding,i,void 0,r),!0}catch(e){return!1}})),await Do(e,this,"revocationSignatures",(function(e){return To(t,ie.signature.subkeyRevocation,i,[e],void 0,void 0,void 0,r)}))}async revoke(e,{flag:t=ie.reasonForRevocation.noReason,string:r=""}={},n=new Date,i=ae){const a={key:e,bind:this.keyPacket},s=new jo(this.keyPacket);return s.revocationSignatures.push(await Uo(a,null,e,{signatureType:ie.signature.subkeyRevocation,reasonForRevocationFlag:ie.write(ie.reasonForRevocation,t),reasonForRevocationString:r},n,void 0,void 0,i)),await s.update(this,e),s}hasSameFingerprintAs(e){return this.keyPacket.hasSameFingerprintAs(e.keyPacket||e)}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach((e=>{jo.prototype[e]=function(){return this.keyPacket[e]()}}));const Wo=Y.constructAllowedPackets([js]);class Ho{get primaryKey(){return this.keyPacket}packetListToStructure(e,t=new Set){let r,n,i;for(const a of e){const e=a.constructor.tag;if(t.has(e))throw Error("Unexpected packet type: "+e);switch(e){case ie.packet.publicKey:case ie.packet.secretKey:if(this.keyPacket)throw Error("Key block contains multiple keys");if(this.keyPacket=a,n=this.getKeyID(),!n)throw Error("Missing Key ID");break;case ie.packet.userID:case ie.packet.userAttribute:r=new Fo(a),this.users.push(r);break;case ie.packet.publicSubkey:case ie.packet.secretSubkey:r=null,i=new jo(a),this.subKeys.push(i);break;case ie.packet.signature:switch(a.signatureType){case ie.signature.certGeneric:case ie.signature.certPersona:case ie.signature.certCasual:case ie.signature.certPositive:if(!r){Y.printDebug("Dropping certification signatures without preceding user packet");continue}a.issuerKeyID.equals(n)?r.selfCertifications.push(a):r.otherCertifications.push(a);break;case ie.signature.certRevocation:r?r.revocationSignatures.push(a):this.directSignatures.push(a);break;case ie.signature.key:this.directSignatures.push(a);break;case ie.signature.subkeyBinding:if(!i){Y.printDebug("Dropping subkey binding signature without preceding subkey packet");continue}i.bindingSignatures.push(a);break;case ie.signature.keyRevocation:this.revocationSignatures.push(a);break;case ie.signature.subkeyRevocation:if(!i){Y.printDebug("Dropping subkey revocation signature without preceding subkey packet");continue}i.revocationSignatures.push(a)}}}}toPacketList(){const e=new Vs;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.directSignatures),this.users.map((t=>e.push(...t.toPacketList()))),this.subKeys.map((t=>e.push(...t.toPacketList()))),e}clone(e=!1){const t=new this.constructor(this.toPacketList());return e&&t.getKeys().forEach((e=>{if(e.keyPacket=Object.create(Object.getPrototypeOf(e.keyPacket),Object.getOwnPropertyDescriptors(e.keyPacket)),!e.keyPacket.isDecrypted())return;const t={};Object.keys(e.keyPacket.privateParams).forEach((r=>{t[r]=new Uint8Array(e.keyPacket.privateParams[r])})),e.keyPacket.privateParams=t})),t}getSubkeys(e=null){return this.subKeys.filter((t=>!e||t.getKeyID().equals(e,!0)))}getKeys(e=null){const t=[];return e&&!this.getKeyID().equals(e,!0)||t.push(this),t.concat(this.getSubkeys(e))}getKeyIDs(){return this.getKeys().map((e=>e.getKeyID()))}getUserIDs(){return this.users.map((e=>e.userID?e.userID.userID:null)).filter((e=>null!==e))}write(){return this.toPacketList().write()}async getSigningKey(e=null,t=new Date,r={},n=ae){await this.verifyPrimaryKey(t,r,n);const i=this.keyPacket,a=this.subKeys.slice().sort(((e,t)=>t.keyPacket.created-e.keyPacket.created));let s;for(const r of a)if(!e||r.getKeyID().equals(e))try{await r.verify(i,t,n);const e={key:i,bind:r.keyPacket},a=await Mo(r.bindingSignatures,i,ie.signature.subkeyBinding,e,t,n);if(!zo(r.keyPacket,a))continue;if(!a.embeddedSignature)throw Error("Missing embedded signature");return await Mo([a.embeddedSignature],r.keyPacket,ie.signature.keyBinding,e,t,n),qo(r.keyPacket,n),r}catch(e){s=e}try{const a=await this.getPrimaryUser(t,r,n);if((!e||i.getKeyID().equals(e))&&zo(i,a.selfCertification))return qo(i,n),this}catch(e){s=e}throw Y.wrapError("Could not find valid signing key packet in key "+this.getKeyID().toHex(),s)}async getEncryptionKey(e,t=new Date,r={},n=ae){await this.verifyPrimaryKey(t,r,n);const i=this.keyPacket,a=this.subKeys.slice().sort(((e,t)=>t.keyPacket.created-e.keyPacket.created));let s;for(const r of a)if(!e||r.getKeyID().equals(e))try{await r.verify(i,t,n);const e={key:i,bind:r.keyPacket},a=await Mo(r.bindingSignatures,i,ie.signature.subkeyBinding,e,t,n);if(Lo(r.keyPacket,a))return qo(r.keyPacket,n),r}catch(e){s=e}try{const a=await this.getPrimaryUser(t,r,n);if((!e||i.getKeyID().equals(e))&&Lo(i,a.selfCertification))return qo(i,n),this}catch(e){s=e}throw Y.wrapError("Could not find valid encryption key packet in key "+this.getKeyID().toHex(),s)}async isRevoked(e,t,r=new Date,n=ae){return To(this.keyPacket,ie.signature.keyRevocation,{key:this.keyPacket},this.revocationSignatures,e,t,r,n)}async verifyPrimaryKey(e=new Date,t={},r=ae){const n=this.keyPacket;if(await this.isRevoked(null,null,e,r))throw Error("Primary key is revoked");const{selfCertification:i}=await this.getPrimaryUser(e,t,r);if(Ro(n,i,e))throw Error("Primary key is expired")}async getExpirationTime(e,t,r,n=ae){const i=(await this.getPrimaryUser(null,r,n)).selfCertification,a=Ko(this.keyPacket,i),s=i.getExpirationTime();let o=a<s?a:s;if("encrypt"===e||"encrypt_sign"===e){const e=await this.getEncryptionKey(t,o,r,{...n,rejectPublicKeyAlgorithms:new Set,minRSABits:0}).catch((()=>{}))||await this.getEncryptionKey(t,null,r,{...n,rejectPublicKeyAlgorithms:new Set,minRSABits:0}).catch((()=>{}));if(!e)return null;const i=await e.getExpirationTime(this.keyPacket,void 0,n);i<o&&(o=i)}if("sign"===e||"encrypt_sign"===e){const e=await this.getSigningKey(t,o,r,{...n,rejectPublicKeyAlgorithms:new Set,minRSABits:0}).catch((()=>{}))||await this.getSigningKey(t,null,r,{...n,rejectPublicKeyAlgorithms:new Set,minRSABits:0}).catch((()=>{}));if(!e)return null;const i=await e.getExpirationTime(this.keyPacket,void 0,n);i<o&&(o=i)}return o}async getPrimaryUser(e=new Date,t={},r=ae){const n=this.keyPacket,i=[];let a;for(let s=0;s<this.users.length;s++)try{const a=this.users[s];if(!a.userID)continue;if(void 0!==t.name&&a.userID.name!==t.name||void 0!==t.email&&a.userID.email!==t.email||void 0!==t.comment&&a.userID.comment!==t.comment)throw Error("Could not find user that matches that user ID");const o={userID:a.userID,key:n},c=await Mo(a.selfCertifications,n,ie.signature.certGeneric,o,e,r);i.push({index:s,user:a,selfCertification:c})}catch(e){a=e}if(!i.length)throw a||Error("Could not find primary user");await Promise.all(i.map((async function(t){return t.user.revoked||t.user.isRevoked(n,t.selfCertification,null,e,r)})));const s=i.sort((function(e,t){const r=e.selfCertification,n=t.selfCertification;return n.revoked-r.revoked||r.isPrimaryUserID-n.isPrimaryUserID||r.created-n.created})).pop(),{user:o,selfCertification:c}=s;if(c.revoked||await o.isRevoked(n,c,null,e,r))throw Error("Primary user is revoked");return s}async update(e,t=ae){if(!this.hasSameFingerprintAs(e))throw Error("Primary key fingerprints must be equal to update the key");if(this.isPublic()&&e.isPrivate()){if(this.subKeys.length!==e.subKeys.length||!this.subKeys.every((t=>e.subKeys.some((e=>t.hasSameFingerprintAs(e))))))throw Error("Cannot update public key with private key if subkeys mismatch");return e.update(this,t)}const r=this.clone();return await Do(e,r,"revocationSignatures",(n=>To(r.keyPacket,ie.signature.keyRevocation,r,[n],null,e.keyPacket,void 0,t))),await Do(e,r,"directSignatures"),await Promise.all(e.users.map((async e=>{const n=r.users.filter((t=>e.userID&&e.userID.equals(t.userID)||e.userAttribute&&e.userAttribute.equals(t.userAttribute)));n.length>0?await Promise.all(n.map((n=>n.update(e,r.keyPacket,t)))):r.users.push(e)}))),await Promise.all(e.subKeys.map((async e=>{const n=r.subKeys.filter((t=>t.hasSameFingerprintAs(e)));n.length>0?await Promise.all(n.map((n=>n.update(e,r.keyPacket,t)))):r.subKeys.push(e)}))),r}async getRevocationCertificate(e=new Date,t=ae){const r={key:this.keyPacket},n=await Mo(this.revocationSignatures,this.keyPacket,ie.signature.keyRevocation,r,e,t),i=new Vs;return i.push(n),pe(ie.armor.publicKey,i.write(),null,null,"This is a revocation certificate")}async applyRevocationCertificate(e,t=ae){const r=await de(e,t),n=(await Vs.fromBinary(r.data,Wo,t)).findPacket(ie.packet.signature);if(!n||n.signatureType!==ie.signature.keyRevocation)throw Error("Could not find revocation signature packet");if(!n.issuerKeyID.equals(this.getKeyID()))throw Error("Revocation signature does not match key");if(n.isExpired())throw Error("Revocation signature is expired");try{await n.verify(this.keyPacket,ie.signature.keyRevocation,{key:this.keyPacket},void 0,t)}catch(e){throw Y.wrapError("Could not verify revocation signature",e)}const i=this.clone();return i.revocationSignatures.push(n),i}async signPrimaryUser(e,t,r,n=ae){const{index:i,user:a}=await this.getPrimaryUser(t,r,n),s=await a.sign(this.keyPacket,e,n),o=this.clone();return o.users[i]=s,o}async signAllUsers(e,t=ae){const r=this,n=this.clone();return n.users=await Promise.all(this.users.map((function(n){return n.sign(r.keyPacket,e,t)}))),n}async verifyPrimaryUser(e,t,r,n=ae){const i=this.keyPacket,{user:a}=await this.getPrimaryUser(t,r,n);return e?await a.verifyAllCertifications(i,e,void 0,n):[{keyID:i.getKeyID(),valid:await a.verify(i,void 0,n).catch((()=>!1))}]}async verifyAllUsers(e,t=ae){const r=[],n=this.keyPacket;return await Promise.all(this.users.map((async function(i){(e?await i.verifyAllCertifications(n,e,void 0,t):[{keyID:n.getKeyID(),valid:await i.verify(n,void 0,t).catch((()=>!1))}]).forEach((e=>{r.push({userID:i.userID.userID,keyID:e.keyID,valid:e.valid})}))}))),r}}function Go(e){for(const t of e)switch(t.constructor.tag){case ie.packet.secretKey:return new $o(e);case ie.packet.publicKey:return new Vo(e)}throw Error("No key packet found")}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","hasSameFingerprintAs"].forEach((e=>{Ho.prototype[e]=jo.prototype[e]}));class Vo extends Ho{constructor(e){if(super(),this.keyPacket=null,this.revocationSignatures=[],this.directSignatures=[],this.users=[],this.subKeys=[],e&&(this.packetListToStructure(e,new Set([ie.packet.secretKey,ie.packet.secretSubkey])),!this.keyPacket))throw Error("Invalid key: missing public-key packet")}isPublic(){return!0}isPrivate(){return!1}toPublic(){return this}armor(e=ae){return pe(ie.armor.publicKey,this.toPacketList().write(),void 0,void 0,void 0,e)}}class $o extends Vo{constructor(e){if(super(),this.packetListToStructure(e,new Set([ie.packet.publicKey,ie.packet.publicSubkey])),!this.keyPacket)throw Error("Invalid key: missing private-key packet")}isPublic(){return!1}isPrivate(){return!0}toPublic(){const e=new Vs,t=this.toPacketList();for(const r of t)switch(r.constructor.tag){case ie.packet.secretKey:{const t=ho.fromSecretKeyPacket(r);e.push(t);break}case ie.packet.secretSubkey:{const t=yo.fromSecretSubkeyPacket(r);e.push(t);break}default:e.push(r)}return new Vo(e)}armor(e=ae){return pe(ie.armor.privateKey,this.toPacketList().write(),void 0,void 0,void 0,e)}async getDecryptionKeys(e,t=new Date,r={},n=ae){const i=this.keyPacket,a=[];for(let r=0;r<this.subKeys.length;r++)if(!e||this.subKeys[r].getKeyID().equals(e,!0))try{const e={key:i,bind:this.subKeys[r].keyPacket};No(await Mo(this.subKeys[r].bindingSignatures,i,ie.signature.subkeyBinding,e,t,n),n)&&a.push(this.subKeys[r])}catch(e){}const s=await this.getPrimaryUser(t,r,n);return e&&!i.getKeyID().equals(e,!0)||!No(s.selfCertification,n)||a.push(this),a}isDecrypted(){return this.getKeys().some((({keyPacket:e})=>e.isDecrypted()))}async validate(e=ae){if(!this.isPrivate())throw Error("Cannot validate a public key");let t;if(this.primaryKey.isDummy()){const r=await this.getSigningKey(null,null,void 0,{...e,rejectPublicKeyAlgorithms:new Set,minRSABits:0});r&&!r.keyPacket.isDummy()&&(t=r.keyPacket)}else t=this.primaryKey;if(t)return t.validate();{const e=this.getKeys();if(e.map((e=>e.keyPacket.isDummy())).every(Boolean))throw Error("Cannot validate an all-gnu-dummy key");return Promise.all(e.map((async e=>e.keyPacket.validate())))}}clearPrivateParams(){this.getKeys().forEach((({keyPacket:e})=>{e.isDecrypted()&&e.clearPrivateParams()}))}async revoke({flag:e=ie.reasonForRevocation.noReason,string:t=""}={},r=new Date,n=ae){if(this.isPublic())throw Error("Need private key for revoking");const i={key:this.keyPacket},a=await this.clone();return a.revocationSignatures.push(await Uo(i,null,this.keyPacket,{signatureType:ie.signature.keyRevocation,reasonForRevocationFlag:ie.write(ie.reasonForRevocation,e),reasonForRevocationString:t},r,void 0,void 0,n)),a}async addSubkey(e={}){const t={...ae,...e.config};if(e.passphrase)throw Error("Subkey could not be encrypted here, please encrypt whole key");if(e.rsaBits<t.minRSABits)throw Error(`rsaBits should be at least ${t.minRSABits}, got: ${e.rsaBits}`);const r=this.primaryKey;if(r.isDummy())throw Error("Cannot add subkey to gnu-dummy primary key");if(!r.isDecrypted())throw Error("Key is not decrypted");const n=r.getAlgorithmInfo();n.type=n.curve?"ecc":"rsa",n.rsaBits=n.bits||4096,n.curve=n.curve||"curve25519",e=Oo(e,n);const i=await xo(e),a=await Co(i,r,e,t),s=this.toPacketList();return s.push(i,a),new $o(s)}}const Yo=Y.constructAllowedPackets([ho,yo,go,_o,vo,bo,js]);async function Xo(e,t,r,n){r.passphrase&&await e.encrypt(r.passphrase,n),await Promise.all(t.map((async function(e,t){const i=r.subkeys[t].passphrase;i&&await e.encrypt(i,n)})));const i=new Vs;i.push(e),await Promise.all(r.userIDs.map((async function(t,i){function a(e,t){return[t,...e.filter((e=>e!==t))]}const s=vo.fromObject(t),o={};o.userID=s,o.key=e;const c=new js(r.date);return c.signatureType=ie.signature.certGeneric,c.publicKeyAlgorithm=e.algorithm,c.hashAlgorithm=await Io(null,e,void 0,void 0,n),c.keyFlags=[ie.keyFlags.certifyKeys|ie.keyFlags.signData],c.preferredSymmetricAlgorithms=a([ie.symmetric.aes256,ie.symmetric.aes128,ie.symmetric.aes192],n.preferredSymmetricAlgorithm),n.aeadProtect&&(c.preferredAEADAlgorithms=a([ie.aead.eax,ie.aead.ocb],n.preferredAEADAlgorithm)),c.preferredHashAlgorithms=a([ie.hash.sha256,ie.hash.sha512],n.preferredHashAlgorithm),c.preferredCompressionAlgorithms=a([ie.compression.zlib,ie.compression.zip,ie.compression.uncompressed],n.preferredCompressionAlgorithm),0===i&&(c.isPrimaryUserID=!0),c.features=[0],c.features[0]|=ie.features.modificationDetection,n.aeadProtect&&(c.features[0]|=ie.features.aead),n.v5Keys&&(c.features[0]|=ie.features.v5Keys),r.keyExpirationTime>0&&(c.keyExpirationTime=r.keyExpirationTime,c.keyNeverExpires=!1),await c.sign(e,o),{userIDPacket:s,signaturePacket:c}}))).then((e=>{e.forEach((({userIDPacket:e,signaturePacket:t})=>{i.push(e),i.push(t)}))})),await Promise.all(t.map((async function(t,i){const a=r.subkeys[i];return{secretSubkeyPacket:t,subkeySignaturePacket:await Co(t,e,a,n)}}))).then((e=>{e.forEach((({secretSubkeyPacket:e,subkeySignaturePacket:t})=>{i.push(e),i.push(t)}))}));const a={key:e};return i.push(await Uo(a,null,e,{signatureType:ie.signature.keyRevocation,reasonForRevocationFlag:ie.reasonForRevocation.noReason,reasonForRevocationString:""},r.date,void 0,void 0,n)),r.passphrase&&e.clearPrivateParams(),await Promise.all(t.map((async function(e,t){r.subkeys[t].passphrase&&e.clearPrivateParams()}))),new $o(i)}async function Zo({armoredKey:e,binaryKey:t,config:r}){if(r={...ae,...r},!e&&!t)throw Error("readKey: must pass options object containing `armoredKey` or `binaryKey`");if(e&&!Y.isString(e))throw Error("readKey: options.armoredKey must be a string");if(t&&!Y.isUint8Array(t))throw Error("readKey: options.binaryKey must be a Uint8Array");let n;if(e){const{type:t,data:i}=await de(e,r);if(t!==ie.armor.publicKey&&t!==ie.armor.privateKey)throw Error("Armored text not of type key");n=i}else n=t;return Go(await Vs.fromBinary(n,Yo,r))}async function Jo({armoredKey:e,binaryKey:t,config:r}){if(r={...ae,...r},!e&&!t)throw Error("readPrivateKey: must pass options object containing `armoredKey` or `binaryKey`");if(e&&!Y.isString(e))throw Error("readPrivateKey: options.armoredKey must be a string");if(t&&!Y.isUint8Array(t))throw Error("readPrivateKey: options.binaryKey must be a Uint8Array");let n;if(e){const{type:t,data:i}=await de(e,r);if(t!==ie.armor.privateKey)throw Error("Armored text not of type private key");n=i}else n=t;const i=await Vs.fromBinary(n,Yo,r);return new $o(i)}async function Qo({armoredKeys:e,binaryKeys:t,config:r}){r={...ae,...r};let n=e||t;if(!n)throw Error("readKeys: must pass options object containing `armoredKeys` or `binaryKeys`");if(e&&!Y.isString(e))throw Error("readKeys: options.armoredKeys must be a string");if(t&&!Y.isUint8Array(t))throw Error("readKeys: options.binaryKeys must be a Uint8Array");if(e){const{type:t,data:i}=await de(e,r);if(t!==ie.armor.publicKey&&t!==ie.armor.privateKey)throw Error("Armored text not of type key");n=i}const i=[],a=await Vs.fromBinary(n,Yo,r),s=a.indexOfTag(ie.packet.publicKey,ie.packet.secretKey);if(0===s.length)throw Error("No key packet found");for(let e=0;e<s.length;e++){const t=Go(a.slice(s[e],s[e+1]));i.push(t)}return i}async function ec({armoredKeys:e,binaryKeys:t,config:r}){r={...ae,...r};let n=e||t;if(!n)throw Error("readPrivateKeys: must pass options object containing `armoredKeys` or `binaryKeys`");if(e&&!Y.isString(e))throw Error("readPrivateKeys: options.armoredKeys must be a string");if(t&&!Y.isUint8Array(t))throw Error("readPrivateKeys: options.binaryKeys must be a Uint8Array");if(e){const{type:t,data:i}=await de(e,r);if(t!==ie.armor.privateKey)throw Error("Armored text not of type private key");n=i}const i=[],a=await Vs.fromBinary(n,Yo,r),s=a.indexOfTag(ie.packet.secretKey);if(0===s.length)throw Error("No secret key packet found");for(let e=0;e<s.length;e++){const t=a.slice(s[e],s[e+1]),r=new $o(t);i.push(r)}return i}const tc=Y.constructAllowedPackets([Ds,Ys,so,io,lo,oo,uo,Hs,js]),rc=Y.constructAllowedPackets([uo]),nc=Y.constructAllowedPackets([js]);class ic{constructor(e){this.packets=e||new Vs}getEncryptionKeyIDs(){const e=[];return this.packets.filterByTag(ie.packet.publicKeyEncryptedSessionKey).forEach((function(t){e.push(t.publicKeyID)})),e}getSigningKeyIDs(){const e=[],t=this.unwrapCompressed();return t.packets.filterByTag(ie.packet.onePassSignature).forEach((function(t){e.push(t.issuerKeyID)})),e.length||t.packets.filterByTag(ie.packet.signature).forEach((function(t){e.push(t.issuerKeyID)})),e}async decrypt(e,t,r,n=ae){const i=r||await this.decryptSessionKeys(e,t,n),a=this.packets.filterByTag(ie.packet.symmetricallyEncryptedData,ie.packet.symEncryptedIntegrityProtectedData,ie.packet.aeadEncryptedData);if(0===a.length)return this;const s=a[0];let o=null;const c=Promise.all(i.map((async e=>{if(!e||!Y.isUint8Array(e.data)||!Y.isString(e.algorithm))throw Error("Invalid session key for decryption.");try{await s.decrypt(e.algorithm,e.data,n)}catch(e){Y.printDebugError(e),o=e}})));if(H(s.encrypted),s.encrypted=null,await c,!s.packets||!s.packets.length)throw o||Error("Decryption failed.");const u=new ic(s.packets);return s.packets=new Vs,u}async decryptSessionKeys(e,t,r=ae){let n,i=[];if(t){const e=this.packets.filterByTag(ie.packet.symEncryptedSessionKey);if(0===e.length)throw Error("No symmetrically encrypted session key packet found.");await Promise.all(t.map((async function(t,n){let a;a=n?await Vs.fromBinary(e.write(),rc,r):e,await Promise.all(a.map((async function(e){try{await e.decrypt(t),i.push(e)}catch(e){Y.printDebugError(e)}})))})))}else{if(!e)throw Error("No key or password specified.");{const t=this.packets.filterByTag(ie.packet.publicKeyEncryptedSessionKey);if(0===t.length)throw Error("No public key encrypted session key packet found.");await Promise.all(t.map((async function(t){await Promise.all(e.map((async function(e){let a=[ie.symmetric.aes256,ie.symmetric.aes128,ie.symmetric.tripledes,ie.symmetric.cast5];try{const t=await e.getPrimaryUser(void 0,void 0,r);t.selfCertification.preferredSymmetricAlgorithms&&(a=a.concat(t.selfCertification.preferredSymmetricAlgorithms))}catch(e){}const s=(await e.getDecryptionKeys(t.publicKeyID,null,void 0,r)).map((e=>e.keyPacket));await Promise.all(s.map((async function(e){if(e&&!e.isDummy()){if(!e.isDecrypted())throw Error("Decryption key is not decrypted.");try{if(await t.decrypt(e),!a.includes(ie.write(ie.symmetric,t.sessionKeyAlgorithm)))throw Error("A non-preferred symmetric algorithm was used.");i.push(t)}catch(e){Y.printDebugError(e),n=e}}})))}))),H(t.encrypted),t.encrypted=null})))}}if(i.length){if(i.length>1){const e=new Set;i=i.filter((t=>{const r=t.sessionKeyAlgorithm+Y.uint8ArrayToString(t.sessionKey);return!e.has(r)&&(e.add(r),!0)}))}return i.map((e=>({data:e.sessionKey,algorithm:e.sessionKeyAlgorithm})))}throw n||Error("Session key decryption failed.")}getLiteralData(){const e=this.unwrapCompressed().packets.findPacket(ie.packet.literalData);return e&&e.getBytes()||null}getFilename(){const e=this.unwrapCompressed().packets.findPacket(ie.packet.literalData);return e&&e.getFilename()||null}getText(){const e=this.unwrapCompressed().packets.findPacket(ie.packet.literalData);return e?e.getText():null}static async generateSessionKey(e=[],t=new Date,r=[],n=ae){const i=ie.read(ie.symmetric,await Bo("symmetric",e,t,r,n)),a=n.aeadProtect&&await async function(e,t=new Date,r=[],n=ae){let i=!0;return await Promise.all(e.map((async function(e,a){const s=await e.getPrimaryUser(t,r[a],n);s.selfCertification.features&&s.selfCertification.features[0]&ie.features.aead||(i=!1)}))),i}(e,t,r,n)?ie.read(ie.aead,await Bo("aead",e,t,r,n)):void 0;return{data:await zi.generateSessionKey(i),algorithm:i,aeadAlgorithm:a}}async encrypt(e,t,r,n=!1,i=[],a=new Date,s=[],o=ae){if(r){if(!Y.isUint8Array(r.data)||!Y.isString(r.algorithm))throw Error("Invalid session key for encryption.")}else if(e&&e.length)r=await ic.generateSessionKey(e,a,s,o);else{if(!t||!t.length)throw Error("No keys, passwords, or session key provided.");r=await ic.generateSessionKey(void 0,void 0,void 0,o)}const{data:c,algorithm:u,aeadAlgorithm:h}=r,f=await ic.encryptSessionKey(c,u,h,e,t,n,i,a,s,o);let l;return h?(l=new so,l.aeadAlgorithm=h):l=new io,l.packets=this.packets,await l.encrypt(u,c,o),f.packets.push(l),l.packets=new Vs,f}static async encryptSessionKey(e,t,r,n,i,a=!1,s=[],o=new Date,c=[],u=ae){const h=new Vs;if(n){const r=await Promise.all(n.map((async function(r,n){const i=await r.getEncryptionKey(s[n],o,c,u),h=new oo;return h.publicKeyID=a?ye.wildcard():i.getKeyID(),h.publicKeyAlgorithm=i.keyPacket.algorithm,h.sessionKey=e,h.sessionKeyAlgorithm=t,await h.encrypt(i.keyPacket),delete h.sessionKey,h})));h.push(...r)}if(i){const n=async function(e,t){try{return await e.decrypt(t),1}catch(e){return 0}},a=(e,t)=>e+t,s=async function(e,t,r,o){const c=new uo(u);return c.sessionKey=e,c.sessionKeyAlgorithm=t,r&&(c.aeadAlgorithm=r),await c.encrypt(o,u),u.passwordCollisionCheck&&1!==(await Promise.all(i.map((e=>n(c,e))))).reduce(a)?s(e,t,o):(delete c.sessionKey,c)},o=await Promise.all(i.map((n=>s(e,t,r,n))));h.push(...o)}return new ic(h)}async sign(e=[],t=null,r=[],n=new Date,i=[],a=ae){const s=new Vs,o=this.packets.findPacket(ie.packet.literalData);if(!o)throw Error("No literal data packet to sign.");let c,u;const h=null===o.text?ie.signature.binary:ie.signature.text;if(t)for(u=t.packets.filterByTag(ie.packet.signature),c=u.length-1;c>=0;c--){const t=u[c],r=new Hs;r.signatureType=t.signatureType,r.hashAlgorithm=t.hashAlgorithm,r.publicKeyAlgorithm=t.publicKeyAlgorithm,r.issuerKeyID=t.issuerKeyID,e.length||0!==c||(r.flags=1),s.push(r)}return await Promise.all(Array.from(e).reverse().map((async function(t,s){if(t.isPublic())throw Error("Need private key for signing");const o=r[e.length-1-s],c=await t.getSigningKey(o,n,i,a),u=new Hs;return u.signatureType=h,u.hashAlgorithm=await Io(t,c.keyPacket,n,i,a),u.publicKeyAlgorithm=c.keyPacket.algorithm,u.issuerKeyID=c.getKeyID(),s===e.length-1&&(u.flags=1),u}))).then((e=>{e.forEach((e=>s.push(e)))})),s.push(o),s.push(...await ac(o,e,t,r,n,i,!1,a)),new ic(s)}compress(e,t=ae){if(e===ie.compression.uncompressed)return this;const r=new Ys(t);r.algorithm=ie.read(ie.compression,e),r.packets=this.packets;const n=new Vs;return n.push(r),new ic(n)}async signDetached(e=[],t=null,r=[],n=new Date,i=[],a=ae){const s=this.packets.findPacket(ie.packet.literalData);if(!s)throw Error("No literal data packet to sign.");return new So(await ac(s,e,t,r,n,i,!0,a))}async verify(e,t=new Date,r=ae){const n=this.unwrapCompressed(),i=n.packets.filterByTag(ie.packet.literalData);if(1!==i.length)throw Error("Can only verify message with one literal data packet.");c(n.packets.stream)&&n.packets.push(...await W(n.packets.stream,(e=>e||[])));const a=n.packets.filterByTag(ie.packet.onePassSignature).reverse(),s=n.packets.filterByTag(ie.packet.signature);return a.length&&!s.length&&Y.isStream(n.packets.stream)&&!c(n.packets.stream)?(await Promise.all(a.map((async e=>{e.correspondingSig=new Promise(((t,r)=>{e.correspondingSigResolve=t,e.correspondingSigReject=r})),e.signatureData=G((async()=>(await e.correspondingSig).signatureData)),e.hashed=W(await e.hash(e.signatureType,i[0],void 0,!1)),e.hashed.catch((()=>{}))}))),n.packets.stream=z(n.packets.stream,(async(e,t)=>{const r=B(e),n=U(t);try{for(let e=0;e<a.length;e++){const{value:t}=await r.read();a[e].correspondingSigResolve(t)}await r.readToEnd(),await n.ready,await n.close()}catch(e){a.forEach((t=>{t.correspondingSigReject(e)})),await n.abort(e)}})),sc(a,i,e,t,!1,r)):sc(s,i,e,t,!1,r)}verifyDetached(e,t,r=new Date,n=ae){const i=this.unwrapCompressed().packets.filterByTag(ie.packet.literalData);if(1!==i.length)throw Error("Can only verify message with one literal data packet.");return sc(e.packets,i,t,r,!0,n)}unwrapCompressed(){const e=this.packets.filterByTag(ie.packet.compressedData);return e.length?new ic(e[0].packets):this}async appendSignature(e,t=ae){await this.packets.read(Y.isUint8Array(e)?e:(await de(e)).data,nc,t)}write(){return this.packets.write()}armor(e=ae){return pe(ie.armor.message,this.write(),null,null,null,e)}}async function ac(e,t,r=null,n=[],i=new Date,a=[],s=!1,o=ae){const c=new Vs,u=null===e.text?ie.signature.binary:ie.signature.text;if(await Promise.all(t.map((async(t,r)=>{const c=a[r];if(t.isPublic())throw Error("Need private key for signing");const h=await t.getSigningKey(n[r],i,c,o);return Uo(e,t,h.keyPacket,{signatureType:u},i,c,s,o)}))).then((e=>{e.forEach((e=>c.push(e)))})),r){const e=r.packets.filterByTag(ie.packet.signature);c.push(...e)}return c}async function sc(e,t,r,n=new Date,i=!1,a=ae){return Promise.all(e.filter((function(e){return["text","binary"].includes(ie.read(ie.signature,e.signatureType))})).map((async function(e){return async function(e,t,r,n=new Date,i=!1,a=ae){let s,o,c;for(const t of r)if(t.getKeys(e.issuerKeyID).length>0){s=t;break}if(s)try{o=await s.getSigningKey(e.issuerKeyID,null,void 0,a)}catch(e){c=e}else c=Error("Could not find signing key with key ID "+e.issuerKeyID.toHex());const u=e.correspondingSig||e,h={keyID:e.issuerKeyID,verified:(async()=>{if(c)throw c;await e.verify(o.keyPacket,e.signatureType,t[0],i,a);const r=await u;if(r.isExpired(n)||!(r.created>=o.getCreationTime()&&r.created<await(o===s?o.getExpirationTime(void 0,void 0,void 0,a):o.getExpirationTime(s,n,void 0,a))))throw Error("Signature is expired");return!0})(),signature:(async()=>{const e=await u,t=new Vs;return e&&t.push(e),new So(t)})()};return h.signature.catch((()=>{})),h.verified.catch((()=>{})),h}(e,t,r,n,i,a)})))}async function oc({armoredMessage:e,binaryMessage:t,config:r}){r={...ae,...r};let n=e||t;if(!n)throw Error("readMessage: must pass options object containing `armoredMessage` or `binaryMessage`");if(e&&!Y.isString(e)&&!Y.isStream(e))throw Error("readMessage: options.armoredMessage must be a string or stream");if(t&&!Y.isUint8Array(t)&&!Y.isStream(t))throw Error("readMessage: options.binaryMessage must be a Uint8Array or stream");const i=Y.isStream(n);if(i&&(await P(),n=R(n)),e){const{type:e,data:t}=await de(n,r);if(e!==ie.armor.message)throw Error("Armored text not of type message");n=t}const a=await Vs.fromBinary(n,tc,r),s=new ic(a);return s.fromStream=i,s}async function cc({text:e,binary:t,filename:r,date:n=new Date,format:i=(void 0!==e?"utf8":"binary")}){let a=void 0!==e?e:t;if(void 0===a)throw Error("createMessage: must pass options object containing `text` or `binary`");if(e&&!Y.isString(e)&&!Y.isStream(e))throw Error("createMessage: options.text must be a string or stream");if(t&&!Y.isUint8Array(t)&&!Y.isStream(t))throw Error("createMessage: options.binary must be a Uint8Array or stream");const s=Y.isStream(a);s&&(await P(),a=R(a));const o=new Ds(n);void 0!==e?o.setText(a,i):o.setBytes(a,i),void 0!==r&&o.setFilename(r);const c=new Vs;c.push(o);const u=new ic(c);return u.fromStream=s,u}const uc=Y.constructAllowedPackets([js]);class hc{constructor(e,t){if(this.text=Y.removeTrailingSpaces(e).replace(/\r?\n/g,"\r\n"),t&&!(t instanceof So))throw Error("Invalid signature input");this.signature=t||new So(new Vs)}getSigningKeyIDs(){const e=[];return this.signature.packets.forEach((function(t){e.push(t.issuerKeyID)})),e}async sign(e,t=null,r=[],n=new Date,i=[],a=ae){const s=new Ds;s.setText(this.text);const o=new So(await ac(s,e,t,r,n,i,!0,a));return new hc(this.text,o)}verify(e,t=new Date,r=ae){const n=this.signature.packets,i=new Ds;return i.setText(this.text),sc(n,[i],e,t,!0,r)}getText(){return this.text.replace(/\r\n/g,"\n")}armor(e=ae){let t=this.signature.packets.map((function(e){return ie.read(ie.hash,e.hashAlgorithm).toUpperCase()}));t=t.filter((function(e,t,r){return r.indexOf(e)===t}));const r={hash:t.join(),text:this.text,data:this.signature.packets.write()};return pe(ie.armor.signed,r,void 0,void 0,void 0,e)}}async function fc({cleartextMessage:e,config:t}){if(t={...ae,...t},!e)throw Error("readCleartextMessage: must pass options object containing `cleartextMessage`");if(!Y.isString(e))throw Error("readCleartextMessage: options.cleartextMessage must be a string");const r=await de(e);if(r.type!==ie.armor.signed)throw Error("No cleartext signed message.");const n=await Vs.fromBinary(r.data,uc,t);!function(e,t){const r=function(e){const r=e=>t=>e.hashAlgorithm===t;for(let n=0;n<t.length;n++)if(t[n].constructor.tag===ie.packet.signature&&!e.some(r(t[n])))return!1;return!0};let n=null,i=[];if(e.forEach((function(e){if(n=e.match(/Hash: (.+)/),!n)throw Error('Only "Hash" header allowed in cleartext signed message');n=n[1].replace(/\s/g,""),n=n.split(","),n=n.map((function(e){e=e.toLowerCase();try{return ie.write(ie.hash,e)}catch(t){throw Error("Unknown hash algorithm in armor header: "+e)}})),i=i.concat(n)})),!i.length&&!r([ie.hash.md5]))throw Error('If no "Hash" header in cleartext signed message, then only MD5 signatures allowed');if(i.length&&!r(i))throw Error("Hash algorithm mismatch in armor header and signature")}(r.headers,n);const i=new So(n);return new hc(r.text,i)}async function lc({text:e}){if(!e)throw Error("createCleartextMessage: must pass options object containing `text`");if(!Y.isString(e))throw Error("createCleartextMessage: options.text must be a string");return new hc(e)}function dc({userIDs:e=[],passphrase:t="",type:r="ecc",rsaBits:n=4096,curve:i="curve25519",keyExpirationTime:a=0,date:s=new Date,subkeys:o=[{}],config:c}){if(c={...ae,...c},0===(e=Pc(e)).length)throw Error("UserIDs are required for key generation");if("rsa"===r&&n<c.minRSABits)throw Error(`rsaBits should be at least ${c.minRSABits}, got: ${n}`);return async function(e,t){e.sign=!0,(e=Oo(e)).subkeys=e.subkeys.map(((t,r)=>Oo(e.subkeys[r],e)));let r=[Po(e,t)];return r=r.concat(e.subkeys.map((e=>xo(e,t)))),Promise.all(r).then((r=>Xo(r[0],r.slice(1),e,t)))}({userIDs:e,passphrase:t,type:r,rsaBits:n,curve:i,keyExpirationTime:a,date:s,subkeys:o},c).then((async e=>{const t=await e.getRevocationCertificate(s,c);return e.revocationSignatures=[],{key:e,privateKeyArmored:e.armor(c),publicKeyArmored:e.toPublic().armor(c),revocationCertificate:t}})).catch(Ic.bind(null,"Error generating keypair"))}function pc({privateKey:e,userIDs:t=[],passphrase:r="",keyExpirationTime:n=0,date:i,config:a}){return a={...ae,...a},async function(e,t){e=a(e);const{privateKey:r}=e;if(r.isPublic())throw Error("Cannot reformat a public key");if(r.primaryKey.isDummy())throw Error("Cannot reformat a gnu-dummy primary key");if(!r.getKeys().every((({keyPacket:e})=>e.isDecrypted())))throw Error("Key is not decrypted");const n=r.keyPacket;e.subkeys||(e.subkeys=await Promise.all(r.subKeys.map((async e=>{const r=e.keyPacket,i={key:n,bind:r},a=await Mo(e.bindingSignatures,n,ie.signature.subkeyBinding,i,null,t).catch((()=>({})));return{sign:a.keyFlags&&a.keyFlags[0]&ie.keyFlags.signData}}))));const i=r.subKeys.map((e=>e.keyPacket));if(e.subkeys.length!==i.length)throw Error("Number of subkey options does not match number of subkeys");return e.subkeys=e.subkeys.map((t=>a(t,e))),Xo(n,i,e,t);function a(e,t={}){return e.keyExpirationTime=e.keyExpirationTime||t.keyExpirationTime,e.passphrase=Y.isString(e.passphrase)?e.passphrase:t.passphrase,e.date=e.date||t.date,e}}({privateKey:e,userIDs:t=Pc(t),passphrase:r,keyExpirationTime:n,date:i},a).then((async e=>{const t=await e.getRevocationCertificate(i,a);return e.revocationSignatures=[],{key:e,privateKeyArmored:e.armor(a),publicKeyArmored:e.toPublic().armor(a),revocationCertificate:t}})).catch(Ic.bind(null,"Error reformatting keypair"))}function yc({key:e,revocationCertificate:t,reasonForRevocation:r,config:n}){return n={...ae,...n},Promise.resolve().then((()=>t?e.applyRevocationCertificate(t,n):e.revoke(r,void 0,n))).then((async e=>{if(e.isPrivate()){const t=e.toPublic();return{privateKey:e,privateKeyArmored:e.armor(n),publicKey:t,publicKeyArmored:t.armor(n)}}return{publicKey:e,publicKeyArmored:e.armor(n)}})).catch(Ic.bind(null,"Error revoking key"))}async function bc({privateKey:e,passphrase:t,config:r}){if(r={...ae,...r},!e.isPrivate())throw Error("Cannot decrypt a public key");const n=e.clone(!0);try{const e=Y.isArray(t)?t:[t];return await Promise.all(n.getKeys().map((t=>Y.anyPromise(e.map((e=>t.keyPacket.decrypt(e))))))),await n.validate(r),n}catch(e){return n.clearPrivateParams(),Ic("Error decrypting private key",e)}}async function gc({privateKey:e,passphrase:t,config:r}){if(r={...ae,...r},!e.isPrivate())throw Error("Cannot encrypt a public key");const n=e.clone(!0);try{const e=n.getKeys(),i=Y.isArray(t)?t:Array(e.length).fill(t);if(i.length!==e.length)throw Error("Invalid number of passphrases for key");return await Promise.all(e.map((async(e,t)=>{const{keyPacket:n}=e;await n.encrypt(i[t],r),n.clearPrivateParams()}))),n}catch(e){return n.clearPrivateParams(),Ic("Error encrypting private key",e)}}function mc({message:e,encryptionKeys:t,signingKeys:r,passwords:n,sessionKey:i,armor:a=!0,detached:s=!1,signature:o=null,wildcard:c=!1,signingKeyIDs:u=[],encryptionKeyIDs:h=[],date:f=new Date,signingUserIDs:l=[],encryptionUserIDs:d=[],config:p}){if(p={...ae,...p},Ec(e),t=Pc(t),r=Pc(r),n=Pc(n),l=Pc(l),d=Pc(d),s)throw Error("detached option has been removed from openpgp.encrypt. Separately call openpgp.sign instead. Don't forget to remove privateKeys option as well.");return Promise.resolve().then((async function(){const s=e.fromStream;return r||(r=[]),(r.length||o)&&(e=await e.sign(r,o,u,f,l,p)),e=e.compress(await Bo("compression",t,f,d,p),p),e=await e.encrypt(t,n,i,c,h,f,d,p),Mc(a?e.armor(p):e.write(),s,a?"utf8":"binary")})).catch(Ic.bind(null,"Error encrypting message"))}function wc({message:e,decryptionKeys:t,passwords:r,sessionKeys:n,verificationKeys:i,expectSigned:a=!1,format:s="utf8",signature:o=null,date:c=new Date,config:u}){return u={...ae,...u},Ec(e),i=Pc(i),t=Pc(t),r=Pc(r),n=Pc(n),e.decrypt(t,r,n,u).then((async function(t){i||(i=[]);const r={};if(r.signatures=o?await t.verifyDetached(o,i,c,u):await t.verify(i,c,u),r.data="binary"===s?t.getLiteralData():t.getText(),r.filename=t.getFilename(),Rc(r,e),a){if(0===i.length)throw Error("Verification keys are required to verify message signatures");if(0===r.signatures.length)throw Error("Message is not signed");r.data=I([r.data,G((async()=>{await Y.anyPromise(r.signatures.map((e=>e.verified)))}))])}return r.data=await Mc(r.data,e.fromStream,s),e.fromStream||await Cc(r.signatures),r})).catch(Ic.bind(null,"Error decrypting message"))}function vc({message:e,signingKeys:t,armor:r=!0,detached:n=!1,signingKeyIDs:i=[],date:a=new Date,signingUserIDs:s=[],config:o}){if(o={...ae,...o},xc(e),e instanceof hc&&!r)throw Error("Can't sign non-armored cleartext message");if(e instanceof hc&&n)throw Error("Can't detach-sign a cleartext message");return t=Pc(t),s=Pc(s),Promise.resolve().then((async function(){let c;return c=n?await e.signDetached(t,void 0,i,a,s,o):await e.sign(t,void 0,i,a,s,o),c=r?c.armor(o):c.write(),n&&(c=z(e.packets.write(),(async(e,t)=>{await Promise.all([D(c,t),W(e).catch((()=>{}))])}))),Mc(c,e.fromStream,r?"utf8":"binary")})).catch(Ic.bind(null,"Error signing message"))}function _c({message:e,verificationKeys:t,expectSigned:r=!1,format:n="utf8",signature:i=null,date:a=new Date,config:s}){if(s={...ae,...s},xc(e),e instanceof hc&&"binary"===n)throw Error("Can't return cleartext message data as binary");if(e instanceof hc&&i)throw Error("Can't verify detached cleartext signature");return t=Pc(t),Promise.resolve().then((async function(){const o={};if(o.signatures=i?await e.verifyDetached(i,t,a,s):await e.verify(t,a,s),o.data="binary"===n?e.getLiteralData():e.getText(),e.fromStream&&Rc(o,e),r){if(0===o.signatures.length)throw Error("Message is not signed");o.data=I([o.data,G((async()=>{await Y.anyPromise(o.signatures.map((e=>e.verified)))}))])}return o.data=await Mc(o.data,e.fromStream,n),e.fromStream||await Cc(o.signatures),o})).catch(Ic.bind(null,"Error verifying signed message"))}function kc({encryptionKeys:e,date:t=new Date,encryptionUserIDs:r=[],config:n}){return n={...ae,...n},e=Pc(e),r=Pc(r),Promise.resolve().then((async function(){return ic.generateSessionKey(e,t,r,n)})).catch(Ic.bind(null,"Error generating session key"))}function Ac({data:e,algorithm:t,aeadAlgorithm:r,encryptionKeys:n,passwords:i,armor:a=!0,wildcard:s=!1,encryptionKeyIDs:o=[],date:c=new Date,encryptionUserIDs:u=[],config:h}){return h={...ae,...h},function(e,t){if(!Y.isUint8Array(e))throw Error("Parameter [data] must be of type Uint8Array")}(e),function(e,t){if(!Y.isString(e))throw Error("Parameter [algorithm] must be of type String")}(t),n=Pc(n),i=Pc(i),u=Pc(u),Promise.resolve().then((async function(){const f=await ic.encryptSessionKey(e,t,r,n,i,s,o,c,u,h);return a?f.armor(h):f.write()})).catch(Ic.bind(null,"Error encrypting session key"))}function Sc({message:e,decryptionKeys:t,passwords:r,config:n}){return n={...ae,...n},Ec(e),t=Pc(t),r=Pc(r),Promise.resolve().then((async function(){return e.decryptSessionKeys(t,r,n)})).catch(Ic.bind(null,"Error decrypting session keys"))}function Ec(e){if(!(e instanceof ic))throw Error("Parameter [message] needs to be of type Message")}function xc(e){if(!(e instanceof hc||e instanceof ic))throw Error("Parameter [message] needs to be of type Message or CleartextMessage")}function Pc(e){return e&&!Y.isArray(e)&&(e=[e]),e}async function Mc(e,t,r="utf8"){const n=Y.isStream(e);return"array"===n?W(e):"node"===t?(e=m(e),"binary"!==r&&e.setEncoding(r),e):"web"===t&&"ponyfill"===n?A(e):e}function Rc(e,t){e.data=z(t.packets.stream,(async(t,r)=>{await D(e.data,r,{preventClose:!0});const n=U(r);try{await W(t,(e=>e)),await n.close()}catch(e){await n.abort(e)}}))}async function Cc(e){await Promise.all(e.map((async e=>{e.signature=await e.signature;try{e.valid=await e.verified}catch(t){e.valid=!1,e.error=t,Y.printDebugError(t)}})))}function Ic(e,t){Y.printDebugError(t);try{t.message=e+": "+t.message}catch(e){}throw t}const Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function Uc(){}const Dc=Number.isNaN||function(e){return e!=e},Tc=Uc;function Kc(e){return"object"==typeof e&&null!==e||"function"==typeof e}function Oc(e){return e.slice()}function zc(e){return!1!==function(e){return"number"==typeof e&&(!Dc(e)&&!(e<0))}(e)&&e!==1/0}function Lc(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function Nc(e,t,r,n){const i=e[t];if(void 0!==i){if("function"!=typeof i)throw new TypeError(i+" is not a method");switch(r){case 0:return()=>Fc(i,e,n);case 1:return t=>{const r=[t].concat(n);return Fc(i,e,r)}}}return()=>Xc(void 0)}function qc(e,t,r){const n=e[t];if(void 0!==n)return Lc(n,e,r)}function Fc(e,t,r){try{return Xc(Lc(e,t,r))}catch(e){return Zc(e)}}function jc(e){if(Dc(e=Number(e))||e<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return e}function Wc(e){if(void 0===e)return()=>1;if("function"!=typeof e)throw new TypeError("size property of a queuing strategy must be a function");return t=>e(t)}const Hc=Promise,Gc=Promise.prototype.then,Vc=Promise.resolve.bind(Hc),$c=Promise.reject.bind(Hc);function Yc(e){return new Hc(e)}function Xc(e){return Vc(e)}function Zc(e){return $c(e)}function Jc(e,t,r){return Gc.call(e,t,r)}function Qc(e,t,r){Jc(Jc(e,t,r),void 0,Tc)}function eu(e,t){Qc(e,t)}function tu(e,t){Qc(e,void 0,t)}function ru(e,t,r){return Jc(e,t,r)}function nu(e){Jc(e,void 0,Tc)}class iu{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){const e=this._front;let t=e;const r=this._cursor;let n=r+1;const i=e._elements,a=i[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),i[r]=void 0,a}forEach(e){let t=this._cursor,r=this._front,n=r._elements;for(;!(t===n.length&&void 0===r._next||t===n.length&&(r=r._next,n=r._elements,t=0,0===n.length));)e(n[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}function au(e,t,r){let n=null;!0===r&&(n=Object.prototype);const i=Object.create(n);return i.value=e,i.done=t,i}function su(e,t){e._forAuthorCode=!0,e._ownerReadableStream=t,t._reader=e,"readable"===t._state?hu(e):"closed"===t._state?function(e){hu(e),du(e)}(e):fu(e,t._storedError)}function ou(e,t){return pf(e._ownerReadableStream,t)}function cu(e){"readable"===e._ownerReadableStream._state?lu(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){fu(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(e),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function uu(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function hu(e){e._closedPromise=Yc(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function fu(e,t){hu(e),lu(e,t)}function lu(e,t){nu(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function du(e){e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}const pu=Bc("[[CancelSteps]]"),yu=Bc("[[PullSteps]]");function bu(e,t=!1){const r=new _u(e);return r._forAuthorCode=t,r}function gu(e){return Yc(((t,r)=>{const n={_resolve:t,_reject:r};e._reader._readRequests.push(n)}))}function mu(e,t,r){const n=e._reader;n._readRequests.shift()._resolve(au(t,r,n._forAuthorCode))}function wu(e){return e._reader._readRequests.length}function vu(e){const t=e._reader;return void 0!==t&&!!ku(t)}class _u{constructor(e){if(!1===lf(e))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===df(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");su(this,e),this._readRequests=new iu}get closed(){return ku(this)?this._closedPromise:Zc(Su("closed"))}cancel(e){return ku(this)?void 0===this._ownerReadableStream?Zc(uu("cancel")):ou(this,e):Zc(Su("cancel"))}read(){return ku(this)?void 0===this._ownerReadableStream?Zc(uu("read from")):Au(this):Zc(Su("read"))}releaseLock(){if(!ku(this))throw Su("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");cu(this)}}}function ku(e){return!!Kc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function Au(e){const t=e._ownerReadableStream;return t._disturbed=!0,"closed"===t._state?Xc(au(void 0,!0,e._forAuthorCode)):"errored"===t._state?Zc(t._storedError):t._readableStreamController[yu]()}function Su(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let Eu;"symbol"==typeof Bc.asyncIterator&&(Eu={[Bc.asyncIterator](){return this}},Object.defineProperty(Eu,Bc.asyncIterator,{enumerable:!1}));const xu={next(){if(!1===Pu(this))return Zc(Mu("next"));const e=this._asyncIteratorReader;return void 0===e._ownerReadableStream?Zc(uu("iterate")):ru(Au(e),(t=>{const r=t.done;return r&&cu(e),au(t.value,r,!0)}))},return(e){if(!1===Pu(this))return Zc(Mu("next"));const t=this._asyncIteratorReader;if(void 0===t._ownerReadableStream)return Zc(uu("finish iterating"));if(t._readRequests.length>0)return Zc(new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this._preventCancel){const r=ou(t,e);return cu(t),ru(r,(()=>au(e,!0,!0)))}return cu(t),Xc(au(e,!0,!0))}};function Pu(e){return!!Kc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorReader")}function Mu(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}function Ru(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function Cu(e,t,r){if(!zc(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function Iu(e){e._queue=new iu,e._queueTotalSize=0}void 0!==Eu&&Object.setPrototypeOf(xu,Eu),Object.defineProperty(xu,"next",{enumerable:!1}),Object.defineProperty(xu,"return",{enumerable:!1});const Bu=Bc("[[AbortSteps]]"),Uu=Bc("[[ErrorSteps]]");class Du{constructor(e={},t={}){Ku(this);const r=t.size;let n=t.highWaterMark;if(void 0!==e.type)throw new RangeError("Invalid type is specified");const i=Wc(r);void 0===n&&(n=1),n=jc(n),function(e,t,r,n){const i=Object.create(Qu.prototype),a=Nc(t,"write",1,[i]),s=Nc(t,"close",0,[]),o=Nc(t,"abort",1,[]);eh(e,i,(function(){return qc(t,"start",[i])}),a,s,o,r,n)}(this,e,n,i)}get locked(){if(!1===Ou(this))throw oh("locked");return zu(this)}abort(e){return!1===Ou(this)?Zc(oh("abort")):!0===zu(this)?Zc(new TypeError("Cannot abort a stream that already has a writer")):Lu(this,e)}close(){return!1===Ou(this)?Zc(oh("close")):!0===zu(this)?Zc(new TypeError("Cannot close a stream that already has a writer")):!0===Wu(this)?Zc(new TypeError("Cannot close an already-closing stream")):Nu(this)}getWriter(){if(!1===Ou(this))throw oh("getWriter");return Tu(this)}}function Tu(e){return new Vu(e)}function Ku(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new iu,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Ou(e){return!!Kc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function zu(e){return void 0!==e._writer}function Lu(e,t){const r=e._state;if("closed"===r||"errored"===r)return Xc(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let n=!1;"erroring"===r&&(n=!0,t=void 0);const i=Yc(((r,i)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:i,_reason:t,_wasAlreadyErroring:n}}));return e._pendingAbortRequest._promise=i,!1===n&&Fu(e,t),i}function Nu(e){const t=e._state;if("closed"===t||"errored"===t)return Zc(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const r=Yc(((t,r)=>{const n={_resolve:t,_reject:r};e._closeRequest=n})),n=e._writer;var i;return void 0!==n&&!0===e._backpressure&&"writable"===t&&mh(n),Cu(i=e._writableStreamController,"close",0),nh(i),r}function qu(e,t){"writable"!==e._state?ju(e):Fu(e,t)}function Fu(e,t){const r=e._writableStreamController;e._state="erroring",e._storedError=t;const n=e._writer;void 0!==n&&Xu(n,t),!1===function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&!0===r._started&&ju(e)}function ju(e){e._state="errored",e._writableStreamController[Uu]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new iu,void 0===e._pendingAbortRequest)return void Hu(e);const r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,!0===r._wasAlreadyErroring)return r._reject(t),void Hu(e);Qc(e._writableStreamController[Bu](r._reason),(()=>{r._resolve(),Hu(e)}),(t=>{r._reject(t),Hu(e)}))}function Wu(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function Hu(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&lh(t,e._storedError)}function Gu(e,t){const r=e._writer;void 0!==r&&t!==e._backpressure&&(!0===t?function(e){ph(e)}(r):mh(r)),e._backpressure=t}class Vu{constructor(e){if(!1===Ou(e))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===zu(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!1===Wu(e)&&!0===e._backpressure?ph(this):bh(this),hh(this);else if("erroring"===t)yh(this,e._storedError),hh(this);else if("closed"===t)bh(this),hh(this),dh(this);else{const t=e._storedError;yh(this,t),fh(this,t)}}get closed(){return!1===$u(this)?Zc(ch("closed")):this._closedPromise}get desiredSize(){if(!1===$u(this))throw ch("desiredSize");if(void 0===this._ownerWritableStream)throw uh("desiredSize");return function(e){const t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:rh(t._writableStreamController)}(this)}get ready(){return!1===$u(this)?Zc(ch("ready")):this._readyPromise}abort(e){return!1===$u(this)?Zc(ch("abort")):void 0===this._ownerWritableStream?Zc(uh("abort")):function(e,t){return Lu(e._ownerWritableStream,t)}(this,e)}close(){if(!1===$u(this))return Zc(ch("close"));const e=this._ownerWritableStream;return void 0===e?Zc(uh("close")):!0===Wu(e)?Zc(new TypeError("Cannot close an already-closing stream")):Yu(this)}releaseLock(){if(!1===$u(this))throw ch("releaseLock");void 0!==this._ownerWritableStream&&Zu(this)}write(e){return!1===$u(this)?Zc(ch("write")):void 0===this._ownerWritableStream?Zc(uh("write to")):Ju(this,e)}}function $u(e){return!!Kc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function Yu(e){return Nu(e._ownerWritableStream)}function Xu(e,t){"pending"===e._readyPromiseState?gh(e,t):function(e,t){yh(e,t)}(e,t)}function Zu(e){const t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Xu(e,r),function(e,t){"pending"===e._closedPromiseState?lh(e,t):function(e,t){fh(e,t)}(e,t)}(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function Ju(e,t){const r=e._ownerWritableStream,n=r._writableStreamController,i=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return ih(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return Zc(uh("write to"));const a=r._state;if("errored"===a)return Zc(r._storedError);if(!0===Wu(r)||"closed"===a)return Zc(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===a)return Zc(r._storedError);const s=function(e){return Yc(((t,r)=>{const n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}(r);return function(e,t,r){const n={chunk:t};try{Cu(e,n,r)}catch(t){return void ih(e,t)}const i=e._controlledWritableStream;if(!1===Wu(i)&&"writable"===i._state){Gu(i,ah(e))}nh(e)}(n,t,i),s}class Qu{constructor(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}error(e){if(!1===function(e){return!!Kc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&sh(this,e)}[Bu](e){const t=this._abortAlgorithm(e);return th(this),t}[Uu](){Iu(this)}}function eh(e,t,r,n,i,a,s,o){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Iu(t),t._started=!1,t._strategySizeAlgorithm=o,t._strategyHWM=s,t._writeAlgorithm=n,t._closeAlgorithm=i,t._abortAlgorithm=a;const c=ah(t);Gu(e,c),Qc(Xc(r()),(()=>{t._started=!0,nh(t)}),(r=>{t._started=!0,qu(e,r)}))}function th(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function rh(e){return e._strategyHWM-e._queueTotalSize}function nh(e){const t=e._controlledWritableStream;if(!1===e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void ju(t);if(0===e._queue.length)return;const r=e._queue.peek().value;"close"===r?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),Ru(e);const r=e._closeAlgorithm();th(e),Qc(r,(()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&dh(t)}(t)}),(e=>{!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),qu(e,t)}(t,e)}))}(e):function(e,t){const r=e._controlledWritableStream;(function(e){e._inFlightWriteRequest=e._writeRequests.shift()})(r),Qc(e._writeAlgorithm(t),(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(r);const t=r._state;if(Ru(e),!1===Wu(r)&&"writable"===t){const t=ah(e);Gu(r,t)}nh(e)}),(t=>{"writable"===r._state&&th(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,qu(e,t)}(r,t)}))}(e,r.chunk)}function ih(e,t){"writable"===e._controlledWritableStream._state&&sh(e,t)}function ah(e){return rh(e)<=0}function sh(e,t){const r=e._controlledWritableStream;th(e),Fu(r,t)}function oh(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function ch(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function uh(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function hh(e){e._closedPromise=Yc(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function fh(e,t){hh(e),lh(e,t)}function lh(e,t){nu(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function dh(e){e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}function ph(e){e._readyPromise=Yc(((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function yh(e,t){ph(e),gh(e,t)}function bh(e){ph(e),mh(e)}function gh(e,t){nu(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function mh(e){e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}function wh(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}const vh="undefined"!=typeof DOMException?DOMException:void 0,_h=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(vh)?vh:function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return Object.defineProperty(e.prototype=Object.create(Error.prototype),"constructor",{value:e,writable:!0,configurable:!0}),e}();function kh(e,t,r,n,i,a){const s=bu(e),o=Tu(t);e._disturbed=!0;let c=!1,u=Xc(void 0);return Yc(((h,f)=>{let l;if(void 0!==a){if(l=()=>{const r=new _h("Aborted","AbortError"),a=[];!1===n&&a.push((()=>"writable"===t._state?Lu(t,r):Xc(void 0))),!1===i&&a.push((()=>"readable"===e._state?pf(e,r):Xc(void 0))),y((()=>Promise.all(a.map((e=>e())))),!0,r)},!0===a.aborted)return void l();a.addEventListener("abort",l)}if(p(e,s._closedPromise,(e=>{!1===n?y((()=>Lu(t,e)),!0,e):b(!0,e)})),p(t,o._closedPromise,(t=>{!1===i?y((()=>pf(e,t)),!0,t):b(!0,t)})),function(e,t,r){"closed"===e._state?r():eu(t,r)}(e,s._closedPromise,(()=>{!1===r?y((()=>function(e){const t=e._ownerWritableStream,r=t._state;return!0===Wu(t)||"closed"===r?Xc(void 0):"errored"===r?Zc(t._storedError):Yu(e)}(o))):b()})),!0===Wu(t)||"closed"===t._state){const t=new TypeError("the destination writable stream closed before all data could be piped to it");!1===i?y((()=>pf(e,t)),!0,t):b(!0,t)}function d(){const e=u;return Jc(u,(()=>e!==u?d():void 0))}function p(e,t,r){"errored"===e._state?r(e._storedError):tu(t,r)}function y(e,r,n){function i(){Qc(e(),(()=>g(r,n)),(e=>g(!0,e)))}!0!==c&&(c=!0,"writable"===t._state&&!1===Wu(t)?eu(d(),i):i())}function b(e,r){!0!==c&&(c=!0,"writable"===t._state&&!1===Wu(t)?eu(d(),(()=>g(e,r))):g(e,r))}function g(e,t){Zu(o),cu(s),void 0!==a&&a.removeEventListener("abort",l),e?f(t):h(void 0)}nu(Yc(((e,t)=>{!function r(n){n?e():Jc(!0===c?Xc(!0):Jc(o._readyPromise,(()=>Jc(Au(s),(e=>!0===e.done||(u=Jc(Ju(o,e.value),void 0,Uc),!1))))),r,t)}(!1)})))}))}class Ah{constructor(){throw new TypeError}get desiredSize(){if(!1===Sh(this))throw Dh("desiredSize");return Ih(this)}close(){if(!1===Sh(this))throw Dh("close");if(!1===Bh(this))throw new TypeError("The stream is not in a state that permits close");Mh(this)}enqueue(e){if(!1===Sh(this))throw Dh("enqueue");if(!1===Bh(this))throw new TypeError("The stream is not in a state that permits enqueue");return Rh(this,e)}error(e){if(!1===Sh(this))throw Dh("error");Ch(this,e)}[pu](e){Iu(this);const t=this._cancelAlgorithm(e);return Ph(this),t}[yu](){const e=this._controlledReadableStream;if(this._queue.length>0){const t=Ru(this);return!0===this._closeRequested&&0===this._queue.length?(Ph(this),yf(e)):Eh(this),Xc(au(t,!1,e._reader._forAuthorCode))}const t=gu(e);return Eh(this),t}}function Sh(e){return!!Kc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")}function Eh(e){!1!==xh(e)&&(!0!==e._pulling?(e._pulling=!0,Qc(e._pullAlgorithm(),(()=>{e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,Eh(e))}),(t=>{Ch(e,t)}))):e._pullAgain=!0)}function xh(e){const t=e._controlledReadableStream;return!1!==Bh(e)&&!1!==e._started&&(!0===df(t)&&wu(t)>0||Ih(e)>0)}function Ph(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Mh(e){const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(Ph(e),yf(t))}function Rh(e,t){const r=e._controlledReadableStream;if(!0===df(r)&&wu(r)>0)mu(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw Ch(e,t),t}try{Cu(e,t,r)}catch(t){throw Ch(e,t),t}}Eh(e)}function Ch(e,t){const r=e._controlledReadableStream;"readable"===r._state&&(Iu(e),Ph(e),bf(r,t))}function Ih(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Bh(e){const t=e._controlledReadableStream._state;return!1===e._closeRequested&&"readable"===t}function Uh(e,t,r,n,i,a,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Iu(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=a,t._pullAlgorithm=n,t._cancelAlgorithm=i,e._readableStreamController=t,Qc(Xc(r()),(()=>{t._started=!0,Eh(t)}),(e=>{Ch(t,e)}))}function Dh(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}const Th=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};class Kh{constructor(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}get view(){if(!1===Lh(this))throw ef("view");return this._view}respond(e){if(!1===Lh(this))throw ef("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(e,t){if(!1===zc(t=Number(t)))throw new RangeError("bytesWritten must be a finite");Yh(e,t)}(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!1===Lh(this))throw ef("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");e.buffer,function(e,t){const r=e._pendingPullIntos.peek();if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=t.buffer,Yh(e,t.byteLength)}(this._associatedReadableByteStreamController,e)}}class Oh{constructor(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}get byobRequest(){if(!1===zh(this))throw tf("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){const e=this._pendingPullIntos.peek(),t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),r=Object.create(Kh.prototype);!function(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}(r,this,t),this._byobRequest=r}return this._byobRequest}get desiredSize(){if(!1===zh(this))throw tf("desiredSize");return Qh(this)}close(){if(!1===zh(this))throw tf("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);!function(e){const t=e._controlledReadableByteStream;if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Jh(e,t),t}Zh(e),yf(t)}}(this)}enqueue(e){if(!1===zh(this))throw tf("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);if(!ArrayBuffer.isView(e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");e.buffer,function(e,t){const r=e._controlledReadableByteStream,n=t.buffer,i=t.byteOffset,a=t.byteLength,s=n;if(!0===vu(r))if(0===wu(r))jh(e,s,i,a);else{mu(r,new Uint8Array(s,i,a),!1)}else!0===af(r)?(jh(e,s,i,a),$h(e)):jh(e,s,i,a);Nh(e)}(this,e)}error(e){if(!1===zh(this))throw tf("error");Jh(this,e)}[pu](e){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),Iu(this);const t=this._cancelAlgorithm(e);return Zh(this),t}[yu](){const e=this._controlledReadableByteStream;if(this._queueTotalSize>0){const t=this._queue.shift();let r;this._queueTotalSize-=t.byteLength,Gh(this);try{r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}catch(e){return Zc(e)}return Xc(au(r,!1,e._reader._forAuthorCode))}const t=this._autoAllocateChunkSize;if(void 0!==t){let r;try{r=new ArrayBuffer(t)}catch(e){return Zc(e)}const n={buffer:r,byteOffset:0,byteLength:t,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}const r=gu(e);return Nh(this),r}}function zh(e){return!!Kc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")}function Lh(e){return!!Kc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function Nh(e){!1!==function(e){const t=e._controlledReadableByteStream;return"readable"===t._state&&(!0!==e._closeRequested&&(!1!==e._started&&(!0===vu(t)&&wu(t)>0||(!0===af(t)&&nf(t)>0||Qh(e)>0))))}(e)&&(!0!==e._pulling?(e._pulling=!0,Qc(e._pullAlgorithm(),(()=>{e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,Nh(e))}),(t=>{Jh(e,t)}))):e._pullAgain=!0)}function qh(e,t){let r=!1;"closed"===e._state&&(r=!0);const n=Fh(t);"default"===t.readerType?mu(e,n,r):function(e,t,r){const n=e._reader;n._readIntoRequests.shift()._resolve(au(t,r,n._forAuthorCode))}(e,n,r)}function Fh(e){const t=e.bytesFilled,r=e.elementSize;return new e.ctor(e.buffer,e.byteOffset,t/r)}function jh(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function Wh(e,t){const r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),a=t.bytesFilled+i,s=a-a%r;let o=i,c=!1;s>n&&(o=s-t.bytesFilled,c=!0);const u=e._queue;for(;o>0;){const r=u.peek(),n=Math.min(o,r.byteLength),i=t.byteOffset+t.bytesFilled;h=t.buffer,f=i,l=r.buffer,d=r.byteOffset,p=n,new Uint8Array(h).set(new Uint8Array(l,d,p),f),r.byteLength===n?u.shift():(r.byteOffset+=n,r.byteLength-=n),e._queueTotalSize-=n,Hh(e,n,t),o-=n}var h,f,l,d,p;return c}function Hh(e,t,r){Vh(e),r.bytesFilled+=t}function Gh(e){0===e._queueTotalSize&&!0===e._closeRequested?(Zh(e),yf(e._controlledReadableByteStream)):Nh(e)}function Vh(e){void 0!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=void 0,e._byobRequest=void 0)}function $h(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();!0===Wh(e,t)&&(Xh(e),qh(e._controlledReadableByteStream,t))}}function Yh(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(e,t){t.buffer=t.buffer;const r=e._controlledReadableByteStream;if(!0===af(r))for(;nf(r)>0;)qh(r,Xh(e))}(e,r)}else!function(e,t,r){if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range");if(Hh(e,t,r),r.bytesFilled<r.elementSize)return;Xh(e);const n=r.bytesFilled%r.elementSize;if(n>0){const t=r.byteOffset+r.bytesFilled,i=r.buffer.slice(t-n,t);jh(e,i,0,i.byteLength)}r.buffer=r.buffer,r.bytesFilled-=n,qh(e._controlledReadableByteStream,r),$h(e)}(e,t,r);Nh(e)}function Xh(e){const t=e._pendingPullIntos.shift();return Vh(e),t}function Zh(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Jh(e,t){const r=e._controlledReadableByteStream;"readable"===r._state&&(function(e){Vh(e),e._pendingPullIntos=new iu}(e),Iu(e),Zh(e),bf(r,t))}function Qh(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function ef(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function tf(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function rf(e){return Yc(((t,r)=>{const n={_resolve:t,_reject:r};e._reader._readIntoRequests.push(n)}))}function nf(e){return e._reader._readIntoRequests.length}function af(e){const t=e._reader;return void 0!==t&&!!of(t)}class sf{constructor(e){if(!lf(e))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===zh(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(df(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");su(this,e),this._readIntoRequests=new iu}get closed(){return of(this)?this._closedPromise:Zc(cf("closed"))}cancel(e){return of(this)?void 0===this._ownerReadableStream?Zc(uu("cancel")):ou(this,e):Zc(cf("cancel"))}read(e){return of(this)?void 0===this._ownerReadableStream?Zc(uu("read from")):ArrayBuffer.isView(e)?(e.buffer,0===e.byteLength?Zc(new TypeError("view must have non-zero byteLength")):function(e,t){const r=e._ownerReadableStream;return r._disturbed=!0,"errored"===r._state?Zc(r._storedError):function(e,t){const r=e._controlledReadableByteStream;let n=1;t.constructor!==DataView&&(n=t.constructor.BYTES_PER_ELEMENT);const i=t.constructor,a={buffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:n,ctor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(a),rf(r);if("closed"===r._state)return Xc(au(new i(a.buffer,a.byteOffset,0),!0,r._reader._forAuthorCode));if(e._queueTotalSize>0){if(!0===Wh(e,a)){const t=Fh(a);return Gh(e),Xc(au(t,!1,r._reader._forAuthorCode))}if(!0===e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return Jh(e,t),Zc(t)}}e._pendingPullIntos.push(a);const s=rf(r);return Nh(e),s}(r._readableStreamController,t)}(this,e)):Zc(new TypeError("view must be an array buffer view")):Zc(cf("read"))}releaseLock(){if(!of(this))throw cf("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");cu(this)}}}function of(e){return!!Kc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function cf(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}class uf{constructor(e={},t={}){ff(this);const r=t.size;let n=t.highWaterMark;const i=e.type;if("bytes"==i+""){if(void 0!==r)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===n&&(n=0),n=jc(n),function(e,t,r){const n=Object.create(Oh.prototype),i=Nc(t,"pull",0,[n]),a=Nc(t,"cancel",1,[]);let s=t.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===Th(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(e,t,r,n,i,a,s){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=void 0,t._queue=t._queueTotalSize=void 0,Iu(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=jc(a),t._pullAlgorithm=n,t._cancelAlgorithm=i,t._autoAllocateChunkSize=s,t._pendingPullIntos=new iu,e._readableStreamController=t,Qc(Xc(r()),(()=>{t._started=!0,Nh(t)}),(e=>{Jh(t,e)}))}(e,n,(function(){return qc(t,"start",[n])}),i,a,r,s)}(this,e,n)}else{if(void 0!==i)throw new RangeError("Invalid type is specified");{const t=Wc(r);void 0===n&&(n=1),n=jc(n),function(e,t,r,n){const i=Object.create(Ah.prototype),a=Nc(t,"pull",0,[i]),s=Nc(t,"cancel",1,[]);Uh(e,i,(function(){return qc(t,"start",[i])}),a,s,r,n)}(this,e,n,t)}}}get locked(){if(!1===lf(this))throw gf("locked");return df(this)}cancel(e){return!1===lf(this)?Zc(gf("cancel")):!0===df(this)?Zc(new TypeError("Cannot cancel a stream that already has a reader")):pf(this,e)}getReader({mode:e}={}){if(!1===lf(this))throw gf("getReader");if(void 0===e)return bu(this,!0);if("byob"==(e+=""))return function(e,t=!1){const r=new sf(e);return r._forAuthorCode=t,r}(this,!0);throw new RangeError("Invalid mode is specified")}pipeThrough({writable:e,readable:t},{preventClose:r,preventAbort:n,preventCancel:i,signal:a}={}){if(!1===lf(this))throw gf("pipeThrough");if(!1===Ou(e))throw new TypeError("writable argument to pipeThrough must be a WritableStream");if(!1===lf(t))throw new TypeError("readable argument to pipeThrough must be a ReadableStream");if(r=!!r,n=!!n,i=!!i,void 0!==a&&!wh(a))throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===df(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===zu(e))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return nu(kh(this,e,r,n,i,a)),t}pipeTo(e,{preventClose:t,preventAbort:r,preventCancel:n,signal:i}={}){return!1===lf(this)?Zc(gf("pipeTo")):!1===Ou(e)?Zc(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(t=!!t,r=!!r,n=!!n,void 0===i||wh(i)?!0===df(this)?Zc(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===zu(e)?Zc(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):kh(this,e,t,r,n,i):Zc(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))}tee(){if(!1===lf(this))throw gf("tee");const e=function(e,t){const r=bu(e);let n,i,a,s,o,c=!1,u=!1,h=!1;const f=Yc((e=>{o=e}));function l(){return!0===c||(c=!0,nu(ru(Au(r),(e=>{if(c=!1,!0===e.done)return!1===u&&Mh(a._readableStreamController),void(!1===h&&Mh(s._readableStreamController));const t=e.value,r=t,n=t;!1===u&&Rh(a._readableStreamController,r),!1===h&&Rh(s._readableStreamController,n)})))),Xc(void 0)}function d(){}return a=hf(d,l,(function(t){if(u=!0,n=t,!0===h){const t=Oc([n,i]),r=pf(e,t);o(r)}return f})),s=hf(d,l,(function(t){if(h=!0,i=t,!0===u){const t=Oc([n,i]),r=pf(e,t);o(r)}return f})),tu(r._closedPromise,(e=>{Ch(a._readableStreamController,e),Ch(s._readableStreamController,e)})),[a,s]}(this);return Oc(e)}getIterator({preventCancel:e=!1}={}){if(!1===lf(this))throw gf("getIterator");return function(e,t=!1){const r=bu(e),n=Object.create(xu);return n._asyncIteratorReader=r,n._preventCancel=!!t,n}(this,e)}}function hf(e,t,r,n=1,i=(()=>1)){const a=Object.create(uf.prototype);return ff(a),Uh(a,Object.create(Ah.prototype),e,t,r,n,i),a}function ff(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function lf(e){return!!Kc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function df(e){return void 0!==e._reader}function pf(e,t){return e._disturbed=!0,"closed"===e._state?Xc(void 0):"errored"===e._state?Zc(e._storedError):(yf(e),ru(e._readableStreamController[pu](t),Uc))}function yf(e){e._state="closed";const t=e._reader;void 0!==t&&(ku(t)&&(t._readRequests.forEach((e=>{e._resolve(au(void 0,!0,t._forAuthorCode))})),t._readRequests=new iu),du(t))}function bf(e,t){e._state="errored",e._storedError=t;const r=e._reader;void 0!==r&&(ku(r)?(r._readRequests.forEach((e=>{e._reject(t)})),r._readRequests=new iu):(r._readIntoRequests.forEach((e=>{e._reject(t)})),r._readIntoRequests=new iu),lu(r,t))}function gf(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function mf(e){return!!Kc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}function wf(e,t){Ch(e._readable._readableStreamController,t),vf(e,t)}function vf(e,t){Sf(e._transformStreamController),ih(e._writable._writableStreamController,t),!0===e._backpressure&&_f(e,!1)}function _f(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=Yc((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}"symbol"==typeof Bc.asyncIterator&&Object.defineProperty(uf.prototype,Bc.asyncIterator,{value:uf.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});class kf{constructor(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}get desiredSize(){if(!1===Af(this))throw Pf("desiredSize");return Ih(this._controlledTransformStream._readable._readableStreamController)}enqueue(e){if(!1===Af(this))throw Pf("enqueue");Ef(this,e)}error(e){if(!1===Af(this))throw Pf("error");var t;t=e,wf(this._controlledTransformStream,t)}terminate(){if(!1===Af(this))throw Pf("terminate");!function(e){const t=e._controlledTransformStream,r=t._readable._readableStreamController;!0===Bh(r)&&Mh(r),vf(t,new TypeError("TransformStream terminated"))}(this)}}function Af(e){return!!Kc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function Sf(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Ef(e,t){const r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!1===Bh(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{Rh(n,t)}catch(e){throw vf(r,e),r._readable._storedError}(function(e){return!0!==xh(e)})(n)!==r._backpressure&&_f(r,!0)}function xf(e,t){return ru(e._transformAlgorithm(t),void 0,(t=>{throw wf(e._controlledTransformStream,t),t}))}function Pf(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Mf(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}var Rf=Object.freeze({__proto__:null,ByteLengthQueuingStrategy:class{constructor({highWaterMark:e}){this.highWaterMark=e}size(e){return e.byteLength}},CountQueuingStrategy:class{constructor({highWaterMark:e}){this.highWaterMark=e}size(){return 1}},ReadableStream:uf,TransformStream:class{constructor(e={},t={},r={}){const n=t.size;let i=t.highWaterMark;const a=r.size;let s=r.highWaterMark;if(void 0!==e.writableType)throw new RangeError("Invalid writable type specified");const o=Wc(n);if(void 0===i&&(i=1),i=jc(i),void 0!==e.readableType)throw new RangeError("Invalid readable type specified");const c=Wc(a);let u;void 0===s&&(s=0),s=jc(s),function(e,t,r,n,i,a){function s(){return t}e._writable=function(e,t,r,n,i=1,a=(()=>1)){const s=Object.create(Du.prototype);return Ku(s),eh(s,Object.create(Qu.prototype),e,t,r,n,i,a),s}(s,(function(t){return function(e,t){const r=e._transformStreamController;return!0===e._backpressure?ru(e._backpressureChangePromise,(()=>{const n=e._writable;if("erroring"===n._state)throw n._storedError;return xf(r,t)})):xf(r,t)}(e,t)}),(function(){return function(e){const t=e._readable,r=e._transformStreamController,n=r._flushAlgorithm();return Sf(r),ru(n,(()=>{if("errored"===t._state)throw t._storedError;const e=t._readableStreamController;!0===Bh(e)&&Mh(e)}),(r=>{throw wf(e,r),t._storedError}))}(e)}),(function(t){return function(e,t){return wf(e,t),Xc(void 0)}(e,t)}),r,n),e._readable=hf(s,(function(){return function(e){return _f(e,!1),e._backpressureChangePromise}(e)}),(function(t){return vf(e,t),Xc(void 0)}),i,a),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,_f(e,!0),e._transformStreamController=void 0}(this,Yc((e=>{u=e})),i,o,s,c),function(e,t){const r=Object.create(kf.prototype);let n=e=>{try{return Ef(r,e),Xc(void 0)}catch(e){return Zc(e)}};const i=t.transform;if(void 0!==i){if("function"!=typeof i)throw new TypeError("transform is not a method");n=e=>Fc(i,t,[e,r])}const a=Nc(t,"flush",0,[r]);!function(e,t,r,n){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n}(e,r,n,a)}(this,e);const h=qc(e,"start",[this._transformStreamController]);u(h)}get readable(){if(!1===mf(this))throw Mf("readable");return this._readable}get writable(){if(!1===mf(this))throw Mf("writable");return this._writable}},WritableStream:Du}),Cf=function(e,t){return(Cf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function If(e,t){function r(){this.constructor=e}Cf(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function Bf(e){if(!e)throw new TypeError("Assertion failed")}function Uf(){}function Df(e){return"object"==typeof e&&null!==e||"function"==typeof e}function Tf(e){if("function"!=typeof e)return!1;var t=!1;try{new e({start:function(){t=!0}})}catch(e){}return t}function Kf(e){return!!Df(e)&&"function"==typeof e.getReader}function Of(e){return!!Df(e)&&"function"==typeof e.getWriter}function zf(e){return!!Df(e)&&!!Kf(e.readable)&&!!Of(e.writable)}function Lf(e){try{return e.getReader({mode:"byob"}).releaseLock(),!0}catch(e){return!1}}function Nf(e,t){var r=(void 0===t?{}:t).type;return Bf(Kf(e)),Bf(!1===e.locked),"bytes"===(r=qf(r))?new Hf(e):new jf(e)}function qf(e){var t=e+"";if("bytes"===t)return t;if(void 0===e)return e;throw new RangeError("Invalid type is specified")}var Ff=function(){function e(e){this._underlyingReader=void 0,this._readerMode=void 0,this._readableStreamController=void 0,this._pendingRead=void 0,this._underlyingStream=e,this._attachDefaultReader()}return e.prototype.start=function(e){this._readableStreamController=e},e.prototype.cancel=function(e){return Bf(void 0!==this._underlyingReader),this._underlyingReader.cancel(e)},e.prototype._attachDefaultReader=function(){if("default"!==this._readerMode){this._detachReader();var e=this._underlyingStream.getReader();this._readerMode="default",this._attachReader(e)}},e.prototype._attachReader=function(e){var t=this;Bf(void 0===this._underlyingReader),this._underlyingReader=e;var r=this._underlyingReader.closed;r&&r.then((function(){return t._finishPendingRead()})).then((function(){e===t._underlyingReader&&t._readableStreamController.close()}),(function(r){e===t._underlyingReader&&t._readableStreamController.error(r)})).catch(Uf)},e.prototype._detachReader=function(){void 0!==this._underlyingReader&&(this._underlyingReader.releaseLock(),this._underlyingReader=void 0,this._readerMode=void 0)},e.prototype._pullWithDefaultReader=function(){var e=this;this._attachDefaultReader();var t=this._underlyingReader.read().then((function(t){var r=e._readableStreamController;t.done?e._tryClose():r.enqueue(t.value)}));return this._setPendingRead(t),t},e.prototype._tryClose=function(){try{this._readableStreamController.close()}catch(e){}},e.prototype._setPendingRead=function(e){var t,r=this,n=function(){r._pendingRead===t&&(r._pendingRead=void 0)};this._pendingRead=t=e.then(n,n)},e.prototype._finishPendingRead=function(){var e=this;if(this._pendingRead){var t=function(){return e._finishPendingRead()};return this._pendingRead.then(t,t)}},e}(),jf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return If(t,e),t.prototype.pull=function(){return this._pullWithDefaultReader()},t}(Ff);function Wf(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var Hf=function(e){function t(t){var r=this,n=Lf(t);return(r=e.call(this,t)||this)._supportsByob=n,r}return If(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return"bytes"},enumerable:!0,configurable:!0}),t.prototype._attachByobReader=function(){if("byob"!==this._readerMode){Bf(this._supportsByob),this._detachReader();var e=this._underlyingStream.getReader({mode:"byob"});this._readerMode="byob",this._attachReader(e)}},t.prototype.pull=function(){if(this._supportsByob){var e=this._readableStreamController.byobRequest;if(void 0!==e)return this._pullWithByobRequest(e)}return this._pullWithDefaultReader()},t.prototype._pullWithByobRequest=function(e){var t=this;this._attachByobReader();var r=new Uint8Array(e.view.byteLength),n=this._underlyingReader.read(r).then((function(r){var n,i,a;t._readableStreamController,r.done?(t._tryClose(),e.respond(0)):(n=r.value,i=e.view,a=Wf(n),Wf(i).set(a,0),e.respond(r.value.byteLength))}));return this._setPendingRead(n),n},t}(Ff);function Gf(e){Bf(Of(e)),Bf(!1===e.locked);var t=e.getWriter();return new Vf(t)}var Vf=function(){function e(e){var t=this;this._writableStreamController=void 0,this._pendingWrite=void 0,this._state="writable",this._storedError=void 0,this._underlyingWriter=e,this._errorPromise=new Promise((function(e,r){t._errorPromiseReject=r})),this._errorPromise.catch(Uf)}return e.prototype.start=function(e){var t=this;this._writableStreamController=e,this._underlyingWriter.closed.then((function(){t._state="closed"})).catch((function(e){return t._finishErroring(e)}))},e.prototype.write=function(e){var t=this,r=this._underlyingWriter;if(null===r.desiredSize)return r.ready;var n=r.write(e);n.catch((function(e){return t._finishErroring(e)})),r.ready.catch((function(e){return t._startErroring(e)}));var i=Promise.race([n,this._errorPromise]);return this._setPendingWrite(i),i},e.prototype.close=function(){var e=this;return void 0===this._pendingWrite?this._underlyingWriter.close():this._finishPendingWrite().then((function(){return e.close()}))},e.prototype.abort=function(e){if("errored"!==this._state)return this._underlyingWriter.abort(e)},e.prototype._setPendingWrite=function(e){var t,r=this,n=function(){r._pendingWrite===t&&(r._pendingWrite=void 0)};this._pendingWrite=t=e.then(n,n)},e.prototype._finishPendingWrite=function(){var e=this;if(void 0===this._pendingWrite)return Promise.resolve();var t=function(){return e._finishPendingWrite()};return this._pendingWrite.then(t,t)},e.prototype._startErroring=function(e){var t=this;if("writable"===this._state){this._state="erroring",this._storedError=e;var r=function(){return t._finishErroring(e)};void 0===this._pendingWrite?r():this._finishPendingWrite().then(r,r),this._writableStreamController.error(e)}},e.prototype._finishErroring=function(e){"writable"===this._state&&this._startErroring(e),"erroring"===this._state&&(this._state="errored",this._errorPromiseReject(this._storedError))},e}();function $f(e){Bf(zf(e));var t=e.readable,r=e.writable;Bf(!1===t.locked),Bf(!1===r.locked);var n,i=t.getReader();try{n=r.getWriter()}catch(e){throw i.releaseLock(),e}return new Yf(i,n)}var Yf=function(){function e(e,t){var r=this;this._transformStreamController=void 0,this._onRead=function(e){if(!e.done)return r._transformStreamController.enqueue(e.value),r._reader.read().then(r._onRead)},this._onError=function(e){r._flushReject(e),r._transformStreamController.error(e),r._reader.cancel(e).catch(Uf),r._writer.abort(e).catch(Uf)},this._onTerminate=function(){r._flushResolve(),r._transformStreamController.terminate();var e=new TypeError("TransformStream terminated");r._writer.abort(e).catch(Uf)},this._reader=e,this._writer=t,this._flushPromise=new Promise((function(e,t){r._flushResolve=e,r._flushReject=t}))}return e.prototype.start=function(e){this._transformStreamController=e,this._reader.read().then(this._onRead).then(this._onTerminate,this._onError);var t=this._reader.closed;t&&t.then(this._onTerminate,this._onError)},e.prototype.transform=function(e){return this._writer.write(e)},e.prototype.flush=function(){var e=this;return this._writer.close().then((function(){return e._flushPromise}))},e}(),Xf=Object.freeze({__proto__:null,createReadableStreamWrapper:function(e){Bf(function(e){return!!Tf(e)&&!!Kf(new e)}(e));var t=function(e){try{return new e({type:"bytes"}),!0}catch(e){return!1}}(e);return function(r,n){var i=(void 0===n?{}:n).type;if("bytes"!==(i=qf(i))||t||(i=void 0),r.constructor===e&&("bytes"!==i||Lf(r)))return r;var a=Nf(r,{type:i});return new e(a)}},createTransformStreamWrapper:function(e){return Bf(function(e){return!!Tf(e)&&!!zf(new e)}(e)),function(t){if(t.constructor===e)return t;var r=$f(t);return new e(r)}},createWrappingReadableSource:Nf,createWrappingTransformer:$f,createWrappingWritableSink:Gf,createWritableStreamWrapper:function(e){return Bf(function(e){return!!Tf(e)&&!!Of(new e)}(e)),function(t){if(t.constructor===e)return t;var r=Gf(t);return new e(r)}}}),Zf=nt((function(e){!function(e,t){function r(e,t){if(!e)throw Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{a=void 0}catch(e){}function s(e,t,r){for(var n=0,i=Math.min(e.length,r),a=t;a<i;a++){var s=e.charCodeAt(a)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function o(e,t,r,n){for(var i=0,a=Math.min(e.length,r),s=t;s<a;s++){var o=e.charCodeAt(s)-48;i*=n,i+=o>=49?o-49+10:o>=17?o-17+10:o}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,s,o=0;if("be"===n)for(i=e.length-1,a=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===n)for(i=0,a=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this.strip()},i.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,a=0;for(r=e.length-6,n=0;r>=t;r-=6)i=s(e,r,r+6),this.words[n]|=i<<a&67108863,this.words[n+1]|=i>>>26-a&4194303,(a+=24)>=26&&(a-=26,n++);r+6!==t&&(i=s(e,t,r+6),this.words[n]|=i<<a&67108863,this.words[n+1]|=i>>>26-a&4194303),this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,s=a%n,c=Math.min(a,a-s)+r,u=0,h=r;h<c;h+=n)u=o(e,h,h+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=o(e,h,e.length,t),h=0;h<s;h++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},i.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],s=i*a,o=67108863&s,c=s/67108864|0;r.words[0]=o;for(var u=1;u<n;u++){for(var h=c>>>26,f=67108863&c,l=Math.min(u,t.length-1),d=Math.max(0,u-e.length+1);d<=l;d++){var p=u-d|0;h+=(s=(i=0|e.words[p])*(a=0|t.words[d])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,c=0|h}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,a=0,s=0;s<this.length;s++){var o=this.words[s],f=(16777215&(o<<i|a)).toString(16);n=0!=(a=o>>>24-i&16777215)||s!==this.length-1?c[6-f.length]+f+n:f+n,(i+=2)>=26&&(i-=26,s--)}for(0!==a&&(n=a.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=u[e],d=h[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?y+n:c[l-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(void 0!==a),this.toArrayLike(a,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),a=n||Math.max(1,i);r(i<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var s,o,c="le"===t,u=new e(a),h=this.clone();if(c){for(o=0;!h.isZero();o++)s=h.andln(255),h.iushrn(8),u[o]=s;for(;o<a;o++)u[o]=0}else{for(o=0;o<a-i;o++)u[o]=0;for(o=0;!h.isZero();o++)s=h.andln(255),h.iushrn(8),u[a-o-1]=s}return u},i.prototype._countBits=Math.clz32?function(e){return 32-Math.clz32(e)}:function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,s=0;s<n.length;s++)a=(t=(0|r.words[s])-(0|n.words[s])+a)>>26,this.words[s]=67108863&t;for(;0!==a&&s<r.length;s++)a=(t=(0|r.words[s])+a)>>26,this.words[s]=67108863&t;if(0===a&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var l=function(e,t,r){var n,i,a,s=e.words,o=t.words,c=r.words,u=0,h=0|s[0],f=8191&h,l=h>>>13,d=0|s[1],p=8191&d,y=d>>>13,b=0|s[2],g=8191&b,m=b>>>13,w=0|s[3],v=8191&w,_=w>>>13,k=0|s[4],A=8191&k,S=k>>>13,E=0|s[5],x=8191&E,P=E>>>13,M=0|s[6],R=8191&M,C=M>>>13,I=0|s[7],B=8191&I,U=I>>>13,D=0|s[8],T=8191&D,K=D>>>13,O=0|s[9],z=8191&O,L=O>>>13,N=0|o[0],q=8191&N,F=N>>>13,j=0|o[1],W=8191&j,H=j>>>13,G=0|o[2],V=8191&G,$=G>>>13,Y=0|o[3],X=8191&Y,Z=Y>>>13,J=0|o[4],Q=8191&J,ee=J>>>13,te=0|o[5],re=8191&te,ne=te>>>13,ie=0|o[6],ae=8191&ie,se=ie>>>13,oe=0|o[7],ce=8191&oe,ue=oe>>>13,he=0|o[8],fe=8191&he,le=he>>>13,de=0|o[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var be=(u+(n=Math.imul(f,q))|0)+((8191&(i=(i=Math.imul(f,F))+Math.imul(l,q)|0))<<13)|0;u=((a=Math.imul(l,F))+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,F))+Math.imul(y,q)|0,a=Math.imul(y,F);var ge=(u+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,H)|0)+Math.imul(l,W)|0))<<13)|0;u=((a=a+Math.imul(l,H)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,q),i=(i=Math.imul(g,F))+Math.imul(m,q)|0,a=Math.imul(m,F),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(y,W)|0,a=a+Math.imul(y,H)|0;var me=(u+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,$)|0)+Math.imul(l,V)|0))<<13)|0;u=((a=a+Math.imul(l,$)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(v,q),i=(i=Math.imul(v,F))+Math.imul(_,q)|0,a=Math.imul(_,F),n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,H)|0)+Math.imul(m,W)|0,a=a+Math.imul(m,H)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(y,V)|0,a=a+Math.imul(y,$)|0;var we=(u+(n=n+Math.imul(f,X)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(l,X)|0))<<13)|0;u=((a=a+Math.imul(l,Z)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(A,q),i=(i=Math.imul(A,F))+Math.imul(S,q)|0,a=Math.imul(S,F),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(_,W)|0,a=a+Math.imul(_,H)|0,n=n+Math.imul(g,V)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(m,V)|0,a=a+Math.imul(m,$)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(y,X)|0,a=a+Math.imul(y,Z)|0;var ve=(u+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(l,Q)|0))<<13)|0;u=((a=a+Math.imul(l,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(x,q),i=(i=Math.imul(x,F))+Math.imul(P,q)|0,a=Math.imul(P,F),n=n+Math.imul(A,W)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(S,W)|0,a=a+Math.imul(S,H)|0,n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,$)|0)+Math.imul(_,V)|0,a=a+Math.imul(_,$)|0,n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(m,X)|0,a=a+Math.imul(m,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,a=a+Math.imul(y,ee)|0;var _e=(u+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(l,re)|0))<<13)|0;u=((a=a+Math.imul(l,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(R,q),i=(i=Math.imul(R,F))+Math.imul(C,q)|0,a=Math.imul(C,F),n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,H)|0)+Math.imul(P,W)|0,a=a+Math.imul(P,H)|0,n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(S,V)|0,a=a+Math.imul(S,$)|0,n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(_,X)|0,a=a+Math.imul(_,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(m,Q)|0,a=a+Math.imul(m,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,a=a+Math.imul(y,ne)|0;var ke=(u+(n=n+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,se)|0)+Math.imul(l,ae)|0))<<13)|0;u=((a=a+Math.imul(l,se)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(B,q),i=(i=Math.imul(B,F))+Math.imul(U,q)|0,a=Math.imul(U,F),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(C,W)|0,a=a+Math.imul(C,H)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,$)|0)+Math.imul(P,V)|0,a=a+Math.imul(P,$)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(S,X)|0,a=a+Math.imul(S,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(_,Q)|0,a=a+Math.imul(_,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(m,re)|0,a=a+Math.imul(m,ne)|0,n=n+Math.imul(p,ae)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,ae)|0,a=a+Math.imul(y,se)|0;var Ae=(u+(n=n+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((a=a+Math.imul(l,ue)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(T,q),i=(i=Math.imul(T,F))+Math.imul(K,q)|0,a=Math.imul(K,F),n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,H)|0)+Math.imul(U,W)|0,a=a+Math.imul(U,H)|0,n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,$)|0)+Math.imul(C,V)|0,a=a+Math.imul(C,$)|0,n=n+Math.imul(x,X)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(P,X)|0,a=a+Math.imul(P,Z)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(S,Q)|0,a=a+Math.imul(S,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(_,re)|0,a=a+Math.imul(_,ne)|0,n=n+Math.imul(g,ae)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,se)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(y,ce)|0,a=a+Math.imul(y,ue)|0;var Se=(u+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,le)|0)+Math.imul(l,fe)|0))<<13)|0;u=((a=a+Math.imul(l,le)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(z,q),i=(i=Math.imul(z,F))+Math.imul(L,q)|0,a=Math.imul(L,F),n=n+Math.imul(T,W)|0,i=(i=i+Math.imul(T,H)|0)+Math.imul(K,W)|0,a=a+Math.imul(K,H)|0,n=n+Math.imul(B,V)|0,i=(i=i+Math.imul(B,$)|0)+Math.imul(U,V)|0,a=a+Math.imul(U,$)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(C,X)|0,a=a+Math.imul(C,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(P,Q)|0,a=a+Math.imul(P,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(S,re)|0,a=a+Math.imul(S,ne)|0,n=n+Math.imul(v,ae)|0,i=(i=i+Math.imul(v,se)|0)+Math.imul(_,ae)|0,a=a+Math.imul(_,se)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,ue)|0)+Math.imul(m,ce)|0,a=a+Math.imul(m,ue)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(y,fe)|0,a=a+Math.imul(y,le)|0;var Ee=(u+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ye)|0)+Math.imul(l,pe)|0))<<13)|0;u=((a=a+Math.imul(l,ye)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(z,W),i=(i=Math.imul(z,H))+Math.imul(L,W)|0,a=Math.imul(L,H),n=n+Math.imul(T,V)|0,i=(i=i+Math.imul(T,$)|0)+Math.imul(K,V)|0,a=a+Math.imul(K,$)|0,n=n+Math.imul(B,X)|0,i=(i=i+Math.imul(B,Z)|0)+Math.imul(U,X)|0,a=a+Math.imul(U,Z)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(C,Q)|0,a=a+Math.imul(C,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(P,re)|0,a=a+Math.imul(P,ne)|0,n=n+Math.imul(A,ae)|0,i=(i=i+Math.imul(A,se)|0)+Math.imul(S,ae)|0,a=a+Math.imul(S,se)|0,n=n+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,ue)|0)+Math.imul(_,ce)|0,a=a+Math.imul(_,ue)|0,n=n+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(m,fe)|0,a=a+Math.imul(m,le)|0;var xe=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;u=((a=a+Math.imul(y,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(z,V),i=(i=Math.imul(z,$))+Math.imul(L,V)|0,a=Math.imul(L,$),n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(K,X)|0,a=a+Math.imul(K,Z)|0,n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(U,Q)|0,a=a+Math.imul(U,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(C,re)|0,a=a+Math.imul(C,ne)|0,n=n+Math.imul(x,ae)|0,i=(i=i+Math.imul(x,se)|0)+Math.imul(P,ae)|0,a=a+Math.imul(P,se)|0,n=n+Math.imul(A,ce)|0,i=(i=i+Math.imul(A,ue)|0)+Math.imul(S,ce)|0,a=a+Math.imul(S,ue)|0,n=n+Math.imul(v,fe)|0,i=(i=i+Math.imul(v,le)|0)+Math.imul(_,fe)|0,a=a+Math.imul(_,le)|0;var Pe=(u+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,ye)|0)+Math.imul(m,pe)|0))<<13)|0;u=((a=a+Math.imul(m,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(z,X),i=(i=Math.imul(z,Z))+Math.imul(L,X)|0,a=Math.imul(L,Z),n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(K,Q)|0,a=a+Math.imul(K,ee)|0,n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(U,re)|0,a=a+Math.imul(U,ne)|0,n=n+Math.imul(R,ae)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(C,ae)|0,a=a+Math.imul(C,se)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(P,ce)|0,a=a+Math.imul(P,ue)|0,n=n+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,le)|0)+Math.imul(S,fe)|0,a=a+Math.imul(S,le)|0;var Me=(u+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(_,pe)|0))<<13)|0;u=((a=a+Math.imul(_,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(z,Q),i=(i=Math.imul(z,ee))+Math.imul(L,Q)|0,a=Math.imul(L,ee),n=n+Math.imul(T,re)|0,i=(i=i+Math.imul(T,ne)|0)+Math.imul(K,re)|0,a=a+Math.imul(K,ne)|0,n=n+Math.imul(B,ae)|0,i=(i=i+Math.imul(B,se)|0)+Math.imul(U,ae)|0,a=a+Math.imul(U,se)|0,n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(C,ce)|0,a=a+Math.imul(C,ue)|0,n=n+Math.imul(x,fe)|0,i=(i=i+Math.imul(x,le)|0)+Math.imul(P,fe)|0,a=a+Math.imul(P,le)|0;var Re=(u+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,ye)|0)+Math.imul(S,pe)|0))<<13)|0;u=((a=a+Math.imul(S,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(z,re),i=(i=Math.imul(z,ne))+Math.imul(L,re)|0,a=Math.imul(L,ne),n=n+Math.imul(T,ae)|0,i=(i=i+Math.imul(T,se)|0)+Math.imul(K,ae)|0,a=a+Math.imul(K,se)|0,n=n+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,ue)|0)+Math.imul(U,ce)|0,a=a+Math.imul(U,ue)|0,n=n+Math.imul(R,fe)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(C,fe)|0,a=a+Math.imul(C,le)|0;var Ce=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ye)|0)+Math.imul(P,pe)|0))<<13)|0;u=((a=a+Math.imul(P,ye)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(z,ae),i=(i=Math.imul(z,se))+Math.imul(L,ae)|0,a=Math.imul(L,se),n=n+Math.imul(T,ce)|0,i=(i=i+Math.imul(T,ue)|0)+Math.imul(K,ce)|0,a=a+Math.imul(K,ue)|0,n=n+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,le)|0)+Math.imul(U,fe)|0,a=a+Math.imul(U,le)|0;var Ie=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ye)|0)+Math.imul(C,pe)|0))<<13)|0;u=((a=a+Math.imul(C,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(z,ce),i=(i=Math.imul(z,ue))+Math.imul(L,ce)|0,a=Math.imul(L,ue),n=n+Math.imul(T,fe)|0,i=(i=i+Math.imul(T,le)|0)+Math.imul(K,fe)|0,a=a+Math.imul(K,le)|0;var Be=(u+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,ye)|0)+Math.imul(U,pe)|0))<<13)|0;u=((a=a+Math.imul(U,ye)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(z,fe),i=(i=Math.imul(z,le))+Math.imul(L,fe)|0,a=Math.imul(L,le);var Ue=(u+(n=n+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,ye)|0)+Math.imul(K,pe)|0))<<13)|0;u=((a=a+Math.imul(K,ye)|0)+(i>>>13)|0)+(Ue>>>26)|0,Ue&=67108863;var De=(u+(n=Math.imul(z,pe))|0)+((8191&(i=(i=Math.imul(z,ye))+Math.imul(L,pe)|0))<<13)|0;return u=((a=Math.imul(L,ye))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,c[0]=be,c[1]=ge,c[2]=me,c[3]=we,c[4]=ve,c[5]=_e,c[6]=ke,c[7]=Ae,c[8]=Se,c[9]=Ee,c[10]=xe,c[11]=Pe,c[12]=Me,c[13]=Re,c[14]=Ce,c[15]=Ie,c[16]=Be,c[17]=Ue,c[18]=De,0!==u&&(c[19]=u,r.length++),r};function d(e,t,r){return(new p).mulp(e,t,r)}function p(e,t){this.x=e,this.y=t}Math.imul||(l=f),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?l(this,e,t):r<63?f(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var s=i;i=0;for(var o=67108863&n,c=Math.min(a,t.length-1),u=Math.max(0,a-e.length+1);u<=c;u++){var h=a-u,f=(0|e.words[h])*(0|t.words[u]),l=67108863&f;o=67108863&(l=l+o|0),i+=(s=(s=s+(f/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[a]=o,n=s,s=i}return 0!==n?r.words[a]=n:r.length--,r.strip()}(this,e,t):d(this,e,t)},p.prototype.makeRBT=function(e){for(var t=Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},p.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},p.prototype.permute=function(e,t,r,n,i,a){for(var s=0;s<a;s++)n[s]=t[e[s]],i[s]=r[e[s]]},p.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var o=s<<1,c=Math.cos(2*Math.PI/o),u=Math.sin(2*Math.PI/o),h=0;h<i;h+=o)for(var f=c,l=u,d=0;d<s;d++){var p=r[h+d],y=n[h+d],b=r[h+d+s],g=n[h+d+s],m=f*b-l*g;g=f*g+l*b,b=m,r[h+d]=p+b,n[h+d]=y+g,r[h+d+s]=p-b,n[h+d+s]=y-g,d!==o&&(m=c*f-u*l,l=c*l+u*f,f=m)}},p.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},p.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},p.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},p.prototype.convert13b=function(e,t,n,i){for(var a=0,s=0;s<t;s++)a+=0|e[s],n[2*s]=8191&a,a>>>=13,n[2*s+1]=8191&a,a>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===a),r(0==(-8192&a))},p.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},p.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),s=Array(n),o=Array(n),c=Array(n),u=Array(n),h=Array(n),f=Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,a,o,c,n,i),this.transform(u,a,h,f,n,i);for(var d=0;d<n;d++){var p=o[d]*h[d]-c[d]*f[d];c[d]=o[d]*f[d]+c[d]*h[d],o[d]=p}return this.conjugate(o,c,n),this.transform(o,c,l,a,n,i),this.conjugate(l,a,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=Array(this.length+e.length),d(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,a=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=a>>>26,this.words[n]=67108863&a}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var a=r.sqr();n<t.length;n++,a=a.sqr())0!==t[n]&&(r=r.mul(a));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,a=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<n;this.words[t]=c|s,s=o>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,s=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=n;if(i=Math.max(0,i-=s),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var h=0;for(u=this.length-1;u>=0&&(0!==h||u>=i);u--){var f=0|this.words[u];this.words[u]=h<<26-a|f>>>a,h=f&o}return c&&0!==h&&(c.words[c.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,a,s=e.length+n;this._expand(s);var o=0;for(i=0;i<e.length;i++){a=(0|this.words[i+n])+o;var c=(0|e.words[i])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)o=(a=(0|this.words[i+n])+o)>>26,this.words[i+n]=67108863&a;if(0===o)return this.strip();for(r(-1===o),o=0,i=0;i<this.length;i++)o=(a=-(0|this.words[i])+o)>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),a=e,s=0|a.words[a.length-1];0!=(r=26-this._countBits(s))&&(a=a.ushln(r),n.iushln(r),s=0|a.words[a.length-1]);var o,c=n.length-a.length;if("mod"!==t){(o=new i(null)).length=c+1,o.words=Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var h=n.clone()._ishlnsubmul(a,1,c);0===h.negative&&(n=h,o&&(o.words[c]=1));for(var f=c-1;f>=0;f--){var l=67108864*(0|n.words[a.length+f])+(0|n.words[a.length+f-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(a,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(a,1,f),n.isZero()||(n.negative^=1);o&&(o.words[f]=l)}return o&&o.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(a=o.div.neg()),"div"!==t&&(s=o.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:a,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(a=o.div.neg()),{div:a,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(s=o.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var a,s,o},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),s=new i(0),o=new i(0),c=new i(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var h=n.clone(),f=t.clone();!t.isZero();){for(var l=0,d=1;0==(t.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(h),s.isub(f)),a.iushrn(1),s.iushrn(1);for(var p=0,y=1;0==(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(h),c.isub(f)),o.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(o),s.isub(c)):(n.isub(t),o.isub(a),c.isub(s))}return{a:o,b:c,gcd:n.iushln(u)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,s=new i(1),o=new i(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,h=1;0==(t.words[0]&h)&&u<26;++u,h<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var f=0,l=1;0==(n.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(n.iushrn(f);f-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(n)>=0?(t.isub(n),s.isub(o)):(n.isub(t),o.isub(s))}return(a=0===t.cmpn(1)?s:o).cmpn(0)<0&&a.iadd(e),a},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var a=i,s=n;0!==a&&s<this.length;s++){var o=0|this.words[s];a=(o+=a)>>>26,o&=67108863,this.words[s]=o}return 0!==a&&(this.words[s]=a,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new _(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function m(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new i(null);return e.words=Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},n(g,b),g.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,n=10;n<e.length;n++){var a=0|e.words[n];e.words[n-10]=(4194303&a)<<4|i>>>22,i=a}i>>>=22,e.words[n-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},g.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(m,b),n(w,b),n(v,b),v.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new g;else if("p224"===e)t=new m;else if("p192"===e)t=new w;else{if("p25519"!==e)throw Error("Unknown prime "+e);t=new v}return y[e]=t,t},_.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,a.iushrn(1);r(!a.isZero());var o=new i(1).toRed(this),c=o.redNeg(),u=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new i(2*h*h).toRed(this);0!==this.pow(h,u).cmp(c);)h.redIAdd(c);for(var f=this.pow(h,a),l=this.pow(e,a.addn(1).iushrn(1)),d=this.pow(e,a),p=s;0!==d.cmp(o);){for(var y=d,b=0;0!==y.cmp(o);b++)y=y.redSqr();r(b<p);var g=this.pow(f,new i(1).iushln(p-b-1));l=l.redMul(g),f=g.redSqr(),d=d.redMul(f),p=b}return l},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var a=r[0],s=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],h=c-1;h>=0;h--){var f=u>>h&1;a!==r[0]&&(a=this.sqr(a)),0!==f||0!==s?(s<<=1,s|=f,(4==++o||0===n&&0===h)&&(a=this.mul(a,r[s]),o=0,s=0)):o=0}c=26}return a},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new k(e)},n(k,_),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),s=a;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,rt)})),Jf=Object.freeze({__proto__:null,default:Zf,__moduleExports:Zf});class Qf{constructor(e){if(void 0===e)throw Error("Invalid BigInteger input");this.value=new Zf(e)}clone(){const e=new Qf(null);return this.value.copy(e.value),e}iinc(){return this.value.iadd(new Zf(1)),this}inc(){return this.clone().iinc()}idec(){return this.value.isub(new Zf(1)),this}dec(){return this.clone().idec()}iadd(e){return this.value.iadd(e.value),this}add(e){return this.clone().iadd(e)}isub(e){return this.value.isub(e.value),this}sub(e){return this.clone().isub(e)}imul(e){return this.value.imul(e.value),this}mul(e){return this.clone().imul(e)}imod(e){return this.value=this.value.umod(e.value),this}mod(e){return this.clone().imod(e)}modExp(e,t){const r=t.isEven()?Zf.red(t.value):Zf.mont(t.value),n=this.clone();return n.value=n.value.toRed(r).redPow(e.value).fromRed(),n}modInv(e){if(!this.gcd(e).isOne())throw Error("Inverse does not exist");return new Qf(this.value.invm(e.value))}gcd(e){return new Qf(this.value.gcd(e.value))}ileftShift(e){return this.value.ishln(e.value.toNumber()),this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value.ishrn(e.value.toNumber()),this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value.eq(e.value)}lt(e){return this.value.lt(e.value)}lte(e){return this.value.lte(e.value)}gt(e){return this.value.gt(e.value)}gte(e){return this.value.gte(e.value)}isZero(){return this.value.isZero()}isOne(){return this.value.eq(new Zf(1))}isNegative(){return this.value.isNeg()}isEven(){return this.value.isEven()}abs(){const e=this.clone();return e.value=e.value.abs(),e}toString(){return this.value.toString()}toNumber(){return this.value.toNumber()}getBit(e){return this.value.testn(e)?1:0}bitLength(){return this.value.bitLength()}byteLength(){return this.value.byteLength()}toUint8Array(e="be",t){return this.value.toArrayLike(Uint8Array,e,t)}}var el,tl=Object.freeze({__proto__:null,default:Qf}),rl=nt((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),a=i>>8,s=255&i;a?r.push(a,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),nl=nt((function(e,t){var r=t;r.assert=et,r.toArray=rl.toArray,r.zero2=rl.zero2,r.toHex=rl.toHex,r.encode=rl.encode,r.getNAF=function(e,t){for(var r=[],n=1<<t+1,i=e.clone();i.cmpn(1)>=0;){var a;if(i.isOdd()){var s=i.andln(n-1);a=s>(n>>1)-1?(n>>1)-s:s,i.isubn(a)}else a=0;r.push(a);for(var o=0!==i.cmpn(0)&&0===i.andln(n-1)?t+1:1,c=1;c<o;c++)r.push(0);i.iushrn(o)}return r},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var a,s,o,c=e.andln(3)+n&3,u=t.andln(3)+i&3;3===c&&(c=-1),3===u&&(u=-1),a=0==(1&c)?0:3!=(o=e.andln(7)+n&7)&&5!==o||2!==u?c:-c,r[0].push(a),s=0==(1&u)?0:3!=(o=t.andln(7)+i&7)&&5!==o||2!==c?u:-u,r[1].push(s),2*n===a+1&&(n=1-n),2*i===s+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new Zf(e,"hex","le")}})),il=function(e){return el||(el=new al(null)),el.generate(e)};function al(e){this.rand=e}var sl=al;if(al.prototype.generate=function(e){return this._rand(e)},al.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?al.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?al.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(al.prototype._rand=function(){throw Error("Not implemented yet")});else try{if("function"!=typeof(void 0).randomBytes)throw Error("Not supported");al.prototype._rand=function(e){return(void 0).randomBytes(e)}}catch(n){}il.Rand=sl;var ol=nl.getNAF,cl=nl.getJSF,ul=nl.assert;function hl(e,t){this.type=e,this.p=new Zf(t.p,16),this.red=t.prime?Zf.red(t.prime):Zf.mont(this.p),this.zero=new Zf(0).toRed(this.red),this.one=new Zf(1).toRed(this.red),this.two=new Zf(2).toRed(this.red),this.n=t.n&&new Zf(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,];var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var fl=hl;function ll(e,t){this.curve=e,this.type=t,this.precomputed=null}hl.prototype.point=function(){throw Error("Not implemented")},hl.prototype.validate=function(){throw Error("Not implemented")},hl.prototype._fixedNafMul=function(e,t){ul(e.precomputed);var r=e._getDoubles(),n=ol(t,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var a=[],s=0;s<n.length;s+=r.step){var o=0;for(t=s+r.step-1;t>=s;t--)o=(o<<1)+n[t];a.push(o)}for(var c=this.jpoint(null,null,null),u=this.jpoint(null,null,null),h=i;h>0;h--){for(s=0;s<a.length;s++)(o=a[s])===h?u=u.mixedAdd(r.points[s]):o===-h&&(u=u.mixedAdd(r.points[s].neg()));c=c.add(u)}return c.toP()},hl.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=ol(t,r),s=this.jpoint(null,null,null),o=a.length-1;o>=0;o--){for(t=0;o>=0&&0===a[o];o--)t++;if(o>=0&&t++,s=s.dblp(t),o<0)break;var c=a[o];ul(0!==c),s="affine"===e.type?c>0?s.mixedAdd(i[c-1>>1]):s.mixedAdd(i[-c-1>>1].neg()):c>0?s.add(i[c-1>>1]):s.add(i[-c-1>>1].neg())}return"affine"===e.type?s.toP():s},hl.prototype._wnafMulAdd=function(e,t,r,n,i){for(var a=this._wnafT1,s=this._wnafT2,o=this._wnafT3,c=0,u=0;u<n;u++){var h=(A=t[u])._getNAFPoints(e);a[u]=h.wnd,s[u]=h.points}for(u=n-1;u>=1;u-=2){var f=u-1,l=u;if(1===a[f]&&1===a[l]){var d=[t[f],null,null,t[l]];0===t[f].y.cmp(t[l].y)?(d[1]=t[f].add(t[l]),d[2]=t[f].toJ().mixedAdd(t[l].neg())):0===t[f].y.cmp(t[l].y.redNeg())?(d[1]=t[f].toJ().mixedAdd(t[l]),d[2]=t[f].add(t[l].neg())):(d[1]=t[f].toJ().mixedAdd(t[l]),d[2]=t[f].toJ().mixedAdd(t[l].neg()));var p=[-3,-1,-5,-7,0,7,5,1,3],y=cl(r[f],r[l]);c=Math.max(y[0].length,c),o[f]=Array(c),o[l]=Array(c);for(var b=0;b<c;b++){var g=0|y[0][b],m=0|y[1][b];o[f][b]=p[3*(g+1)+(m+1)],o[l][b]=0,s[f]=d}}else o[f]=ol(r[f],a[f]),o[l]=ol(r[l],a[l]),c=Math.max(o[f].length,c),c=Math.max(o[l].length,c)}var w=this.jpoint(null,null,null),v=this._wnafT4;for(u=c;u>=0;u--){for(var _=0;u>=0;){var k=!0;for(b=0;b<n;b++)v[b]=0|o[b][u],0!==v[b]&&(k=!1);if(!k)break;_++,u--}if(u>=0&&_++,w=w.dblp(_),u<0)break;for(b=0;b<n;b++){var A,S=v[b];0!==S&&(S>0?A=s[b][S-1>>1]:S<0&&(A=s[b][-S-1>>1].neg()),w="affine"===A.type?w.mixedAdd(A):w.add(A))}}for(u=0;u<n;u++)s[u]=null;return i?w:w.toP()},hl.BasePoint=ll,ll.prototype.eq=function(){throw Error("Not implemented")},ll.prototype.validate=function(){return this.curve.validate(this)},hl.prototype.decodePoint=function(e,t){e=nl.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?ul(e[e.length-1]%2==0):7===e[0]&&ul(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},ll.prototype.encodeCompressed=function(e){return this.encode(e,!0)},ll.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},ll.prototype.encode=function(e,t){return nl.encode(this._encode(t),e)},ll.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},ll.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},ll.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)n=n.dbl();r.push(n)}return{step:e,points:r}},ll.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},ll.prototype._getBeta=function(){return null},ll.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var dl=nl.assert;function pl(e){fl.call(this,"short",e),this.a=new Zf(e.a,16).toRed(this.red),this.b=new Zf(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}it(pl,fl);var yl=pl;function bl(e,t,r,n){fl.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new Zf(t,16),this.y=new Zf(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function gl(e,t,r,n){fl.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Zf(0)):(this.x=new Zf(t,16),this.y=new Zf(r,16),this.z=new Zf(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}function ml(e){fl.call(this,"mont",e),this.a=new Zf(e.a,16).toRed(this.red),this.b=new Zf(e.b,16).toRed(this.red),this.i4=new Zf(4).toRed(this.red).redInvm(),this.two=new Zf(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}pl.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new Zf(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new Zf(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],dl(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new Zf(e.a,16),b:new Zf(e.b,16)}})):this._getEndoBasis(r)}}},pl.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Zf.mont(e),r=new Zf(2).toRed(t).redInvm(),n=r.redNeg(),i=new Zf(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},pl.prototype._getEndoBasis=function(e){for(var t,r,n,i,a,s,o,c,u,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,l=this.n.clone(),d=new Zf(1),p=new Zf(0),y=new Zf(0),b=new Zf(1),g=0;0!==f.cmpn(0);){var m=l.div(f);c=l.sub(m.mul(f)),u=y.sub(m.mul(d));var w=b.sub(m.mul(p));if(!n&&c.cmp(h)<0)t=o.neg(),r=d,n=c.neg(),i=u;else if(n&&2==++g)break;o=c,l=f,f=c,y=d,d=u,b=p,p=w}a=c.neg(),s=u;var v=n.sqr().add(i.sqr());return a.sqr().add(s.sqr()).cmp(v)>=0&&(a=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:n,b:i},{a,b:s}]},pl.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),o=a.mul(n.a),c=i.mul(r.b),u=a.mul(n.b);return{k1:e.sub(s).sub(o),k2:c.add(u).neg()}},pl.prototype.pointFromX=function(e,t){(e=new Zf(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},pl.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},pl.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var s=this._endoSplit(t[a]),o=e[a],c=o._getBeta();s.k1.negative&&(s.k1.ineg(),o=o.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*a]=o,n[2*a+1]=c,i[2*a]=s.k1,i[2*a+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*a,r),h=0;h<2*a;h++)n[h]=null,i[h]=null;return u},it(bl,fl.BasePoint),pl.prototype.point=function(e,t,r){return new bl(this,e,t,r)},pl.prototype.pointFromJSON=function(e,t){return bl.fromJSON(this,e,t)},bl.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},bl.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},bl.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var a=t[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(i))}},n},bl.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},bl.prototype.isInfinity=function(){return this.inf},bl.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},bl.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),a=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)},bl.prototype.getX=function(){return this.x.fromRed()},bl.prototype.getY=function(){return this.y.fromRed()},bl.prototype.mul=function(e){return e=new Zf(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},bl.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},bl.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},bl.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},bl.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},bl.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},it(gl,fl.BasePoint),pl.prototype.jpoint=function(e,t,r){return new gl(this,e,t,r)},gl.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},gl.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},gl.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),o=n.redSub(i),c=a.redSub(s);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),h=u.redMul(o),f=n.redMul(u),l=c.redSqr().redIAdd(h).redISub(f).redISub(f),d=c.redMul(f.redISub(l)).redISub(a.redMul(h)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(l,d,p)},gl.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),s=r.redSub(n),o=i.redSub(a);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),h=r.redMul(c),f=o.redSqr().redIAdd(u).redISub(h).redISub(h),l=o.redMul(h.redISub(f)).redISub(i.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(f,l,d)},gl.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,a=this.x,s=this.y,o=this.z,c=o.redSqr().redSqr(),u=s.redAdd(s);for(r=0;r<e;r++){var h=a.redSqr(),f=u.redSqr(),l=f.redSqr(),d=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(c)),p=a.redMul(f),y=d.redSqr().redISub(p.redAdd(p)),b=p.redISub(y),g=d.redMul(b);g=g.redIAdd(g).redISub(l);var m=u.redMul(o);r+1<e&&(c=c.redMul(l)),a=y,o=m,u=g}return this.curve.jpoint(a,u.redMul(i),o)},gl.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},gl.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(a);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n),c=o.redSqr().redISub(s).redISub(s),u=a.redIAdd(a);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=o.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),f=this.y.redSqr(),l=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(h).redISub(l);d=d.redIAdd(d);var p=h.redAdd(h).redIAdd(h),y=p.redSqr(),b=l.redIAdd(l);b=(b=b.redIAdd(b)).redIAdd(b),e=y.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(b),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},gl.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(a);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=o.redSqr().redISub(s).redISub(s);e=c;var u=a.redIAdd(a);u=(u=u.redIAdd(u)).redIAdd(u),t=o.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),f=this.y.redSqr(),l=this.x.redMul(f),d=this.x.redSub(h).redMul(this.x.redAdd(h));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),y=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(h);var b=f.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),t=d.redMul(p.redISub(e)).redISub(b)}return this.curve.jpoint(e,t,r)},gl.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),a=t.redSqr(),s=r.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),h=o.redSqr().redISub(u.redAdd(u)),f=u.redISub(h),l=s.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=o.redMul(f).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(h,d,p)},gl.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),o=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(a)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(s).redSqr().redISub(a).redISub(o).redISub(c),h=t.redMul(u);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.x.redMul(o).redISub(h);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(o)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(o);return this.curve.jpoint(f,l,d)},gl.prototype.mul=function(e,t){return e=new Zf(e,t),this.curve._wnafMul(this,e)},gl.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},gl.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},gl.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},gl.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},it(ml,fl);var wl=ml;function vl(e,t,r){fl.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Zf(t,16),this.z=new Zf(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}ml.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},it(vl,fl.BasePoint),ml.prototype.decodePoint=function(e,t){if(33===(e=nl.toArray(e,t)).length&&64===e[0]&&(e=e.slice(1,33).reverse()),32!==e.length)throw Error("Unknown point compression format");return this.point(e,1)},ml.prototype.point=function(e,t){return new vl(this,e,t)},ml.prototype.pointFromJSON=function(e){return vl.fromJSON(this,e)},vl.prototype.precompute=function(){},vl.prototype._encode=function(e){var t=this.curve.p.byteLength();return e?[64].concat(this.getX().toArray("le",t)):this.getX().toArray("be",t)},vl.fromJSON=function(e,t){return new vl(e,t[0],t[1]||e.one)},vl.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},vl.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},vl.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},vl.prototype.add=function(){throw Error("Not supported on Montgomery curve")},vl.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(r),s=i.redMul(n),o=t.z.redMul(a.redAdd(s).redSqr()),c=t.x.redMul(a.redISub(s).redSqr());return this.curve.point(o,c)},vl.prototype.mul=function(e){for(var t=(e=new Zf(e,16)).clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var a=i.length-1;a>=0;a--)0===i[a]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},vl.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},vl.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},vl.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},vl.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},vl.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var _l=nl.assert;function kl(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,fl.call(this,"edwards",e),this.a=new Zf(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Zf(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Zf(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),_l(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}it(kl,fl);var Al=kl;function Sl(e,t,r,n,i){fl.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Zf(t,16),this.y=new Zf(r,16),this.z=n?new Zf(n,16):this.curve.one,this.t=i&&new Zf(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}kl.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},kl.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},kl.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},kl.prototype.pointFromX=function(e,t){(e=new Zf(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(i.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw Error("invalid point");var o=s.fromRed().isOdd();return(t&&!o||!t&&o)&&(s=s.redNeg()),this.point(e,s)},kl.prototype.pointFromY=function(e,t){(e=new Zf(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(i.redInvm());if(0===a.cmp(this.zero)){if(t)throw Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},kl.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},it(Sl,fl.BasePoint),kl.prototype.pointFromJSON=function(e){return Sl.fromJSON(this,e)},kl.prototype.point=function(e,t,r,n){return new Sl(this,e,t,r,n)},Sl.fromJSON=function(e,t){return new Sl(e,t[0],t[1],t[2])},Sl.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Sl.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},Sl.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=n.redAdd(t),s=a.redSub(r),o=n.redSub(t),c=i.redMul(s),u=a.redMul(o),h=i.redMul(o),f=s.redMul(a);return this.curve.point(c,u,f,h)},Sl.prototype._projDbl=function(){var e,t,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),a=this.y.redSqr();if(this.curve.twisted){var s=(u=this.curve._mulA(i)).redAdd(a);if(this.zOne)e=n.redSub(i).redSub(a).redMul(s.redSub(this.curve.two)),t=s.redMul(u.redSub(a)),r=s.redSqr().redSub(s).redSub(s);else{var o=this.z.redSqr(),c=s.redSub(o).redISub(o);e=n.redSub(i).redISub(a).redMul(c),t=s.redMul(u.redSub(a)),r=s.redMul(c)}}else{var u=i.redAdd(a);o=this.curve._mulC(this.z).redSqr(),c=u.redSub(o).redSub(o),e=this.curve._mulC(n.redISub(u)).redMul(c),t=this.curve._mulC(u).redMul(i.redISub(a)),r=u.redMul(c)}return this.curve.point(e,t,r)},Sl.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Sl.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=r.redSub(t),s=i.redSub(n),o=i.redAdd(n),c=r.redAdd(t),u=a.redMul(s),h=o.redMul(c),f=a.redMul(c),l=s.redMul(o);return this.curve.point(u,h,l,f)},Sl.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),a=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(a).redMul(s),c=i.redSub(o),u=i.redAdd(o),h=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(s),f=n.redMul(c).redMul(h);return this.curve.twisted?(t=n.redMul(u).redMul(s.redSub(this.curve._mulA(a))),r=c.redMul(u)):(t=n.redMul(u).redMul(s.redSub(a)),r=this.curve._mulC(c).redMul(u)),this.curve.point(f,t,r)},Sl.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},Sl.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},Sl.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},Sl.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},Sl.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},Sl.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Sl.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Sl.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Sl.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},Sl.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},Sl.prototype.toP=Sl.prototype.normalize,Sl.prototype.mixedAdd=Sl.prototype.add;var El=nt((function(e,t){var r=t;r.base=fl,r.short=yl,r.mont=wl,r.edwards=Al})),xl=ct.rotl32,Pl=ct.sum32,Ml=ct.sum32_5,Rl=bt,Cl=ft.BlockHash,Il=[1518500249,1859775393,2400959708,3395469782];function Bl(){if(!(this instanceof Bl))return new Bl;Cl.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}ct.inherits(Bl,Cl);var Ul=Bl;Bl.blockSize=512,Bl.outSize=160,Bl.hmacStrength=80,Bl.padLength=64,Bl.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=xl(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),h=Ml(xl(i,5),Rl(u,a,s,o),c,r[n],Il[u]);c=o,o=s,s=xl(a,30),a=i,i=h}this.h[0]=Pl(this.h[0],i),this.h[1]=Pl(this.h[1],a),this.h[2]=Pl(this.h[2],s),this.h[3]=Pl(this.h[3],o),this.h[4]=Pl(this.h[4],c)},Bl.prototype._digest=function(e){return"hex"===e?ct.toHex32(this.h,"big"):ct.split32(this.h,"big")};var Dl={sha1:Ul,sha224:Ot,sha256:Tt,sha384:lr,sha512:Jt};function Tl(e,t,r){if(!(this instanceof Tl))return new Tl(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(ct.toArray(t,r))}var Kl=Tl;Tl.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),et(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},Tl.prototype.update=function(e,t){return this.inner.update(e,t),this},Tl.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};var Ol=nt((function(e,t){var r=t;r.utils=ct,r.common=ft,r.sha=Dl,r.ripemd=Pr,r.hmac=Kl,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160})),zl={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}},Ll=nt((function(e,t){var r,n=t,i=nl.assert;function a(e){if("short"===e.type)this.curve=new El.short(e);else if("edwards"===e.type)this.curve=new El.edwards(e);else{if("mont"!==e.type)throw Error("Unknown curve type.");this.curve=new El.mont(e)}this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, n*G != O")}function s(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new a(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=a,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ol.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ol.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ol.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ol.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ol.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:Ol.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:Ol.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]}),s("brainpoolP256r1",{type:"short",prime:null,p:"A9FB57DB A1EEA9BC 3E660A90 9D838D72 6E3BF623 D5262028 2013481D 1F6E5377",a:"7D5A0975 FC2C3057 EEF67530 417AFFE7 FB8055C1 26DC5C6C E94A4B44 F330B5D9",b:"26DC5C6C E94A4B44 F330B5D9 BBD77CBF 95841629 5CF7E1CE 6BCCDC18 FF8C07B6",n:"A9FB57DB A1EEA9BC 3E660A90 9D838D71 8C397AA3 B561A6F7 901E0E82 974856A7",hash:Ol.sha256,gRed:!1,g:["8BD2AEB9CB7E57CB2C4B482FFC81B7AFB9DE27E1E3BD23C23A4453BD9ACE3262","547EF835C3DAC4FD97F8461A14611DC9C27745132DED8E545C1D54C72F046997"]}),s("brainpoolP384r1",{type:"short",prime:null,p:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B4 12B1DA19 7FB71123ACD3A729 901D1A71 87470013 3107EC53",a:"7BC382C6 3D8C150C 3C72080A CE05AFA0 C2BEA28E 4FB22787 139165EF BA91F90F8AA5814A 503AD4EB 04A8C7DD 22CE2826",b:"04A8C7DD 22CE2826 8B39B554 16F0447C 2FB77DE1 07DCD2A6 2E880EA5 3EEB62D57CB43902 95DBC994 3AB78696 FA504C11",n:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B3 1F166E6C AC0425A7CF3AB6AF 6B7FC310 3B883202 E9046565",hash:Ol.sha384,gRed:!1,g:["1D1C64F068CF45FFA2A63A81B7C13F6B8847A3E77EF14FE3DB7FCAFE0CBD10E8E826E03436D646AAEF87B2E247D4AF1E","8ABE1D7520F9C2A45CB1EB8E95CFD55262B70B29FEEC5864E19C054FF99129280E4646217791811142820341263C5315"]}),s("brainpoolP512r1",{type:"short",prime:null,p:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 703308717D4D9B00 9BC66842 AECDA12A E6A380E6 2881FF2F 2D82C685 28AA6056 583A48F3",a:"7830A331 8B603B89 E2327145 AC234CC5 94CBDD8D 3DF91610 A83441CA EA9863BC2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A7 2BF2C7B9 E7C1AC4D 77FC94CA",b:"3DF91610 A83441CA EA9863BC 2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A72BF2C7B9 E7C1AC4D 77FC94CA DC083E67 984050B7 5EBAE5DD 2809BD63 8016F723",n:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 70330870553E5C41 4CA92619 41866119 7FAC1047 1DB1D381 085DDADD B5879682 9CA90069",hash:Ol.sha512,gRed:!1,g:["81AEE4BDD82ED9645A21322E9C4C6A9385ED9F70B5D916C1B43B62EEF4D0098EFF3B1F78E2D0D48D50D1687B93B97D5F7C6D5047406A5E688B352209BCB9F822","7DDE385D566332ECC0EABFA9CF7822FDF209F70024A57B1AA000C55B881F8111B2DCDE494A5F485E5BCA4BD88A2763AED1CA2B2FA8F0540678CD1E0F3AD80892"]});try{r=zl}catch(e){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ol.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Nl(e){if(!(this instanceof Nl))return new Nl(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=rl.toArray(e.entropy,e.entropyEnc||"hex"),r=rl.toArray(e.nonce,e.nonceEnc||"hex"),n=rl.toArray(e.pers,e.persEnc||"hex");et(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var ql=Nl;Nl.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Nl.prototype._hmac=function(){return new Ol.hmac(this.hash,this.K)},Nl.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Nl.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=rl.toArray(e,t),r=rl.toArray(r,n),et(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Nl.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=rl.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(r),this._reseed++,rl.encode(a,t)};var Fl=nl.assert;function jl(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Wl=jl;jl.fromPublic=function(e,t,r){return t instanceof jl?t:new jl(e,{pub:t,pubEnc:r})},jl.fromPrivate=function(e,t,r){return t instanceof jl?t:new jl(e,{priv:t,privEnc:r})},jl.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},jl.prototype.getPublic=function(e,t){return this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},jl.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},jl.prototype._importPrivate=function(e,t){if(this.priv=new Zf(e,t||16),"mont"===this.ec.curve.type){var r=this.ec.curve.one,n=r.ushln(252).sub(r).ushln(3);this.priv=this.priv.or(r.ushln(254)),this.priv=this.priv.and(n)}else this.priv=this.priv.umod(this.ec.curve.n)},jl.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?Fl(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Fl(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},jl.prototype.derive=function(e){return e.mul(this.priv).getX()},jl.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},jl.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},jl.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Hl=nl.assert;function Gl(e,t){if(e instanceof Gl)return e;this._importDER(e,t)||(Hl(e.r&&e.s,"Signature without r or s"),this.r=new Zf(e.r,16),this.s=new Zf(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Vl=Gl;function $l(){this.place=0}function Yl(e,t){var r=e[t.place++];if(!(128&r))return r;for(var n=15&r,i=0,a=0,s=t.place;a<n;a++,s++)i<<=8,i|=e[s];return t.place=s,i}function Xl(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function Zl(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Gl.prototype._importDER=function(e,t){e=nl.toArray(e,t);var r=new $l;if(48!==e[r.place++])return!1;if(Yl(e,r)+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var n=Yl(e,r),i=e.slice(r.place,n+r.place);if(r.place+=n,2!==e[r.place++])return!1;var a=Yl(e,r);if(e.length!==a+r.place)return!1;var s=e.slice(r.place,a+r.place);return 0===i[0]&&128&i[1]&&(i=i.slice(1)),0===s[0]&&128&s[1]&&(s=s.slice(1)),this.r=new Zf(i),this.s=new Zf(s),this.recoveryParam=null,!0},Gl.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=Xl(t),r=Xl(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Zl(n,t.length),(n=n.concat(t)).push(2),Zl(n,r.length);var i=n.concat(r),a=[48];return Zl(a,i.length),a=a.concat(i),nl.encode(a,e)};var Jl=nl.assert;function Ql(e){if(!(this instanceof Ql))return new Ql(e);"string"==typeof e&&(Jl(Ll.hasOwnProperty(e),"Unknown curve "+e),e=Ll[e]),e instanceof Ll.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var ed=Ql;Ql.prototype.keyPair=function(e){return new Wl(this,e)},Ql.prototype.keyFromPrivate=function(e,t){return Wl.fromPrivate(this,e,t)},Ql.prototype.keyFromPublic=function(e,t){return Wl.fromPublic(this,e,t)},Ql.prototype.genKeyPair=function(e){e||(e={});var t=new ql({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||il(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()});if("mont"===this.curve.type){var r=new Zf(t.generate(32));return this.keyFromPrivate(r)}for(var n=this.n.byteLength(),i=this.n.sub(new Zf(2));;)if(!((r=new Zf(t.generate(n))).cmp(i)>0))return r.iaddn(1),this.keyFromPrivate(r)},Ql.prototype._truncateToN=function(e,t,r){var n=(r=r||8*e.byteLength())-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Ql.prototype.truncateMsg=function(e){var t;return e instanceof Uint8Array?(t=8*e.byteLength,e=this._truncateToN(new Zf(e,16),!1,t)):"string"==typeof e?(t=4*e.length,e=this._truncateToN(new Zf(e,16),!1,t)):e=this._truncateToN(new Zf(e,16)),e},Ql.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this.truncateMsg(e);for(var i=this.n.byteLength(),a=t.getPrivate().toArray("be",i),s=e.toArray("be",i),o=new ql({hash:this.hash,entropy:a,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new Zf(1)),u=0;;u++){var h=n.k?n.k(u):new Zf(o.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(c)>=0)){var f=this.g.mul(h);if(!f.isInfinity()){var l=f.getX(),d=l.umod(this.n);if(0!==d.cmpn(0)){var p=h.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var y=(f.getY().isOdd()?1:0)|(0!==l.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),y^=1),new Vl({r:d,s:p,recoveryParam:y})}}}}}},Ql.prototype.verify=function(e,t,r,n){return r=this.keyFromPublic(r,n),t=new Vl(t,"hex"),this._verify(this.truncateMsg(e),t,r)||this._verify(this._truncateToN(new Zf(e,16)),t,r)},Ql.prototype._verify=function(e,t,r){var n=t.r,i=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;var a,s=i.invm(this.n),o=s.mul(e).umod(this.n),c=s.mul(n).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(o,r.getPublic(),c)).isInfinity()&&a.eqXToP(n):!(a=this.g.mulAdd(o,r.getPublic(),c)).isInfinity()&&0===a.getX().umod(this.n).cmp(n)},Ql.prototype.recoverPubKey=function(e,t,r,n){Jl((3&r)===r,"The recovery param is more than two bits"),t=new Vl(t,n);var i=this.n,a=new Zf(e),s=t.r,o=t.s,c=1&r,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),c):this.curve.pointFromX(s,c);var h=t.r.invm(i),f=i.sub(a).mul(h).umod(i),l=o.mul(h).umod(i);return this.g.mulAdd(f,s,l)},Ql.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new Vl(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(r))return i}throw Error("Unable to find valid recovery factor")};var td=nl.assert,rd=nl.parseBytes,nd=nl.cachedProperty;function id(e,t){if(this.eddsa=e,t.hasOwnProperty("secret")&&(this._secret=rd(t.secret)),e.isPoint(t.pub))this._pub=t.pub;else if(this._pubBytes=rd(t.pub),this._pubBytes&&33===this._pubBytes.length&&64===this._pubBytes[0]&&(this._pubBytes=this._pubBytes.slice(1,33)),this._pubBytes&&32!==this._pubBytes.length)throw Error("Unknown point compression format")}id.fromPublic=function(e,t){return t instanceof id?t:new id(e,{pub:t})},id.fromSecret=function(e,t){return t instanceof id?t:new id(e,{secret:t})},id.prototype.secret=function(){return this._secret},nd(id,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),nd(id,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),nd(id,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),nd(id,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),nd(id,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),nd(id,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),id.prototype.sign=function(e){return td(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},id.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},id.prototype.getSecret=function(e){return td(this._secret,"KeyPair is public only"),nl.encode(this.secret(),e)},id.prototype.getPublic=function(e,t){return nl.encode((t?[64]:[]).concat(this.pubBytes()),e)};var ad=id,sd=nl.assert,od=nl.cachedProperty,cd=nl.parseBytes;function ud(e,t){this.eddsa=e,"object"!=typeof t&&(t=cd(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),sd(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof Zf&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}od(ud,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),od(ud,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),od(ud,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),od(ud,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),ud.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},ud.prototype.toHex=function(){return nl.encode(this.toBytes(),"hex").toUpperCase()};var hd=ud,fd=nl.assert,ld=nl.parseBytes;function dd(e){if(fd("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof dd))return new dd(e);e=Ll[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=Ol.sha512}var pd=dd;dd.prototype.sign=function(e,t){e=ld(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),a=this.encodePoint(i),s=this.hashInt(a,r.pubBytes(),e).mul(r.priv()),o=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:o,Rencoded:a})},dd.prototype.verify=function(e,t,r){e=ld(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),a=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(a)},dd.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return nl.intFromLE(e.digest()).umod(this.curve.n)},dd.prototype.keyPair=function(e){return new ad(this,e)},dd.prototype.keyFromPublic=function(e){return ad.fromPublic(this,e)},dd.prototype.keyFromSecret=function(e){return ad.fromSecret(this,e)},dd.prototype.genKeyPair=function(e){e||(e={});var t=new ql({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||il(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.curve.n.toArray()});return this.keyFromSecret(t.generate(32))},dd.prototype.makeSignature=function(e){return e instanceof hd?e:new hd(this,e)},dd.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},dd.prototype.decodePoint=function(e){var t=(e=nl.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=nl.intFromLE(r);return this.curve.pointFromY(i,n)},dd.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},dd.prototype.decodeInt=function(e){return nl.intFromLE(e)},dd.prototype.isPoint=function(e){return e instanceof this.pointClass};var yd=nt((function(e,t){var r=t;r.utils=nl,r.rand=il,r.curve=El,r.curves=Ll,r.ec=ed,r.eddsa=pd})),bd=Object.freeze({__proto__:null,default:yd,__moduleExports:yd})},1798:(e,t,r)=>{"use strict";var n=65536,i=4294967295;var a=r(9509).Buffer,s=r.g.crypto||r.g.msCrypto;s&&s.getRandomValues?e.exports=function(e,t){if(e>i)throw new RangeError("requested too many random bytes");var r=a.allocUnsafe(e);if(e>0)if(e>n)for(var o=0;o<e;o+=n)s.getRandomValues(r.slice(o,o+n));else s.getRandomValues(r);if("function"==typeof t)return process.nextTick((function(){t(null,r)}));return r}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},4281:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,a,s,o;if("string"==typeof t&&(a="not ",t.substr(!s||s<0?0:+s,a.length)===a)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var c=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";o='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(n(t,"type"))}return o+=". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},6753:(e,t,r)=>{"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var i=r(9481),a=r(4229);r(5717)(u,i);for(var s=n(a.prototype),o=0;o<s.length;o++){var c=s[o];u.prototype[c]||(u.prototype[c]=a.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||process.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},2725:(e,t,r)=>{"use strict";e.exports=i;var n=r(4605);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(5717)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},9481:(e,t,r)=>{"use strict";var n;e.exports=S,S.ReadableState=A;r(7187).EventEmitter;var i=function(e,t){return e.listeners(t).length},a=r(2503),s=r(8764).Buffer,o=r.g.Uint8Array||function(){};var c,u=r(4616);c=u&&u.debuglog?u.debuglog("stream"):function(){};var h,f,l,d=r(7327),p=r(1195),y=r(2457).getHighWaterMark,b=r(4281).q,g=b.ERR_INVALID_ARG_TYPE,m=b.ERR_STREAM_PUSH_AFTER_EOF,w=b.ERR_METHOD_NOT_IMPLEMENTED,v=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5717)(S,a);var _=p.errorOrDestroy,k=["error","close","destroy","pause","resume"];function A(e,t,i){n=n||r(6753),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=r(2553).s),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function S(e){if(n=n||r(6753),!(this instanceof S))return new S(e);var t=this instanceof n;this._readableState=new A(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function E(e,t,r,n,i){c("readableAddChunk",t);var a,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?R(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,C(e)))}(e,u);else if(i||(a=function(e,t){var r;n=t,s.isBuffer(n)||n instanceof o||"string"==typeof t||void 0===t||e.objectMode||(r=new g("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(u,t)),a)_(e,a);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)u.endEmitted?_(e,new v):x(e,u,t,!0);else if(u.ended)_(e,new m);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?x(e,u,t,!1):I(e,u)):x(e,u,t,!1)}else n||(u.reading=!1,I(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function x(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&R(e)),I(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=p.destroy,S.prototype._undestroy=p.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),E(this,e,t,!1,r)},S.prototype.unshift=function(e){return E(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){h||(h=r(2553).s);var t=new h(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var P=1073741824;function M(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=P?e=P:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function R(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(C,e))}function C(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,K(e)}function I(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(B,e,t))}function B(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function U(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function D(e){c("readable nexttick read 0"),e.read(0)}function T(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),K(e),t.flowing&&!t.reading&&e.read(0)}function K(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function O(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function z(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(L,t,e))}function L(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?z(this):R(this),null;if(0===(e=M(e,t))&&t.ended)return 0===t.length&&z(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=M(r,t))),null===(n=e>0?O(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&z(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(e){_(this,new w("_read()"))},S.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?o:y;function s(t,i){c("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",l),e.removeListener("unpipe",s),r.removeListener("end",o),r.removeListener("end",y),r.removeListener("data",f),h=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function o(){c("onend"),e.end()}n.endEmitted?process.nextTick(a):r.once("end",a),e.on("unpipe",s);var u=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,K(e))}}(r);e.on("drain",u);var h=!1;function f(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==N(n.pipes,e))&&!h&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function l(t){c("onerror",t),y(),e.removeListener("error",l),0===i(e,"error")&&_(e,t)}function d(){e.removeListener("finish",p),y()}function p(){c("onfinish"),e.removeListener("close",d),y()}function y(){c("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",l),e.once("close",d),e.once("finish",p),e.emit("pipe",r),n.flowing||(c("pipe resume"),r.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var s=N(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?R(this):n.reading||process.nextTick(D,this))),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(U,this),r},S.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(U,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(T,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<k.length;a++)e.on(k[a],this.emit.bind(this,k[a]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=r(5850)),f(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=O,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(e,t){return void 0===l&&(l=r(5167)),l(S,e,t)})},4605:(e,t,r)=>{"use strict";e.exports=h;var n=r(4281).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(6753);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new a);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function h(e){if(!(this instanceof h))return new h(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush((function(t,r){l(e,t,r)}))}function l(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}r(5717)(h,c),h.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},h.prototype._transform=function(e,t,r){r(new i("_transform()"))},h.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},h.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},h.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},4229:(e,t,r)=>{"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=S,S.WritableState=A;var a={deprecate:r(4927)},s=r(2503),o=r(8764).Buffer,c=r.g.Uint8Array||function(){};var u,h=r(1195),f=r(2457).getHighWaterMark,l=r(4281).q,d=l.ERR_INVALID_ARG_TYPE,p=l.ERR_METHOD_NOT_IMPLEMENTED,y=l.ERR_MULTIPLE_CALLBACK,b=l.ERR_STREAM_CANNOT_PIPE,g=l.ERR_STREAM_DESTROYED,m=l.ERR_STREAM_NULL_VALUES,w=l.ERR_STREAM_WRITE_AFTER_END,v=l.ERR_UNKNOWN_ENCODING,_=h.errorOrDestroy;function k(){}function A(e,t,a){i=i||r(6753),e=e||{},"boolean"!=typeof a&&(a=t instanceof i),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(C,e,t),e._writableState.errorEmitted=!0,_(e,n)):(i(n),e._writableState.errorEmitted=!0,_(e,n),C(e,t))}(e,r,n,t,i);else{var a=M(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||P(e,r),n?process.nextTick(x,e,r,a,i):x(e,r,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function S(e){var t=this instanceof(i=i||r(6753));if(!t&&!u.call(S,this))return new S(e);this._writableState=new A(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function E(e,t,r,n,i,a,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function x(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),C(e,t)}function P(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,a=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var o=0,c=!0;r;)a[o]=r,r.isBuf||(c=!1),r=r.next,o+=1;a.allBuffers=c,E(e,t,!0,t.length,a,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,h=r.encoding,f=r.callback;if(E(e,t,!1,t.objectMode?1:u.length,u,h,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function M(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final((function(r){t.pendingcb--,r&&_(e,r),t.prefinished=!0,e.emit("prefinish"),C(e,t)}))}function C(e,t){var r=M(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(R,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(5717)(S,s),A.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(A.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===S&&(e&&e._writableState instanceof A)}})):u=function(e){return e instanceof this},S.prototype.pipe=function(){_(this,new b)},S.prototype.write=function(e,t,r){var n,i=this._writableState,a=!1,s=!i.objectMode&&(n=e,o.isBuffer(n)||n instanceof c);return s&&!o.isBuffer(e)&&(e=function(e){return o.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=k),i.ending?function(e,t){var r=new w;_(e,r),process.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i;return null===r?i=new m:"string"==typeof r||t.objectMode||(i=new d("chunk",["string","Buffer"],r)),!i||(_(e,i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,a=function(e,t,r,n,i,a){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=o.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var c=t.objectMode?1:n.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,c,n,i,a);return u}(this,i,s,e,t,r)),a},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||P(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new v(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new p("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,C(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=h.destroy,S.prototype._undestroy=h.undestroy,S.prototype._destroy=function(e,t){t(e)}},5850:(e,t,r)=>{"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(8610),s=Symbol("lastResolve"),o=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),l=Symbol("stream");function d(e,t){return{value:e,done:t}}function p(e){var t=e[s];if(null!==t){var r=e[l].read();null!==r&&(e[h]=null,e[s]=null,e[o]=null,t(d(r,!1)))}}function y(e){process.nextTick(p,e)}var b=Object.getPrototypeOf((function(){})),g=Object.setPrototypeOf((i(n={get stream(){return this[l]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(d(void 0,!0));if(this[l].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[c]?r(e[c]):t(d(void 0,!0))}))}));var r,n=this[h];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(d(void 0,!0)):t[f](r,n)}),n)}}(n,this));else{var i=this[l].read();if(null!==i)return Promise.resolve(d(i,!1));r=new Promise(this[f])}return this[h]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[l].destroy(null,(function(e){e?r(e):t(d(void 0,!0))}))}))})),n),b);e.exports=function(e){var t,r=Object.create(g,(i(t={},l,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var n=r[l].read();n?(r[h]=null,r[s]=null,r[o]=null,e(d(n,!1))):(r[s]=e,r[o]=t)},writable:!0}),t));return r[h]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[o];return null!==t&&(r[h]=null,r[s]=null,r[o]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[h]=null,r[s]=null,r[o]=null,n(d(void 0,!0))),r[u]=!0})),e.on("readable",y.bind(null,r)),r}},7327:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(8764).Buffer,o=r(2361).inspect,c=o&&o.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,u;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,i=s.allocUnsafe(e>>>0),a=this.head,o=0;a;)t=a.data,r=i,n=o,s.prototype.copy.call(t,r,n),o+=a.data.length,a=a.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,a=e>i.length?i.length:e;if(a===i.length?n+=i:n+=i.slice(0,e),0==(e-=a)){a===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(a));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,a),0==(e-=a)){a===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(a));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&a(t.prototype,r),u&&a(t,u),e}()},1195:e=>{"use strict";function t(e,t){n(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var a=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,e)):process.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?a._writableState?a._writableState.errorEmitted?process.nextTick(r,a):(a._writableState.errorEmitted=!0,process.nextTick(t,a,e)):process.nextTick(t,a,e):i?(process.nextTick(r,a),i(e)):process.nextTick(r,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},8610:(e,t,r)=>{"use strict";var n=r(4281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,a){if("function"==typeof r)return e(t,null,r);r||(r={}),a=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(a||i);var s=r.readable||!1!==r.readable&&t.readable,o=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||h()},u=t._writableState&&t._writableState.finished,h=function(){o=!1,u=!0,s||a.call(t)},f=t._readableState&&t._readableState.endEmitted,l=function(){s=!1,f=!0,o||a.call(t)},d=function(e){a.call(t,e)},p=function(){var e;return s&&!f?(t._readableState&&t._readableState.ended||(e=new n),a.call(t,e)):o&&!u?(t._writableState&&t._writableState.ended||(e=new n),a.call(t,e)):void 0},y=function(){t.req.on("finish",h)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?o&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",h),t.on("abort",p),t.req?y():t.on("request",y)),t.on("end",l),t.on("finish",h),!1!==r.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",h),t.removeListener("abort",p),t.removeListener("request",y),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",l),t.removeListener("error",d),t.removeListener("close",p)}}},5167:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:(e,t,r)=>{"use strict";var n;var i=r(4281).q,a=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function c(e,t,i,a){a=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(a);var o=!1;e.on("close",(function(){o=!0})),void 0===n&&(n=r(8610)),n(e,{readable:t,writable:i},(function(e){if(e)return a(e);o=!0,a()}));var c=!1;return function(t){if(!o&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void a(t||new s("pipe"))}}function u(e){e()}function h(e,t){return e.pipe(t)}function f(e){return e.length?"function"!=typeof e[e.length-1]?o:e.pop():o}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new a("streams");var s=t.map((function(e,r){var a=r<t.length-1;return c(e,a,r>0,(function(e){n||(n=e),e&&s.forEach(u),a||(s.forEach(u),i(n))}))}));return t.reduce(h)}},2457:(e,t,r)=>{"use strict";var n=r(4281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var a=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new n(i?r:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}},2503:(e,t,r)=>{e.exports=r(7187).EventEmitter},8473:(e,t,r)=>{(t=e.exports=r(9481)).Stream=t,t.Readable=t,t.Writable=r(4229),t.Duplex=r(6753),t.Transform=r(4605),t.PassThrough=r(2725),t.finished=r(8610),t.pipeline=r(9946)},9785:(e,t,r)=>{"use strict";var n=r(8764).Buffer,i=r(5717),a=r(3349),s=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],l=[1352829926,1548603684,1836072691,2053994217,0];function d(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function y(e,t,r,n,i,a,s,o){return p(e+(t^r^n)+a+s|0,o)+i|0}function b(e,t,r,n,i,a,s,o){return p(e+(t&r|~t&n)+a+s|0,o)+i|0}function g(e,t,r,n,i,a,s,o){return p(e+((t|~r)^n)+a+s|0,o)+i|0}function m(e,t,r,n,i,a,s,o){return p(e+(t&n|r&~n)+a+s|0,o)+i|0}function w(e,t,r,n,i,a,s,o){return p(e+(t^(r|~n))+a+s|0,o)+i|0}i(d,a),d.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,a=0|this._d,d=0|this._e,v=0|this._a,_=0|this._b,k=0|this._c,A=0|this._d,S=0|this._e,E=0;E<80;E+=1){var x,P;E<16?(x=y(r,n,i,a,d,e[o[E]],f[0],u[E]),P=w(v,_,k,A,S,e[c[E]],l[0],h[E])):E<32?(x=b(r,n,i,a,d,e[o[E]],f[1],u[E]),P=m(v,_,k,A,S,e[c[E]],l[1],h[E])):E<48?(x=g(r,n,i,a,d,e[o[E]],f[2],u[E]),P=g(v,_,k,A,S,e[c[E]],l[2],h[E])):E<64?(x=m(r,n,i,a,d,e[o[E]],f[3],u[E]),P=b(v,_,k,A,S,e[c[E]],l[3],h[E])):(x=w(r,n,i,a,d,e[o[E]],f[4],u[E]),P=y(v,_,k,A,S,e[c[E]],l[4],h[E])),r=d,d=a,a=p(i,10),i=n,n=x,v=S,S=A,A=p(k,10),k=_,_=P}var M=this._b+i+A|0;this._b=this._c+a+S|0,this._c=this._d+d+v|0,this._d=this._e+r+_|0,this._e=this._a+n+k|0,this._a=M},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=d},9509:(e,t,r)=>{var n=r(8764),i=n.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),a(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},4189:(e,t,r)=>{var n=r(9509).Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,i=this._blockSize,a=e.length,s=this._len,o=0;o<a;){for(var c=s%i,u=Math.min(a-o,i-c),h=0;h<u;h++)r[c+h]=e[o+h];o+=u,(s+=u)%i==0&&this._update(r)}return this._len+=a,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},9072:(e,t,r)=>{var n=e.exports=function(e){e=e.toLowerCase();var t=n[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};n.sha=r(4448),n.sha1=r(8336),n.sha224=r(8432),n.sha256=r(7499),n.sha384=r(1686),n.sha512=r(7816)},4448:(e,t,r)=>{var n=r(5717),i=r(4189),a=r(9509).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function c(){this.init(),this._w=o,i.call(this,64,56)}function u(e){return e<<30|e>>>2}function h(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,a=0|this._c,o=0|this._d,c=0|this._e,f=0;f<16;++f)r[f]=e.readInt32BE(4*f);for(;f<80;++f)r[f]=r[f-3]^r[f-8]^r[f-14]^r[f-16];for(var l=0;l<80;++l){var d=~~(l/20),p=0|((t=n)<<5|t>>>27)+h(d,i,a,o)+c+r[l]+s[d];c=o,o=a,a=u(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=a.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},8336:(e,t,r)=>{var n=r(5717),i=r(4189),a=r(9509).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function c(){this.init(),this._w=o,i.call(this,64,56)}function u(e){return e<<5|e>>>27}function h(e){return e<<30|e>>>2}function f(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,a=0|this._c,o=0|this._d,c=0|this._e,l=0;l<16;++l)r[l]=e.readInt32BE(4*l);for(;l<80;++l)r[l]=(t=r[l-3]^r[l-8]^r[l-14]^r[l-16])<<1|t>>>31;for(var d=0;d<80;++d){var p=~~(d/20),y=u(n)+f(p,i,a,o)+c+r[d]+s[p]|0;c=o,o=a,a=h(i),i=n,n=y}this._a=n+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=a.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},8432:(e,t,r)=>{var n=r(5717),i=r(7499),a=r(4189),s=r(9509).Buffer,o=new Array(64);function c(){this.init(),this._w=o,a.call(this,64,56)}n(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},7499:(e,t,r)=>{var n=r(5717),i=r(4189),a=r(9509).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function c(){this.init(),this._w=o,i.call(this,64,56)}function u(e,t,r){return r^e&(t^r)}function h(e,t,r){return e&t|r&(e|t)}function f(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function l(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}n(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,a=0|this._c,o=0|this._d,c=0|this._e,p=0|this._f,y=0|this._g,b=0|this._h,g=0;g<16;++g)r[g]=e.readInt32BE(4*g);for(;g<64;++g)r[g]=0|(((t=r[g-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[g-7]+d(r[g-15])+r[g-16];for(var m=0;m<64;++m){var w=b+l(c)+u(c,p,y)+s[m]+r[m]|0,v=f(n)+h(n,i,a)|0;b=y,y=p,p=c,c=o+w|0,o=a,a=i,i=n,n=w+v|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=y+this._g|0,this._h=b+this._h|0},c.prototype._hash=function(){var e=a.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},1686:(e,t,r)=>{var n=r(5717),i=r(7816),a=r(4189),s=r(9509).Buffer,o=new Array(160);function c(){this.init(),this._w=o,a.call(this,128,112)}n(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=s.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},7816:(e,t,r)=>{var n=r(5717),i=r(4189),a=r(9509).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function c(){this.init(),this._w=o,i.call(this,128,112)}function u(e,t,r){return r^e&(t^r)}function h(e,t,r){return e&t|r&(e|t)}function f(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function l(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function b(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function g(e,t){return e>>>0<t>>>0?1:0}n(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,a=0|this._dh,o=0|this._eh,c=0|this._fh,m=0|this._gh,w=0|this._hh,v=0|this._al,_=0|this._bl,k=0|this._cl,A=0|this._dl,S=0|this._el,E=0|this._fl,x=0|this._gl,P=0|this._hl,M=0;M<32;M+=2)t[M]=e.readInt32BE(4*M),t[M+1]=e.readInt32BE(4*M+4);for(;M<160;M+=2){var R=t[M-30],C=t[M-30+1],I=d(R,C),B=p(C,R),U=y(R=t[M-4],C=t[M-4+1]),D=b(C,R),T=t[M-14],K=t[M-14+1],O=t[M-32],z=t[M-32+1],L=B+K|0,N=I+T+g(L,B)|0;N=(N=N+U+g(L=L+D|0,D)|0)+O+g(L=L+z|0,z)|0,t[M]=N,t[M+1]=L}for(var q=0;q<160;q+=2){N=t[q],L=t[q+1];var F=h(r,n,i),j=h(v,_,k),W=f(r,v),H=f(v,r),G=l(o,S),V=l(S,o),$=s[q],Y=s[q+1],X=u(o,c,m),Z=u(S,E,x),J=P+V|0,Q=w+G+g(J,P)|0;Q=(Q=(Q=Q+X+g(J=J+Z|0,Z)|0)+$+g(J=J+Y|0,Y)|0)+N+g(J=J+L|0,L)|0;var ee=H+j|0,te=W+F+g(ee,H)|0;w=m,P=x,m=c,x=E,c=o,E=S,o=a+Q+g(S=A+J|0,A)|0,a=i,A=k,i=n,k=_,n=r,_=v,r=Q+te+g(v=J+ee|0,J)|0}this._al=this._al+v|0,this._bl=this._bl+_|0,this._cl=this._cl+k|0,this._dl=this._dl+A|0,this._el=this._el+S|0,this._fl=this._fl+E|0,this._gl=this._gl+x|0,this._hl=this._hl+P|0,this._ah=this._ah+r+g(this._al,v)|0,this._bh=this._bh+n+g(this._bl,_)|0,this._ch=this._ch+i+g(this._cl,k)|0,this._dh=this._dh+a+g(this._dl,A)|0,this._eh=this._eh+o+g(this._el,S)|0,this._fh=this._fh+c+g(this._fl,E)|0,this._gh=this._gh+m+g(this._gl,x)|0,this._hh=this._hh+w+g(this._hl,P)|0},c.prototype._hash=function(){var e=a.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},2553:(e,t,r)=>{"use strict";var n=r(9509).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=h,this.end=f,t=3;break;default:return this.write=l,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"ï¿½";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"ï¿½";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"ï¿½"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function h(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.s=a,a.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"ï¿½":t},a.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},3367:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryStringStringify=void 0,t.queryStringStringify=function(e){const t=[];for(const r in e)if(e.hasOwnProperty(r)){const n=e[r];if(void 0===n)continue;let i=encodeURIComponent(n);"boolean"==typeof n&&(i=n?"1":"0"),t.push(`${r}=${i}`)}return t.join("&")}},4209:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomString=void 0;t.getRandomString=e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=[];for(let n=0;n<e;n++)r.push(t[Math.floor(Math.random()*t.length)]);return r.join("")}},5810:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};function n(e){return r(this,void 0,void 0,(function*(){return new Promise((t=>setTimeout(t,e)))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.RateLimiter=t.wait=void 0,t.wait=n;t.RateLimiter=class{constructor(){this.lastRequestTime=0}wait(){return r(this,void 0,void 0,(function*(){for(;Date.now()-this.lastRequestTime<1e3;)yield n(100);return this.lastRequestTime=Date.now(),!1}))}}},9620:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(410),t),i(r(9695),t),i(r(1284),t),i(r(8963),t),i(r(1501),t)},9695:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8049:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.EventsRoutes=void 0;t.EventsRoutes=class{constructor(e){this.client=e}latest(){return r(this,void 0,void 0,(function*(){return(yield this.client.request({method:"get",url:"events/latest"})).data}))}get(e){return r(this,void 0,void 0,(function*(){return(yield this.client.request({method:"get",url:`events/${e}`})).data}))}}},410:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProtonmailClient=void 0;const a=r(8599),s=i(r(9669)),o=r(5810),c=r(4209),u=r(3273),h=r(3575),f=r(7666),l=r(9589),d=r(9860),p=r(7187),y=r(8049),b=r(6548);class g extends p.EventEmitter{constructor(e){super(),this.isloggedIn_=!1,this.refreshingToken_=!1,this.accessToken_="",this.refreshToken_="",this.pmUID_="",this.keysInfo_={publicKey:"",privateKey:"",passphrase:""},this.rateLimiter=new o.RateLimiter,this.options={domain:"mail.protonmail.com",rateLimit:!0,userAgent:"Mozilla/5.0 (Windows NT 6.1; rv:60.0) Gecko/20100101 Firefox/60.0"},this.users_=new f.UsersRoutes(this),this.keys_=new b.KeysRoutes(this),this.labels_=new l.LabelsRoutes(this),this.messages_=new d.MessagesRoutes(this),this.events_=new y.EventsRoutes(this),e&&("string"==typeof e.userAgent&&(this.options.userAgent=e.userAgent),"string"==typeof e.domain&&(this.options.domain=e.domain),"boolean"==typeof e.rateLimit&&(this.options.rateLimit=e.rateLimit)),this.axios=this.createAxiosInstance()}get pmUID(){return this.pmUID_}set pmUID(e){this.pmUID_=e,this.axios=this.createAxiosInstance()}get accessToken(){return this.accessToken_}set accessToken(e){this.accessToken_=e,this.axios=this.createAxiosInstance()}get refreshToken(){return this.refreshToken_}set refreshToken(e){this.refreshToken_=e}get users(){return this.users_}get keys(){return this.keys_}get labels(){return this.labels_}get messages(){return this.messages_}get events(){return this.events_}get isLoggedIn(){return this.isloggedIn_}createAxiosInstance(){const e=[].concat(s.default.defaults.transformResponse,(e=>e)),t={Accept:"application/vnd.protonmail.v1+json","User-Agent":this.options.userAgent,"x-pm-apiversion":"3","x-pm-appversion":"Other"};return"undefined"!=typeof window&&delete t["User-Agent"],""!==this.pmUID&&(t["x-pm-uid"]=this.pmUID),""!==this.accessToken&&(t.Authorization=`Bearer ${this.accessToken}`),s.default.create({transformResponse:e,baseURL:`https://${this.options.domain}/api/`,headers:t,withCredentials:!0})}request(e){return n(this,void 0,void 0,(function*(){for(this.options.rateLimit&&(yield this.rateLimiter.wait());this.refreshingToken_&&"auth/refresh"!==e.url;)yield o.wait(100);try{e.timeout=3e5;return yield this.axios.request(e)}catch(t){try{if(401===t.response.status&&"auth/refresh"!==e.url&&""!==this.refreshToken)return this.refreshingToken_||(this.refreshingToken_=!0,yield this.loginWithToken({RefreshToken:this.refreshToken,Uid:this.pmUID}),this.refreshingToken_=!1),this.request(e)}catch(e){e.response&&e.response.status>=400&&429!==e.response.status&&e.response.status<500&&(this.isloggedIn_=!1,this.emit("logout")),this.refreshingToken_=!1}throw t}}))}loginWithToken(e){return n(this,void 0,void 0,(function*(){this.pmUID=e.Uid;const t=yield this.authRefresh(e.RefreshToken,e.Uid);return this.accessToken=t.AccessToken,this.refreshToken=t.RefreshToken,this.pmUID=t.Uid,this.isloggedIn_=!0,this.emit("refresh_token_change"),t}))}fetchKeys(e){return n(this,void 0,void 0,(function*(){if(!this.isloggedIn_)throw new Error("You must login first");let t="",r="",n="",i="",s="";(yield this.keys.address()).Addresses.forEach((e=>{e.Keys.forEach((e=>{1===e.Primary&&(s=e.Token,n=e.PrivateKey,i=e.PublicKey)}))}));(yield this.keys.users()).User.Keys.forEach((e=>{1===e.Primary&&(t=e.ID,r=e.PrivateKey)}));let o="";(yield this.keys.keySalts()).KeySalts.forEach((e=>{e.ID===t&&(o=e.KeySalt)}));const c=yield h.computeKeyPassword(e.password,o),u=yield a.readKey({armoredKey:i}),f=yield a.decryptKey({privateKey:yield a.readPrivateKey({armoredKey:r}),passphrase:c}),l=yield a.readMessage({armoredMessage:s}),{data:d}=yield a.decrypt({message:l,decryptionKeys:f,verificationKeys:u});this.keysInfo_.privateKey=n,this.keysInfo_.publicKey=i,this.keysInfo_.passphrase=d}))}decryptMessage(e){return n(this,void 0,void 0,(function*(){const t=yield a.readKey({armoredKey:this.keysInfo_.publicKey}),r=yield a.decryptKey({privateKey:yield a.readPrivateKey({armoredKey:this.keysInfo_.privateKey}),passphrase:this.keysInfo_.passphrase}),n=yield a.readMessage({armoredMessage:e.Body}),{data:i}=yield a.decrypt({message:n,decryptionKeys:r,verificationKeys:t});return i}))}getTokenLoginInformation(){return{Uid:this.pmUID,RefreshToken:this.refreshToken}}login(e){return n(this,void 0,void 0,(function*(){const t=e.username.replace(/@.*$/g,""),r=yield this.authInfo(t),n=yield u.getSrp({Version:r.Version,Modulus:r.Modulus,ServerEphemeral:r.ServerEphemeral,Username:t,Salt:r.Salt},{password:e.loginPassword},r.Version),i={ClientProof:n.clientProof,ClientEphemeral:n.clientEphemeral,SRPSession:r.SRPSession,Username:t},a=yield this.auth(i);if(n.expectedServerProof!==a.ServerProof)throw new Error("Unexpected server proof");const s=a.AccessToken;if(/^-----BEGIN PGP MESSAGE-----/.test(s))throw new Error("Encrypted access tokens are not supported :^(");const o=1===a["2FA"].Enabled;if(o&&0===a["2FA"].TOTP)throw new Error("Unsupported 2FA type");if(o&&"string"!=typeof e.otpToken)throw new Error("2FA is enabled on the account so you have to provide a 2FA token");this.accessToken=s,this.refreshToken=a.RefreshToken,this.pmUID=a.Uid,this.emit("refresh_token_change"),o&&(yield this.auth2FA({TwoFactorCode:`${e.otpToken}`})),this.isloggedIn_=!0}))}logout(){return n(this,void 0,void 0,(function*(){const e=yield this.request({method:"delete",url:"auth"});return this.accessToken="",this.pmUID="",this.refreshToken="",e.data}))}authInfo(e){return n(this,void 0,void 0,(function*(){return(yield this.axios.post("auth/info",{Username:e})).data}))}auth(e){return n(this,void 0,void 0,(function*(){return(yield this.axios.post("auth",e)).data}))}auth2FA(e){return n(this,void 0,void 0,(function*(){return(yield this.axios.post("auth/2fa",e)).data}))}authRefresh(e,t){return n(this,void 0,void 0,(function*(){return(yield this.request({method:"post",url:"auth/refresh",data:{GrantType:"refresh_token",RedirectURI:"https://protonmail.com",RefreshToken:e,ResponseType:"token",State:c.getRandomString(24),UID:t}})).data}))}}t.ProtonmailClient=g},6548:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.KeysRoutes=void 0;t.KeysRoutes=class{constructor(e){this.client=e}address(){return r(this,void 0,void 0,(function*(){return(yield this.client.request({method:"get",url:"addresses"})).data}))}users(){return r(this,void 0,void 0,(function*(){return(yield this.client.request({method:"get",url:"users"})).data}))}keySalts(){return r(this,void 0,void 0,(function*(){return(yield this.client.request({method:"get",url:"keys/salts"})).data}))}}},9589:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LabelsRoutes=void 0;const i=r(3367);t.LabelsRoutes=class{constructor(e){this.client=e}list(e){return n(this,void 0,void 0,(function*(){return(yield this.client.request({method:"get",url:`labels?${i.queryStringStringify(e)}`})).data}))}}},1284:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LabelType=t.DefaultLabels=void 0,function(e){e[e.Inbox=0]="Inbox",e[e.SelfSent=1]="SelfSent",e[e.Sent2=2]="Sent2",e[e.Trash=3]="Trash",e[e.Spam=4]="Spam",e[e.All=5]="All",e[e.Archive=6]="Archive",e[e.Sent=7]="Sent",e[e.Drafts=8]="Drafts",e[e.Starred=10]="Starred"}(t.DefaultLabels||(t.DefaultLabels={})),function(e){e[e.Label=1]="Label",e[e.Folder=2]="Folder"}(t.LabelType||(t.LabelType={}))},9860:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MessagesRoutes=void 0;const i=r(3367),a=r(1284);t.MessagesRoutes=class{constructor(e){this.client=e}list(e){return n(this,void 0,void 0,(function*(){const t=`messages?${i.queryStringStringify(e)}`;return(yield this.client.request({method:"get",url:t})).data}))}get(e){return n(this,void 0,void 0,(function*(){return(yield this.client.request({method:"get",url:`messages/${encodeURIComponent(e)}`})).data}))}count(){return n(this,void 0,void 0,(function*(){return(yield this.client.request({method:"get",url:"messages/count"})).data}))}markAsRead(e){return n(this,void 0,void 0,(function*(){return(yield this.client.request({method:"put",url:"messages/read",data:{IDs:e}})).data}))}markAsUnread(e){return n(this,void 0,void 0,(function*(){return(yield this.client.request({method:"put",url:"messages/unread",data:{IDs:e}})).data}))}label(e,t){return n(this,void 0,void 0,(function*(){return(yield this.client.request({method:"put",url:"messages/label",data:{IDs:e,LabelID:t}})).data}))}unlabel(e,t){return n(this,void 0,void 0,(function*(){return(yield this.client.request({method:"put",url:"messages/label",data:{IDs:e,LabelID:t}})).data}))}delete(e){return n(this,void 0,void 0,(function*(){return(yield this.client.request({method:"put",url:"messages/delete",data:{IDs:e,LabelID:a.DefaultLabels.Trash}})).data}))}}},8963:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7666:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.UsersRoutes=void 0;t.UsersRoutes=class{constructor(e){this.client=e}me(){return r(this,void 0,void 0,(function*(){return(yield this.client.request({method:"get",url:"users"})).data}))}}},1501:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7312:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BCRYPT_PREFIX=t.SRP_MODULUS_KEY=t.MAX_VALUE_ITERATIONS=t.AUTH_VERSION=t.AUTH_FALLBACK_VERSION=t.SRP_LEN=t.VERIFICATION_STATUS=void 0,t.VERIFICATION_STATUS={NOT_SIGNED:0,SIGNED_AND_VALID:1,SIGNED_AND_INVALID:2},t.SRP_LEN=2048,t.AUTH_FALLBACK_VERSION=2,t.AUTH_VERSION=4,t.MAX_VALUE_ITERATIONS=1e3,t.SRP_MODULUS_KEY="-----BEGIN PGP PUBLIC KEY BLOCK-----\n\nxjMEXAHLgxYJKwYBBAHaRw8BAQdAFurWXXwjTemqjD7CXjXVyKf0of7n9Ctm\nL8v9enkzggHNEnByb3RvbkBzcnAubW9kdWx1c8J3BBAWCgApBQJcAcuDBgsJ\nBwgDAgkQNQWFxOlRjyYEFQgKAgMWAgECGQECGwMCHgEAAPGRAP9sauJsW12U\nMnTQUZpsbJb53d0Wv55mZIIiJL2XulpWPQD/V6NglBd96lZKBmInSXX/kXat\nSv+y0io+LR8i2+jV+AbOOARcAcuDEgorBgEEAZdVAQUBAQdAeJHUz1c9+KfE\nkSIgcBRE3WuXC4oj5a2/U3oASExGDW4DAQgHwmEEGBYIABMFAlwBy4MJEDUF\nhcTpUY8mAhsMAAD/XQD8DxNI6E78meodQI+wLsrKLeHn32iLvUqJbVDhfWSU\nWO4BAMcm1u02t4VKw++ttECPt+HUgPUq5pqQWe5Q2cW4TMsE\n=Y4Mw\n-----END PGP PUBLIC KEY BLOCK-----",t.BCRYPT_PREFIX="$2y$10$"},3575:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.generateKeySalt=t.computeKeyPassword=void 0;const a=i(r(2418)),s=i(r(1798)),o=r(7312);t.computeKeyPassword=(e,t)=>n(void 0,void 0,void 0,(function*(){if(!e||!t||24!==t.length||e.length<1)throw new Error("Password and salt required.");const r=Buffer.from(t,"base64");return(yield a.default.hash(e,o.BCRYPT_PREFIX+a.default.encodeBase64(r,16))).slice(29)}));t.generateKeySalt=()=>s.default(16).toString("base64")},310:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.hashPassword=t.expandHash=t.encodeUtf8=void 0;const a=i(r(2418)),s=i(r(3482)),o=r(689),c=r(7312);t.encodeUtf8=e=>unescape(encodeURIComponent(e));t.expandHash=e=>n(void 0,void 0,void 0,(function*(){const t=[],r=Buffer.concat([e,Buffer.from([0])]);for(let e=1;e<=4;e++)t.push(s.default("sha512").update(r).digest()),r[r.length-1]=e;return Buffer.concat(yield Promise.all(t))}));const u=(e,r,i)=>n(void 0,void 0,void 0,(function*(){const n=yield a.default.hash(e,c.BCRYPT_PREFIX+r);return t.expandHash(Buffer.concat([Buffer.from(n),i]))})),h=(e,r,i)=>n(void 0,void 0,void 0,(function*(){const n=Buffer.from(t.encodeUtf8(r.toLowerCase())),a=s.default("md5").update(n).digest("hex");return u(e,a,i)}));t.hashPassword=({password:e,salt:r,username:i,modulus:c,version:f})=>{if(4===f||3===f)return((e,t,r)=>{const n=Buffer.from(t+"proton","binary");return u(e,a.default.encodeBase64(n,16),r)})(e,r,c);if(2===f)return h(e,o.cleanUsername(i),c);if(1===f)return h(e,i,c);if(0===f)return((e,r,i)=>n(void 0,void 0,void 0,(function*(){const n=s.default("sha512").update(Buffer.from(r.toLowerCase()+t.encodeUtf8(e))).digest("base64");return h(n,r,i)})))(e,i,c);throw new Error("Unsupported auth version")}},3273:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSrp=t.generateProofs=t.srpHasher=void 0;const a=i(r(4431)),s=i(r(1798)),o=r(310),c=r(3762),u=r(7312),h=r(4287),f=new a.default(0),l=new a.default(1),d=new a.default(2);t.srpHasher=e=>o.expandHash(e);const p=e=>{return c.toBN((t=Buffer.alloc(e/8),s.default(t.length)));var t},y=({len:e,generator:r,modulus:i,serverEphemeralArray:s})=>n(void 0,void 0,void 0,(function*(){const n=(e=>{const t=new a.default(2*e);for(let r=0;r<u.MAX_VALUE_ITERATIONS;++r){const r=p(e);if(!r.isLessThanOrEqualTo(t))return r}throw new Error("Could not find safe client value")})(e),o=r.exponentiatedBy(n,i),h=c.fromBN(e,o),f=yield t.srpHasher(Buffer.concat([h,s]));return{clientSecret:n,clientEphemeral:o,scramblingParam:c.toBN(f)}}));t.generateProofs=({len:e,modulusArray:r,hashedPasswordArray:i,serverEphemeralArray:s})=>n(void 0,void 0,void 0,(function*(){const o=c.toBN(r),h=d,p=yield t.srpHasher(Buffer.concat([c.fromBN(e,h),r])),b=c.toBN(p),g=c.toBN(s),m=c.toBN(i),w=new a.default(o),v=w.minus(l),_=b.mod(w);if(_.isLessThanOrEqualTo(l)||_.isGreaterThanOrEqualTo(v))throw new Error("SRP multiplier is out of bounds");if(h.isLessThanOrEqualTo(l)||h.isGreaterThanOrEqualTo(v))throw new Error("SRP generator is out of bounds");if(g.isLessThanOrEqualTo(l)||g.isGreaterThanOrEqualTo(v))throw new Error("SRP server ephemeral is out of bounds");const{clientSecret:k,clientEphemeral:A,scramblingParam:S}=yield(({len:e,generator:t,modulus:r,serverEphemeralArray:i})=>n(void 0,void 0,void 0,(function*(){for(let n=0;n<u.MAX_VALUE_ITERATIONS;++n){const{clientSecret:n,clientEphemeral:a,scramblingParam:s}=yield y({len:e,generator:t,modulus:r,serverEphemeralArray:i});if(!s.isEqualTo(f))return{clientSecret:n,clientEphemeral:a,scramblingParam:s}}throw new Error("Could not find safe parameters")})))({len:e,generator:h,modulus:w,serverEphemeralArray:s});let E=g.minus(h.exponentiatedBy(m,w).multipliedBy(_).mod(w));E.isLessThan(f)&&(E=E.plus(w));const x=S.multipliedBy(m).plus(k).modulo(w.minus(l)),P=E.exponentiatedBy(x,w),M=c.fromBN(e,A),R=c.fromBN(e,P),C=yield t.srpHasher(Buffer.concat([M,s,R]));return{clientEphemeral:M,clientProof:C,expectedServerProof:yield t.srpHasher(Buffer.concat([M,C,R])),sharedSession:R}}));t.getSrp=({Version:e,Modulus:r,ServerEphemeral:i,Username:a,Salt:s},{password:c},f=e)=>n(void 0,void 0,void 0,(function*(){const e=yield h.getModulusWithoutVerification(r),n=Buffer.from(i,"base64"),l=yield o.hashPassword({version:f,password:c,salt:f<3?void 0:Buffer.from(s,"base64").toString("binary"),username:f<3?a:void 0,modulus:e}),{clientEphemeral:d,clientProof:p,expectedServerProof:y,sharedSession:b}=yield t.generateProofs({len:u.SRP_LEN,modulusArray:e,hashedPasswordArray:l,serverEphemeralArray:n});return{clientEphemeral:d.toString("base64"),clientProof:p.toString("base64"),expectedServerProof:y.toString("base64"),sharedSession:b}}))},3762:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fromBN=t.toBN=void 0;const i=n(r(4431));t.toBN=e=>{const t=Buffer.alloc(e.length);for(let r=0;r<e.length;r++)t[e.length-r-1]=e[r];return new i.default(t.toString("hex"),16)};t.fromBN=(e,t)=>{let r=t.toString(16);r.length%2!=0&&(r=`0${r}`);const n=Buffer.from(r,"hex"),i=new Buffer(e/8);for(let e=0;e<n.length;e++)i[n.length-e-1]=n[e];return i}},4287:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getModulusWithoutVerification=void 0;t.getModulusWithoutVerification=e=>r(void 0,void 0,void 0,(function*(){const t=e.split("\n").find((e=>e.length>60));if(void 0===t)throw new Error(`could not extract modulus from ${e}`);return Buffer.from(t,"base64")}))},689:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanUsername=void 0;t.cleanUsername=(e="")=>e.replace(/[.\-_]/g,"").toLowerCase()},4927:(e,t,r)=>{function n(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},5995:()=>{},2263:()=>{},2361:()=>{},4616:()=>{}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}return r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r(9620)})()}));
//# sourceMappingURL=index.browser.js.map